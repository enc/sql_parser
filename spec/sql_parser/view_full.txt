USE [production]
GO
/****** Object:  View [dbo].[status_bezahlte_rechnungen]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[status_bezahlte_rechnungen]
AS
SELECT     dbo.bls.bill_id, dbo.det.det_datum, dbo.detstatus.ds_det_id, dbo.detstatus.status_datum, dbo.det.det_user, dbo.det.Umsatz, dbo.bls.bill_nr, 
                      dbo.bls.bill_datum
FROM         dbo.bls INNER JOIN
                      dbo.detstatus INNER JOIN
                      dbo.det ON dbo.detstatus.ds_det_id = dbo.det.det_ID ON dbo.bls.Beleg = dbo.det.det_ID
WHERE     (dbo.detstatus.status_id = 132)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bls"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 228
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "detstatus"
            Begin Extent = 
               Top = 6
               Left = 266
               Bottom = 114
               Right = 419
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'status_bezahlte_rechnungen'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'status_bezahlte_rechnungen'
GO
/****** Object:  View [dbo].[status_bezahlte_buch_rechnungen_2008]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[status_bezahlte_buch_rechnungen_2008]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      detstatus.ds_det_id, 
      detstatus.status_datum, 
      bls.Betrag, 
      bls.Beleg, 
      bls.bill_nr
   FROM 
      detstatus 
         INNER JOIN bls 
         ON detstatus.ds_det_id = bls.Beleg
   WHERE (
      ((detstatus.status_datum) BETWEEN CONVERT(DATETIME, '2008-01-01T00:00:00.000', 126) AND CONVERT(DATETIME, '2008-01-20T00:00:00.000', 126)) AND 
      ((bls.Betrag) > 0) AND 
      ((bls.bill_nr) LIKE '1%' OR (bls.bill_nr) LIKE '2%') AND 
      ((detstatus.status_id) = 132))
GO
/****** Object:  View [dbo].[status_bezahlte_abo_rechnungen_2008]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[status_bezahlte_abo_rechnungen_2008]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      detstatus.ds_det_id, 
      detstatus.status_datum, 
      bls.Betrag, 
      bls.Beleg, 
      bls.bill_nr
   FROM 
      bls 
         INNER JOIN (detstatus 
         INNER JOIN (bst 
         INNER JOIN abos 
         ON bst.B_ID = abos.bst_id) 
         ON detstatus.ds_det_id = bst.b_det_ID) 
         ON bls.Beleg = bst.b_det_ID
   WHERE (
      ((detstatus.status_datum) BETWEEN CONVERT(DATETIME, '2008-01-01T00:00:00.000', 126) AND CONVERT(DATETIME, '2008-01-20T00:00:00.000', 126)) AND 
      ((bls.Betrag) > 0) AND 
      ((detstatus.status_id) = 132))
GO
/****** Object:  View [dbo].[status_bezahlte_abo_rechnungen]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[status_bezahlte_abo_rechnungen]
AS
SELECT     dbo.abos.id, dbo.detstatus.ds_det_id, CASE WHEN [status_datum] = '1/1/1979' THEN [datum] ELSE [status_datum] END AS zahlungsdatum
FROM         dbo.detstatus INNER JOIN
                      dbo.bst INNER JOIN
                      dbo.abos ON dbo.bst.B_ID = dbo.abos.bst_id ON dbo.detstatus.ds_det_id = dbo.bst.b_det_ID
WHERE     (dbo.detstatus.status_id = 132)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "detstatus"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 191
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 6
               Left = 229
               Bottom = 114
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'status_bezahlte_abo_rechnungen'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'status_bezahlte_abo_rechnungen'
GO
/****** Object:  View [dbo].[statistik_pooladressen_in_mailings]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[statistik_pooladressen_in_mailings]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT adress_pools.name, Count(mailing_adresses.adr_id) AS Anzahlvonadr_id
   FROM 
      mailing_adresses 
         INNER JOIN adress_pools 
         ON mailing_adresses.pool_id = adress_pools.id
   GROUP BY adress_pools.name
GO
/****** Object:  View [dbo].[states_zahlungen]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[states_zahlungen]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT xb_aktionen_codes.co_id, xb_aktionen_codes.code2 AS Ausdr1
   FROM xb_aktionen_codes
   WHERE (((xb_aktionen_codes.code1) = 'Zahlung'))
GO
/****** Object:  View [dbo].[states_abotiteln]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[states_abotiteln]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT xb_aktionen_codes.co_id, [code1] + ' ' + [code2] AS Ausdr1
   FROM xb_aktionen_codes
   WHERE (((xb_aktionen_codes.code1) = 'Abotitel'))
GO
/****** Object:  View [dbo].[status_stornierte_rechnungen]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[status_stornierte_rechnungen]
AS
SELECT     TOP (2147483647) dbo.det.det_ID AS ursprung, det_1.det_ID AS neu, dbo.det.storniert, det_1.det_alternativ_ID, det_1.det_datum, det_1.Projekt, 
                      det_1.Einstufung, det_1.Fächerung, det_1.det_ID AS storno_id, det_1.storniert AS det_storniert
FROM         dbo.det LEFT OUTER JOIN
                      dbo.det AS det_1 ON dbo.det.storniert = det_1.det_ID INNER JOIN
                      dbo.bls ON dbo.det.det_ID = dbo.bls.Beleg
WHERE     (det_1.Einstufung LIKE 'storn%') OR
                      (dbo.det.storniert IS NOT NULL) OR
                      (dbo.det.storniert > 0)
ORDER BY det_1.det_datum
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "det"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det_1"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 228
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 10
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'status_stornierte_rechnungen'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'status_stornierte_rechnungen'
GO
/****** Object:  View [dbo].[rz_bills]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[rz_bills]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT det.det_ID, det.det_prj_id, det.Einstufung, det.det_adr_ID
   FROM 
      det 
         LEFT JOIN bls 
         ON det.det_ID = bls.Beleg
   WHERE (
      ((det.det_prj_id) = 185 OR (det.det_prj_id) = 186) AND 
      ((det.Einstufung) = 'bestellung') AND 
      ((bls.Beleg) IS NULL) AND 
      ((det.det_datum) >= CONVERT(DATETIME, '2009-07-02T00:00:00.000', 126)))
GO
/****** Object:  View [dbo].[rp_adressen]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[rp_adressen]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT det.det_adr_ID AS detid
   FROM 
      det 
         INNER JOIN xb_projekte 
         ON det.det_prj_id = xb_projekte.prj_id
   WHERE (((xb_projekte.parent_prj_id) = 127))
   GROUP BY det.det_adr_ID
GO
/****** Object:  View [dbo].[rechnungshistorie]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[rechnungshistorie]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT TOP 9223372036854775807 WITH TIES 
      xb_user.alternativ_id AS agent, 
      user_rechnungen.adr_id, 
      user_rechnungen.det_id, 
      user_rechnungen.ausgestellt, 
      user_rechnungen.bezahlt, 
      user_rechnungen.storniert, 
      Max(wvl.wvl_datum) AS WVL, 
      user_rechnungen.ausgestellt_datum, 
      user_rechnungen.bezahlt_datum, 
      user_rechnungen.storniert_datum, 
      user_rechnungen.bezahlt_geld, 
      Sum(provision.value) AS Provision, 
      provision.user_id AS provision_user_id, 
      user_rechnungen.user_id, 
      user_rechnungen.storno_user_id, 
      ltrim(rtrim([adr].[vorname] + ' ' + [adr].[nachname])) AS Kunde, 
      user_rechnungen.bill_id, 
      user_rechnungen.amount_euro AS betrag, 
      user_rechnungen.Thema, 
      user_rechnungen.storniert_euro, 
      user_rechnungen.storniert_geld, 
      user_rechnungen.rg_nummer
   FROM 
      (((xb_user 
         INNER JOIN user_rechnungen 
         ON xb_user.id = user_rechnungen.user_id) 
         LEFT JOIN provision 
         ON user_rechnungen.det_id = provision.det_id) 
         LEFT JOIN adr 
         ON user_rechnungen.adr_id = adr.adr_ID) 
         LEFT JOIN wvl 
         ON user_rechnungen.adr_id = wvl.wvl_adr_id
   GROUP BY 
      xb_user.alternativ_id, 
      user_rechnungen.adr_id, 
      user_rechnungen.det_id, 
      user_rechnungen.ausgestellt, 
      user_rechnungen.bezahlt, 
      user_rechnungen.storniert, 
      user_rechnungen.ausgestellt_datum, 
      user_rechnungen.bezahlt_datum, 
      user_rechnungen.storniert_datum, 
      user_rechnungen.bezahlt_geld, 
      provision.user_id, 
      user_rechnungen.user_id, 
      user_rechnungen.storno_user_id, 
      ltrim(rtrim([adr].[vorname] + ' ' + [adr].[nachname])), 
      user_rechnungen.bill_id, 
      user_rechnungen.amount_euro, 
      user_rechnungen.Thema, 
      user_rechnungen.storniert_euro, 
      user_rechnungen.storniert_geld, 
      user_rechnungen.rg_nummer
   ORDER BY user_rechnungen.ausgestellt_datum DESC
GO
/****** Object:  View [dbo].[store_objects_state_shipped]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[store_objects_state_shipped]
AS
SELECT     id, lager_id, state_id
FROM         dbo.store_objects
WHERE     (state_id = 154)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "store_objects"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'store_objects_state_shipped'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'store_objects_state_shipped'
GO
/****** Object:  View [dbo].[store_objects_shipped_amounts]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[store_objects_shipped_amounts]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT store_objects.lager_id, store_states.updated_at, Count(store_objects.id) AS amount
   FROM 
      store_objects 
         INNER JOIN store_states 
         ON store_objects.id = store_states.store_id
   WHERE (((store_states.state_id) = 154))
   GROUP BY store_objects.lager_id, store_states.updated_at
GO
/****** Object:  View [dbo].[store_objects_prices_weights]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[store_objects_prices_weights]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT store_objects.lager_id, Avg(store_objects.price) AS price, Avg(store_objects.weight) AS weight
   FROM store_objects
   GROUP BY store_objects.lager_id
   HAVING (((Avg(store_objects.price)) > 0) AND ((Avg(store_objects.weight)) > 0))
GO
/****** Object:  View [dbo].[store_objects_destroyable]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create view [dbo].[store_objects_destroyable]
AS
SELECT store_objects.id, store_objects.state_id, store_objects.vendor_id
FROM store_objects LEFT JOIN store_states ON store_objects.id = store_states.store_id
WHERE (((store_objects.state_id) Is Null) AND ((store_states.store_id) Is Null) AND ((store_objects.abotitel_id)=0));
GO
/****** Object:  View [dbo].[store_objects_delivered_amounts]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[store_objects_delivered_amounts]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT store_objects.lager_id, store_states.updated_at, Count(store_objects.id) AS amount
   FROM 
      store_objects 
         INNER JOIN store_states 
         ON store_objects.id = store_states.store_id
   WHERE (((store_states.state_id) = 149))
   GROUP BY store_objects.lager_id, store_states.updated_at
GO
/****** Object:  View [dbo].[store_objects_delivered]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[store_objects_delivered]
AS
SELECT     dbo.store_states.updated_at, dbo.store_objects.id
FROM         dbo.store_objects INNER JOIN
                      dbo.store_states ON dbo.store_objects.id = dbo.store_states.store_id
WHERE     (dbo.store_states.state_id = 154)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "store_objects"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "store_states"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'store_objects_delivered'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'store_objects_delivered'
GO
/****** Object:  View [dbo].[store_objects_amounts_by_vendor]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[store_objects_amounts_by_vendor]
AS
SELECT     dbo.store_objects.lager_id, dbo.store_objects.vendor_id, SUM((CASE WHEN store_states.state_id IS NULL THEN 1 ELSE 0 END)) AS new, 
                      SUM((CASE WHEN store_states.state_id = 149 THEN 1 ELSE 0 END)) AS delivered, SUM((CASE WHEN store_states.state_id = 206 THEN 1 ELSE 0 END))
                       AS ordered, SUM((CASE WHEN store_states.state_id = 172 THEN 1 ELSE 0 END)) AS purchased, 
                      SUM((CASE WHEN store_states.state_id = 154 THEN 1 ELSE 0 END)) AS shipped, SUM((CASE WHEN store_states.state_id = 173 THEN 1 ELSE 0 END)) 
                      AS canceled, SUM((CASE WHEN store_states.state_id = 207 THEN 1 ELSE 0 END)) AS requested
FROM         dbo.store_objects LEFT OUTER JOIN
                      dbo.store_states ON dbo.store_objects.id = dbo.store_states.store_id
WHERE     (dbo.store_objects.lager_id > 0)
GROUP BY dbo.store_objects.vendor_id, dbo.store_objects.lager_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "store_objects"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "store_states"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'store_objects_amounts_by_vendor'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'store_objects_amounts_by_vendor'
GO
/****** Object:  View [dbo].[store_objects_amounts]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[store_objects_amounts]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      store_objects.lager_id, 
      Sum((
         CASE 
            WHEN store_states.state_id IS NULL THEN 1
            ELSE 0
         END)) AS new, 
      Sum((
         CASE 
            WHEN store_states.state_id = 149 THEN 1
            ELSE 0
         END)) AS delivered, 
      Sum((
         CASE 
            WHEN store_states.state_id = 206 THEN 1
            ELSE 0
         END)) AS ordered, 
      Sum((
         CASE 
            WHEN store_states.state_id = 172 THEN 1
            ELSE 0
         END)) AS purchased, 
      Sum((
         CASE 
            WHEN store_states.state_id = 154 THEN 1
            ELSE 0
         END)) AS shipped, 
      Sum((
         CASE 
            WHEN store_states.state_id = 173 THEN 1
            ELSE 0
         END)) AS canceled, 
      Sum((
         CASE 
            WHEN store_states.state_id = 207 THEN 1
            ELSE 0
         END)) AS requested
   FROM 
      store_objects 
         LEFT JOIN store_states 
         ON store_objects.id = store_states.store_id
   GROUP BY store_objects.lager_id
GO
/****** Object:  View [dbo].[store_object_states]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[store_object_states]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT xb_aktionen_codes.co_id, xb_aktionen_codes.typ, xb_aktionen_codes.code1, xb_aktionen_codes.code2
   FROM xb_aktionen_codes
   WHERE (((xb_aktionen_codes.typ) = 'Status') AND ((xb_aktionen_codes.code1) = 'abotitel'))
GO
/****** Object:  View [dbo].[store_spec_ids]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[store_spec_ids]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT xb_aktionen_codes.co_id, xb_aktionen_codes.typ, xb_aktionen_codes.code1, xb_aktionen_codes.code2
   FROM xb_aktionen_codes
   WHERE (((xb_aktionen_codes.typ) = 'Spezifikation') AND ((xb_aktionen_codes.code1) = 'Store'))
GO
/****** Object:  View [dbo].[store_history_states]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[store_history_states]
AS
SELECT     dbo.store_objects.lager_id, dbo.store_objects.vendor_id, dbo.store_objects.state_id AS store_objects_state_id, 
                      dbo.store_states.state_id AS store_states_state_id, COUNT(dbo.store_states.state_id) AS amount, CONVERT(datetime, CONVERT(varchar(10), 
                      COALESCE (dbo.store_states.updated_at, CONVERT(DATETIME, '1979-01-01 00:00:00', 102)), 101), 101) AS updated_at
FROM         dbo.store_objects LEFT OUTER JOIN
                      dbo.store_states ON dbo.store_objects.id = dbo.store_states.store_id
GROUP BY dbo.store_objects.lager_id, dbo.store_objects.vendor_id, dbo.store_objects.state_id, dbo.store_states.state_id, CONVERT(datetime, 
                      CONVERT(varchar(10), COALESCE (dbo.store_states.updated_at, CONVERT(DATETIME, '1979-01-01 00:00:00', 102)), 101), 101)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "store_objects"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "store_states"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 3255
         Alias = 1890
         Table = 3180
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'store_history_states'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'store_history_states'
GO
/****** Object:  View [dbo].[store_states_shipped]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[store_states_shipped]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT store_objects.id, store_objects.lager_id, store_states.state_id
   FROM 
      store_objects 
         INNER JOIN store_states 
         ON store_objects.id = store_states.store_id
   WHERE (((store_states.state_id) = 154))
GO
/****** Object:  View [dbo].[store_states_last]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[store_states_last]
AS
SELECT     store_id, MAX(updated_at) AS Maxvonupdated_at
FROM         dbo.store_states
GROUP BY store_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "store_states"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'store_states_last'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'store_states_last'
GO
/****** Object:  View [dbo].[provision_catalogs]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[provision_catalogs]
AS
SELECT     dbo.bst.b_det_ID, 0 AS umsatz, dbo.bks_kataloge.katalog_id
FROM         dbo.bst INNER JOIN
                      dbo.bks_kataloge ON dbo.bst.b_bks_id = dbo.bks_kataloge.bks_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bst"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks_kataloge"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'provision_catalogs'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'provision_catalogs'
GO
/****** Object:  View [dbo].[liste_objekte_aktiv]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[liste_objekte_aktiv]
AS
SELECT     TOP (2147483647) WITH TIES dbo.bks.bks_id, dbo.xb_aktionen_codes.code2, LTRIM(RTRIM(COALESCE (dbo.bks.titel, '') 
                      + ' ' + COALESCE (dbo.bks.subtitel, ''))) AS name, dbo.bks.verk_preis
FROM         dbo.bks INNER JOIN
                      dbo.xb_aktionen_codes ON dbo.bks.type = dbo.xb_aktionen_codes.co_id
WHERE     (dbo.bks.bks_prj_id = 162) AND (dbo.bks.katalog = 'true')
ORDER BY dbo.bks.titel
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bks"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "xb_aktionen_codes"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 158
               Right = 493
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'liste_objekte_aktiv'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'liste_objekte_aktiv'
GO
/****** Object:  View [dbo].[liste_kataloge]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[liste_kataloge]
AS
SELECT     TOP (2147483647) dbo.bks_kataloge.id, dbo.bks.bks_id, dbo.xb_aktionen_codes.code2, dbo.TRIM(COALESCE (dbo.bks.titel, N'') 
                      + ' ' + COALESCE (dbo.bks.subtitel, N'')) AS name, dbo.bks_kataloge.preis, dbo.bks_kataloge.provision
FROM         dbo.bks INNER JOIN
                      dbo.bks_kataloge ON dbo.bks.bks_id = dbo.bks_kataloge.bks_id INNER JOIN
                      dbo.xb_aktionen_codes ON dbo.bks.type = dbo.xb_aktionen_codes.co_id
ORDER BY dbo.bks.bks_id DESC
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bks"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks_kataloge"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "xb_aktionen_codes"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 191
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'liste_kataloge'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'liste_kataloge'
GO
/****** Object:  View [dbo].[liste_abo_kataloge]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[liste_abo_kataloge]
AS
SELECT     dbo.bks_kataloge.id, dbo.bks_kataloge.bks_id, dbo.bks_kataloge.preis, dbo.bks_kataloge.provision, dbo.bks_kataloge.katalog_id, 
                      dbo.bks_kataloge.created_at, dbo.bks_kataloge.updated_at
FROM         dbo.bks_kataloge LEFT OUTER JOIN
                      dbo.objects ON dbo.bks_kataloge.katalog_id = dbo.objects.id
WHERE     (dbo.objects.valid_until >= GETDATE()) OR
                      (dbo.objects.valid_until IS NULL)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bks_kataloge"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "objects"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'liste_abo_kataloge'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'liste_abo_kataloge'
GO
/****** Object:  View [dbo].[liste_abo]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[liste_abo]
AS
SELECT     TOP (2147483647) WITH TIES bks_id, LTRIM(RTRIM(COALESCE (titel, '') + ' ' + COALESCE (subtitel, ''))) AS name
FROM         dbo.bks
WHERE     (katalog = 'true')
GROUP BY bks_id, LTRIM(RTRIM(COALESCE (titel, '') + ' ' + COALESCE (subtitel, '')))
ORDER BY name
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bks"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'liste_abo'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'liste_abo'
GO
/****** Object:  View [dbo].[lieferscheine_presse]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[lieferscheine_presse]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      bks.rus_index, 
      lager.bks_id, 
      lager.name, 
      lager.ausgabe AS [lager_ausgabe], 
      lager.eingekauft, 
      1 AS [counter], 
      bks.eink_preis, 
      lager.ausgabe AS [lager_ausgabe$2]
   FROM 
      bks 
         INNER JOIN lager 
         ON bks.bks_id = lager.bks_id
   WHERE (((lager.eingekauft) > 0))
GO
/****** Object:  View [dbo].[lager_titeln]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[lager_titeln]
AS
SELECT     TOP (2147483647) dbo.bks.bks_id, LTRIM(RTRIM(dbo.bks.titel + ' ' + COALESCE (dbo.bks.subtitel, ''))) AS name
FROM         dbo.lager INNER JOIN
                      dbo.bks ON dbo.lager.bks_id = dbo.bks.bks_id
GROUP BY dbo.bks.bks_id, LTRIM(RTRIM(dbo.bks.titel + ' ' + COALESCE (dbo.bks.subtitel, '')))
ORDER BY LTRIM(RTRIM(dbo.bks.titel + ' ' + COALESCE (dbo.bks.subtitel, '')))
GO
/****** Object:  View [dbo].[mailings_versendete]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[mailings_versendete]
AS
SELECT     dbo.mailing_adresses.id, dbo.mailing_adresses.status_id, dbo.mailing_adresses.adr_id, dbo.mailing_waves.updated_at
FROM         dbo.mailing_waves INNER JOIN
                      dbo.mailing_adresses ON dbo.mailing_waves.id = dbo.mailing_adresses.wave_id
WHERE     (dbo.mailing_adresses.status_id = 170) AND (dbo.mailing_waves.updated_at >= CONVERT(datetime, CONVERT(varchar, GETDATE(), 104), 104) - 60)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "mailing_waves"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "mailing_adresses"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'mailings_versendete'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'mailings_versendete'
GO
/****** Object:  View [dbo].[mailings_pools]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[mailings_pools]
AS
SELECT     dbo.adress_pools.id, dbo.adress_pools.name, dbo.adress_pools.volume AS adress_pools_volume, dbo.adress_pools.sql, 
                      dbo.mailing_pools.volume AS mailing_pools_volume, dbo.mailing_pools.mailing_id
FROM         dbo.adress_pools INNER JOIN
                      dbo.mailing_pools ON dbo.adress_pools.id = dbo.mailing_pools.pool_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "adress_pools"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 121
               Right = 204
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "mailing_pools"
            Begin Extent = 
               Top = 6
               Left = 242
               Bottom = 121
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'mailings_pools'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'mailings_pools'
GO
/****** Object:  View [dbo].[mailings_adress_pool]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[mailings_adress_pool]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      adr.adr_ID, 
      adr.Anrede, 
      adr.Vorname, 
      adr.Nachname, 
      adr.Strasse, 
      adr.PLZ, 
      adr.Ort, 
      adr.Land, 
      adr.[E-Mail], 
      adr.[E-Mail2], 
      adr.Herkunft
   FROM 
      bls 
         RIGHT JOIN (bst 
         RIGHT JOIN ((kontos 
         RIGHT JOIN (adr 
         LEFT JOIN abos 
         ON adr.adr_ID = abos.adr_id) 
         ON kontos.adr_id = adr.adr_ID) 
         LEFT JOIN (det 
         LEFT JOIN detstatus 
         ON det.det_ID = detstatus.ds_det_id) 
         ON adr.adr_ID = det.det_adr_ID) 
         ON bst.b_det_ID = det.det_ID) 
         ON bls.Beleg = det.det_ID
   GROUP BY 
      adr.adr_ID, 
      adr.Anrede, 
      adr.Vorname, 
      adr.Nachname, 
      adr.Strasse, 
      adr.PLZ, 
      adr.Ort, 
      adr.Land, 
      adr.[E-Mail], 
      adr.[E-Mail2], 
      adr.Herkunft
GO
/****** Object:  View [dbo].[mailing_waves_pool]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[mailing_waves_pool]
AS
SELECT     dbo.mailing_pools.pool_id, dbo.mailing_pools.priority, 0 AS Anteil, dbo.mailing_pools.status, dbo.adress_pools.name, dbo.mailing_pools.volume, 
                      dbo.adress_pools.comment, dbo.adress_pools.sql, dbo.mailing_pools.mailing_id
FROM         dbo.adress_pools INNER JOIN
                      dbo.mailing_pools ON dbo.adress_pools.id = dbo.mailing_pools.pool_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "adress_pools"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "mailing_pools"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'mailing_waves_pool'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'mailing_waves_pool'
GO
/****** Object:  View [dbo].[mailing_waves_in_outbound]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[mailing_waves_in_outbound]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT mailing_waves.id, mailing_waves.name
   FROM 
      (xb_outbound 
         INNER JOIN mailing_adresses 
         ON xb_outbound.ob_adr_ID = mailing_adresses.adr_id) 
         INNER JOIN mailing_waves 
         ON mailing_adresses.wave_id = mailing_waves.id
   WHERE (((xb_outbound.ob_user) IS NULL) AND ((xb_outbound.erledigt) IS NULL))
   GROUP BY mailing_waves.id, mailing_waves.name
GO
/****** Object:  View [dbo].[news]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[news]
AS
SELECT     TOP (2147483647) CONVERT(varchar(10), dbo.user_mails.created_at, 102) + ' ' + dbo.xb_user.alternativ_id AS stamp, dbo.xb_mail.mail, 
                      dbo.xb_mail.mail_id, dbo.xb_mail.betreff, dbo.user_mails.created_at, dbo.xb_user.id AS creator_id, dbo.user_mails.user_id, dbo.user_mails.[read], 
                      dbo.user_mails.id
FROM         dbo.xb_user INNER JOIN
                      dbo.xb_mail INNER JOIN
                      dbo.user_mails ON dbo.xb_mail.mail_id = dbo.user_mails.mail_id ON dbo.xb_user.KK = dbo.xb_mail.von
ORDER BY dbo.user_mails.created_at
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[21] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "xb_user"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 121
               Right = 204
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "xb_mail"
            Begin Extent = 
               Top = 6
               Left = 242
               Bottom = 121
               Right = 408
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "user_mails"
            Begin Extent = 
               Top = 126
               Left = 38
               Bottom = 241
               Right = 204
            End
            DisplayFlags = 280
            TopColumn = 3
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'news'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'news'
GO
/****** Object:  View [dbo].[projektliste]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[projektliste]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT xb_projekte.prj_id, xb_projekte.prj_name, xb_projekte.prj_typ
   FROM xb_projekte
GO
/****** Object:  View [dbo].[projektkonten]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[projektkonten]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      xb_projekte.prj_id, 
      xb_projekte.prj_name, 
      (CASE 
         WHEN xb_konten.blz IS NOT NULL THEN xb_konten.blz
         ELSE xb_konten_1.blz
      END) AS prj_blz, 
      (CASE 
         WHEN xb_konten.kontonummer IS NOT NULL THEN xb_konten.kontonummer
         ELSE xb_konten_1.kontonummer
      END) AS prj_konto, 
      (CASE 
         WHEN xb_konten.bank IS NOT NULL THEN xb_konten.bank
         ELSE xb_konten_1.bank
      END) AS prj_bank, 
      (CASE 
         WHEN xb_konten.iban IS NOT NULL THEN xb_konten.iban
         ELSE xb_konten_1.iban
      END) AS prj_iban, 
      (CASE 
         WHEN xb_konten.bic IS NOT NULL THEN xb_konten.bic
         ELSE xb_konten_1.bic
      END) AS prj_bic, 
      xb_projekte.currency AS prj_currency
   FROM 
      ((xb_projekte 
         LEFT JOIN projekte_konten 
         ON xb_projekte.prj_id = projekte_konten.prj_id) 
         LEFT JOIN xb_konten 
         ON projekte_konten.konto_id = xb_konten.id) 
         LEFT JOIN (projekte_konten  AS projekte_konten_1 
         LEFT JOIN xb_konten  AS xb_konten_1 
         ON projekte_konten_1.konto_id = xb_konten_1.id) 
         ON xb_projekte.parent_prj_id = projekte_konten_1.prj_id
GO
/****** Object:  View [dbo].[projekte_ob_verteilung]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[projekte_ob_verteilung]
AS
SELECT     dbo.xb_projekte.prj_id, dbo.xb_projekte.prj_name, dbo.xb_projekte.parent_prj_id, COUNT(dbo.xb_outbound.ob_adr_ID) AS total, 
                      SUM((CASE WHEN [ob_user] IS NULL OR
                      [ob_user] = '' THEN 1 ELSE 0 END)) AS free
FROM         dbo.xb_projekte INNER JOIN
                      dbo.xb_outbound ON dbo.xb_projekte.prj_id = dbo.xb_outbound.ob_prj_ID
WHERE     (dbo.xb_projekte.prj_aktiv = 'true')
GROUP BY dbo.xb_projekte.prj_name, dbo.xb_projekte.prj_id, dbo.xb_projekte.parent_prj_id
HAVING      (SUM((CASE WHEN [ob_user] IS NULL OR
                      [ob_user] = '' THEN 1 ELSE 0 END)) > 0)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "xb_projekte"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "xb_outbound"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'projekte_ob_verteilung'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'projekte_ob_verteilung'
GO
/****** Object:  View [dbo].[projekte_ob_aktiv]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[projekte_ob_aktiv]
AS
SELECT     prj_id, prj_name, prj_typ
FROM         dbo.xb_projekte
WHERE     (prj_typ = 'outbound') AND (prj_aktiv = 'true')
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "xb_projekte"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'projekte_ob_aktiv'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'projekte_ob_aktiv'
GO
/****** Object:  View [dbo].[objekte_nach_projekten]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[objekte_nach_projekten] AS SELECT bks_kataloge.id, bks_kataloge.bks_id, bks_kataloge.preis, bks_kataloge.provision, xb_projekte.parent_prj_id, xb_projekte.prj_id, bks_kataloge.katalog_id FROM (xb_projekte INNER JOIN objects_projects ON xb_projekte.parent_prj_id = objects_projects.project_id) INNER JOIN bks_kataloge ON objects_projects.object_id = bks_kataloge.katalog_id WHERE (((objects_projects.active)=-1))
GO
/****** Object:  View [dbo].[podpiska_einstufungen_bestellung_neu]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[podpiska_einstufungen_bestellung_neu]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT xb_aktionen_est.est_id, xb_aktionen_est.fächerung, xb_projekte.prj_id
   FROM 
      xb_aktionen_est 
         INNER JOIN xb_projekte 
         ON xb_aktionen_est.est_prj_id = xb_projekte.prj_id
   WHERE (
      ((xb_aktionen_est.fächerung) = 'neu') AND 
      ((xb_projekte.prj_id) = 176) AND 
      ((xb_aktionen_est.Einstufung) = 'bestellung'))
GO
/****** Object:  View [dbo].[podpiska_bills]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[podpiska_bills]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      bls.bill_id, 
      bls.bill_adr_id, 
      bls.Beleg, 
      bls.bill_datum, 
      bls.Betrag, 
      bls_parts.serial
   FROM 
      bls 
         INNER JOIN bls_parts 
         ON bls.bill_id = bls_parts.bill_id
   WHERE (((bls_parts.serial) LIKE 'R%'))
GO
/****** Object:  View [dbo].[outbound_list_nichtzahler]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[outbound_list_nichtzahler]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT ob_adr_id
   FROM xb_outbound
   WHERE ob_prj_id = 135
GO
/****** Object:  View [dbo].[objects_active]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[objects_active]
AS
SELECT     dbo.objects_projects.project_id, dbo.objects.name, dbo.objects_projects.object_id, dbo.objects_projects.id, dbo.objects.rebates
FROM         dbo.objects_projects INNER JOIN
                      dbo.objects ON dbo.objects_projects.object_id = dbo.objects.id
WHERE     (dbo.objects_projects.active = 'true')
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "objects_projects"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "objects"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'objects_active'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'objects_active'
GO
/****** Object:  View [dbo].[orders_list]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[orders_list]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      det.det_ID, 
      det.det_prj_id, 
      det.det_alternativ_ID, 
      det.Projekt, 
      det.Einstufung, 
      det.Fächerung, 
      det.delivery_id, 
      det.billing_id, 
      bls.bank_account_id, 
      bls.bill_id, 
      bls.bill_datum, 
      bls.Betrag, 
      bls.Gebühr, 
      bls.porto, 
      bls.rabatt, 
      bls.gutschrift, 
      bls.raten, 
      bls.abbezahlt, 
      bls.currency, 
      bls.tax, 
      bls.payment_type, 
      bls.payment_type_original, 
      bls.rate_type, 
      bls.payment_day, 
      det.det_adr_ID AS adr_id, 
      bls.bill_prj_id, 
      det.det_user, 
      bls.bill_nr, 
      det.det_datum, 
      det.storniert
   FROM 
      bls 
         INNER JOIN det 
         ON bls.Beleg = det.det_ID
GO
/****** Object:  View [dbo].[order_items_list]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[order_items_list]
AS
SELECT     dbo.abos.id AS abo_id, dbo.bst.B_ID, dbo.bst.b_adr_ID, dbo.bst.b_det_ID, dbo.bst.b_bks_id, dbo.abos.status_id, dbo.bst.Artikel, dbo.bst.Summe, 
                      dbo.bst.Menge, dbo.abos.ausgaben, dbo.bst.freight AS Porto, COALESCE (dbo.subscriptions.open_end, 0) AS OE
FROM         dbo.abos RIGHT OUTER JOIN
                      dbo.bst ON dbo.abos.bst_id = dbo.bst.B_ID LEFT OUTER JOIN
                      dbo.subscriptions ON dbo.abos.id = dbo.subscriptions.abo_id
GROUP BY dbo.bst.B_ID, dbo.bst.b_adr_ID, dbo.bst.b_det_ID, dbo.bst.b_bks_id, dbo.abos.status_id, dbo.bst.Artikel, dbo.bst.Summe, dbo.bst.Menge, 
                      dbo.abos.ausgaben, dbo.bst.freight, COALESCE (dbo.subscriptions.open_end, 0), dbo.abos.id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "subscriptions"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'order_items_list'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'order_items_list'
GO
/****** Object:  View [dbo].[order_items_abotiteln]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[order_items_abotiteln]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      abotiteln.id, 
      abotiteln.abos_id, 
      abotiteln.ausgabe, 
      abotiteln.status_id AS Zustand, 
      abotiteln.geändert_am AS Datum
   FROM abotiteln
GO
/****** Object:  View [dbo].[projekte]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[projekte]
AS
SELECT     dbo.xb_projekte.prj_id, xb_projekte_1.prj_name AS parent_projekt, dbo.xb_projekte.parent_prj_id, dbo.xb_projekte.with_products, 
                      dbo.xb_projekte.prj_name, dbo.xb_projekte.sql_string, dbo.xb_projekte.prj_aktiv, dbo.xb_projekte.prj_start, dbo.xb_projekte.zahlengruppe, 
                      dbo.xb_projekte.exp_sql_string, dbo.xb_projekte.pfad, dbo.xb_projekte.restrictive, xb_projekte_1.zahlengruppe AS [group], 
                      ISNULL(xb_projekte_1.currency, dbo.xb_projekte.currency) AS currency, dbo.currencies.base_rate, dbo.currencies.currency_sign, 
                      dbo.currencies.country_id, ISNULL(dbo.xb_projekte.zahlengruppe, xb_projekte_1.zahlengruppe) AS rechnungsgruppe
FROM         dbo.xb_projekte LEFT OUTER JOIN
                      dbo.xb_projekte AS xb_projekte_1 ON dbo.xb_projekte.parent_prj_id = xb_projekte_1.prj_id LEFT OUTER JOIN
                      dbo.currencies ON xb_projekte_1.currency = dbo.currencies.currency
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "xb_projekte"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "xb_projekte_1"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "currencies"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'projekte'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'projekte'
GO
/****** Object:  View [dbo].[projects_reports]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[projects_reports]
AS
SELECT     prj_id AS id, prj_typ AS typ, prj_name AS beschreibung, exp_sql_string AS gesamt_string
FROM         dbo.xb_projekte
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "xb_projekte"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'projects_reports'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'projects_reports'
GO
/****** Object:  View [dbo].[product_categories]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[product_categories]
AS
SELECT     TOP (2147483647) WITH TIES bks_cat.cat_id, bks_cat.categorie AS category
FROM         (SELECT DISTINCT 
                                              bks_id, bks_prj_id, bks_cat_id, bks_verlag_id, bks_fremd_id, type, titel, subtitel, autor, serie, jahr, publication_date, isbn, periodicality, 
                                              auflage, umfang, format, gewicht, einband, papier, zusatz, image, link, eink_preis, verk_preis, rus_index, rang, katalog, preview, preorder, 
                                              SSMA_TimeStamp
                       FROM          dbo.bks AS bks_1) AS bks LEFT OUTER JOIN
                          (SELECT DISTINCT cat_id, cat_rang, parent_id, cat_prj_id, categorie
                            FROM          dbo.bks_cat AS bks_cat_1) AS bks_cat ON bks.bks_cat_id = bks_cat.cat_id LEFT OUTER JOIN
                          (SELECT DISTINCT ver_id, verlag, ort, form
                            FROM          dbo.bks_ver AS bks_ver_1) AS bks_ver ON bks.bks_verlag_id = bks_ver.ver_id LEFT OUTER JOIN
                          (SELECT DISTINCT kom_id, kom_bks_id, eintrag, SSMA_TimeStamp
                            FROM          dbo.bks_kom AS bks_kom_1) AS bks_kom ON bks.bks_id = bks_kom.kom_bks_id
WHERE     (bks_cat.categorie IS NOT NULL) AND (bks.katalog = 1) AND (bks.bks_prj_id = 74)
ORDER BY bks_cat.cat_id, category, bks.rang
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bks"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks_cat"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks_ver"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 191
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks_kom"
            Begin Extent = 
               Top = 114
               Left = 229
               Bottom = 222
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'product_categories'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'product_categories'
GO
/****** Object:  View [dbo].[kontos_eingezahlt_einzeln]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[kontos_eingezahlt_einzeln]
AS
SELECT     id, det_id, ein, ein AS raten, datum, konto_id
FROM         dbo.kontos
WHERE     (ein <> 0)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "kontos"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 212
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'kontos_eingezahlt_einzeln'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'kontos_eingezahlt_einzeln'
GO
/****** Object:  View [dbo].[kontos_eingezahlt]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[kontos_eingezahlt]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT kontos.det_id, Sum(kontos.[ein]) AS summe, Count(kontos.[ein]) AS raten, Max(kontos.datum) AS letztes_einzahlungsdatum
   FROM kontos
   WHERE (((kontos.[ein]) <> 0))
   GROUP BY kontos.det_id
GO
/****** Object:  View [dbo].[kontos_ein]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[kontos_ein]
AS
SELECT     det_id, SUM((CASE WHEN kontos.[Ein] >= 0 THEN kontos.[Ein] ELSE 0 END)) AS summe, COUNT(ein) AS raten, MAX(datum) 
                      AS letztes_einzahlungsdatum, SUM((CASE WHEN kontos.[Ein] < 0 THEN kontos.[Ein] ELSE 0 END)) AS verrechnet
FROM         dbo.kontos
WHERE     (ein <> 0)
GROUP BY det_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "kontos"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 228
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 4785
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'kontos_ein'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'kontos_ein'
GO
/****** Object:  View [dbo].[kontos_aus]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[kontos_aus]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   /*
   *   SSMA warning messages:
   *   A2SS0067: Synchronization may run with errors because columns names may repeat in '*' expression.
   */

   SELECT kontos.*
   FROM kontos
   WHERE (((kontos.[aus]) > 0))
GO
/****** Object:  View [dbo].[konten]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[konten]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT xb_konten.id, xb_konten.kontonummer, xb_konten.bank
   FROM xb_konten
GO
/****** Object:  View [dbo].[kataloge_pics]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[kataloge_pics] AS SELECT bks.bks_id, bks.image, bks.preview FROM bks INNER JOIN bks_kataloge ON bks.bks_id = bks_kataloge.bks_id WHERE (((bks.image) Is Not Null And (bks.image)<>''))
GO
/****** Object:  View [dbo].[history_abos]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[history_abos]
AS
SELECT     dbo.abos.id AS abo_id, dbo.det.det_ID, dbo.abos.adr_id, dbo.abos.bst_id, dbo.abos.bks_id, dbo.det.det_prj_id AS prj_id
FROM         dbo.det INNER JOIN
                      dbo.bst ON dbo.det.det_ID = dbo.bst.b_det_ID INNER JOIN
                      dbo.abos ON dbo.bst.B_ID = dbo.abos.bst_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "det"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'history_abos'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'history_abos'
GO
/****** Object:  View [dbo].[global_bestellsummen]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[global_bestellsummen]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT bst.b_det_ID, Sum(bst.Menge) AS SummevonMenge, Sum(bst.Summe) AS SummevonSumme, Count(bst.Menge) AS AnzahlvonMenge
   FROM bst
   GROUP BY bst.b_det_ID
GO
/****** Object:  View [dbo].[det_zahlungserinnerungen]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[det_zahlungserinnerungen]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT det.det_ID, det.det_datum, det.det_adr_ID
   FROM det
   WHERE (((det.Einstufung) = 'Mailing') AND ((det.Fächerung) = 'Zahlungserinnerung'))
GO
/****** Object:  View [dbo].[det_umtausche]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[det_umtausche]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT det.det_ID
   FROM det
   WHERE (((det.Fächerung) = 'Umtausch'))
GO
/****** Object:  View [dbo].[Duplikate suchen zu detstatus]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
/*
*   SSMA warning messages:
*   A2SS0030: View 'Duplikate suchen zu detstatus' has a name that might cause problems for the Access application to function correctly against SQL Server.
*/

CREATE VIEW [dbo].[Duplikate suchen zu detstatus]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT TOP 9223372036854775807 WITH TIES 
      detstatus.ds_det_id, 
      detstatus.status_id, 
      detstatus.ds_id, 
      detstatus.status_datum, 
      detstatus.created_on, 
      detstatus.updated_on
   FROM detstatus
   WHERE (((detstatus.ds_det_id) > 0 AND (detstatus.ds_det_id) IN 
      (
         SELECT [ds_det_id]
         FROM [detstatus]  AS Tmp
         GROUP BY [ds_det_id], [status_id]
         HAVING Count(*) > 1 AND [status_id] = [detstatus].[status_id]
      )) AND ((detstatus.status_id) = 132 OR (detstatus.status_id) = 164))
   ORDER BY detstatus.ds_det_id, detstatus.status_id
GO
/****** Object:  View [dbo].[dtag_export_einzugsermächtigungen]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[dtag_export_einzugsermächtigungen]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      bank_accounts.inhaber, 
      bank_accounts.konto, 
      bank_accounts.blz, 
      bank_accounts.iban, 
      bank_accounts.swift, 
      bank_accounts.bank, 
      kontos.[ein], 
      kontos.[aus], 
      kontos.verwendungszweck, 
      'cc media & more gmbh / gps' AS aussteller, 
      kontos.datum AS auftragsdatum
   FROM 
      (bls 
         INNER JOIN kontos 
         ON bls.Beleg = kontos.det_id) 
         INNER JOIN bank_accounts 
         ON kontos.adr_id = bank_accounts.adr_id
   WHERE (((kontos.datum) > CONVERT(DATETIME, '2009-10-01T00:00:00.000', 126)))
GO
/****** Object:  View [dbo].[detstatus_letzter_status]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[detstatus_letzter_status]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT Max(detstatus.ds_id) AS Maxvonds_id, detstatus.ds_det_id, detstatus.ds_bst_id
   FROM detstatus
   GROUP BY detstatus.ds_det_id, detstatus.ds_bst_id
GO
/****** Object:  View [dbo].[detstatus_bst_versendet]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[detstatus_bst_versendet]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT detstatus.ds_id, detstatus.ds_bst_id, detstatus.status_id
   FROM detstatus
   WHERE (((detstatus.ds_bst_id) > 0) AND ((detstatus.status_id) = 141))
GO
/****** Object:  View [dbo].[detstatus_bezahlt]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[detstatus_bezahlt]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT detstatus.ds_det_id
   FROM detstatus
   WHERE (((detstatus.status_id) = 132))
   GROUP BY detstatus.ds_det_id
GO
/****** Object:  View [dbo].[det_einstufungen]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[det_einstufungen]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT det.det_ID, det.Einstufung, det.Fächerung
   FROM det
GO
/****** Object:  View [dbo].[einstufungen_storno_mit_aktion]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[einstufungen_storno_mit_aktion]
AS
SELECT     TOP (2147483647) est_id, Einstufung + ':' + fächerung AS Resultat, folgeaktion, folgeparameter1, folgeparameter2
FROM         dbo.xb_aktionen_est
WHERE     (Einstufung LIKE '%stornierung%') AND (LEN(folgeaktion) > 0) AND (LEN(folgeparameter1) > 0)
ORDER BY Resultat
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "xb_aktionen_est"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'einstufungen_storno_mit_aktion'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'einstufungen_storno_mit_aktion'
GO
/****** Object:  View [dbo].[lager_historie_versand]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[lager_historie_versand] AS SELECT lager_history.id, lager_history.lager_id FROM lager_history WHERE (((lager_history.est_id)=1960))
GO
/****** Object:  View [dbo].[lager_historie_mit_titeln]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[lager_historie_mit_titeln]
AS
SELECT     TOP (2147483647) dbo.lager_history.id, dbo.lager_history.history_id, dbo.lager_history.est_id, dbo.lager_history.bks_id, dbo.lager_history.lager_id, 
                      dbo.lager_history.created_at, dbo.lager_history.created_by, dbo.lager_history.ist, dbo.lager_history.soll, dbo.lager_history.Eingekauft, 
                      dbo.lager_history.Kommentar, dbo.lager_history.[File], dbo.bks.titel, dbo.bks.subtitel, dbo.xb_aktionen_est.Einstufung, dbo.xb_aktionen_est.fächerung, 
                      dbo.lager.ausgabe, dbo.TRIM(COALESCE (dbo.bks.titel, N'') + N'' + COALESCE (dbo.bks.subtitel, N'')) AS full_title, 
                      dbo.bks.verk_preis * dbo.lager_history.ist AS preis, dbo.bks.gewicht * dbo.lager_history.ist / 1000 AS weight
FROM         dbo.lager_history LEFT OUTER JOIN
                      dbo.xb_aktionen_est ON dbo.lager_history.est_id = dbo.xb_aktionen_est.est_id INNER JOIN
                      dbo.lager ON dbo.lager_history.lager_id = dbo.lager.id INNER JOIN
                      dbo.bks ON dbo.lager.bks_id = dbo.bks.bks_id
ORDER BY dbo.bks.titel, dbo.bks.subtitel
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "lager_history"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 191
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "xb_aktionen_est"
            Begin Extent = 
               Top = 6
               Left = 229
               Bottom = 114
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "lager"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks"
            Begin Extent = 
               Top = 114
               Left = 241
               Bottom = 222
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 21
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
        ' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'lager_historie_mit_titeln'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N' Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'lager_historie_mit_titeln'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'lager_historie_mit_titeln'
GO
/****** Object:  View [dbo].[lager_historie_kommentare]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[lager_historie_kommentare]
AS
SELECT     dbo.lager_history.id, dbo.lager.ausgabe AS lager_ausgabe, dbo.lager_history.est_id, dbo.lager.id AS lager_id, dbo.lager.ausgabe AS lager_ausgabe$2,
                       LTRIM(RTRIM(COALESCE (dbo.bks.titel, '') + ' ' + COALESCE (dbo.bks.subtitel, ''))) AS titel, dbo.lager_history.Kommentar, dbo.lager_history.bks_id, 
                      dbo.lager_history.created_at
FROM         dbo.bks INNER JOIN
                      dbo.lager_history ON dbo.bks.bks_id = dbo.lager_history.bks_id LEFT OUTER JOIN
                      dbo.lager ON dbo.lager_history.lager_id = dbo.lager.id
WHERE     (dbo.lager_history.est_id = 2205) AND (dbo.lager_history.Kommentar IS NOT NULL)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bks"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "lager_history"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "lager"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'lager_historie_kommentare'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'lager_historie_kommentare'
GO
/****** Object:  View [dbo].[lager_historie_einlieferung]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[lager_historie_einlieferung] AS SELECT lager_history.id FROM lager_history WHERE (((lager_history.est_id)=1959))
GO
/****** Object:  View [dbo].[lager_ausgaben_historie_gruppiert]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[lager_ausgaben_historie_gruppiert]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT TOP 9223372036854775807 WITH TIES lager.ausgabe, ((CAST(round(lager.ausgabe, 0) AS int)) % (CAST(round(100, 0) AS int))) * 100 + ((CAST(round(lager.ausgabe, 0) AS int)) / 100) AS Ausdr1, lager_history.bks_id
   FROM 
      lager 
         LEFT JOIN lager_history 
         ON lager.id = lager_history.lager_id
   GROUP BY lager.ausgabe, lager_history.bks_id
   HAVING (((lager_history.bks_id) IS NOT NULL))
   ORDER BY ((CAST(round(lager.ausgabe, 0) AS int)) % (CAST(round(100, 0) AS int))) * 100 + ((CAST(round(lager.ausgabe, 0) AS int)) / 100)
GO
/****** Object:  View [dbo].[lager_ausgaben_gruppiert]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[lager_ausgaben_gruppiert]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT TOP 9223372036854775807 WITH TIES lager.ausgabe, ((CAST(round(lager.ausgabe, 0) AS int)) % (CAST(round(100, 0) AS int))) * 100 + ((CAST(round(lager.ausgabe, 0) AS int)) / 100) AS Ausdr1
   FROM lager
   GROUP BY lager.ausgabe
   ORDER BY ((CAST(round(lager.ausgabe, 0) AS int)) % (CAST(round(100, 0) AS int))) * 100 + ((CAST(round(lager.ausgabe, 0) AS int)) / 100)
GO
/****** Object:  View [dbo].[lager_ausgaben]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[lager_ausgaben]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT TOP 9223372036854775807 WITH TIES lager.id, lager.ausgabe, lager_history.bks_id, ((CAST(round(lager.ausgabe, 0) AS int)) % (CAST(round(100, 0) AS int))) * 100 + ((CAST(round(lager.ausgabe, 0) AS int)) / 100) AS Ausdr1
   FROM 
      lager 
         LEFT JOIN lager_history 
         ON lager.id = lager_history.lager_id
   GROUP BY lager.id, lager.ausgabe, lager_history.bks_id
   ORDER BY ((CAST(round(lager.ausgabe, 0) AS int)) % (CAST(round(100, 0) AS int))) * 100 + ((CAST(round(lager.ausgabe, 0) AS int)) / 100)
GO
/****** Object:  View [dbo].[lager_nicht_kaufbar]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[lager_nicht_kaufbar]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT lager.id, lager.bks_id, lager.ausgabe
   FROM 
      (
         SELECT DISTINCT *
         FROM lager
      )  AS lager
   WHERE (((lager.status_id) = 173 OR (lager.status_id) = 221))
GO
/****** Object:  View [dbo].[lager_short]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[lager_short] AS SELECT lager.id, lager.bks_id, lager.name, lager.ausgabe, lager.ausgabe_reverse, lager.erstellt_am, lager.geändert_am, lager.status_id FROM lager
GO
/****** Object:  View [dbo].[kunden_ob]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[kunden_ob]
AS
SELECT     dbo.adr.adr_ID, COALESCE (dbo.adr.Anrede, N'') + N' ' + COALESCE (dbo.adr.Vorname, N'') AS name, dbo.adr.Nachname AS name_2, 
                      dbo.adr.Strasse AS address, dbo.adr.PLZ + ' ' + dbo.adr.Ort AS address_2, dbo.adr.Land + (CASE WHEN [county] IS NOT NULL THEN ', ' + [county] END)
                       + (CASE WHEN [region] IS NOT NULL THEN ', ' + [region] END) AS address_3, dbo.xb_outbound.ob_prj_ID, dbo.adr.VW + dbo.adr.Tel AS phone, 
                      dbo.adr.VW2 + dbo.adr.Tel2 AS phone_2, dbo.adr.VW3 + dbo.adr.Tel3 AS phone_3, dbo.adr.[E-Mail] AS mail, dbo.adr.[E-Mail2] AS mail_2
FROM         dbo.adr INNER JOIN
                      dbo.xb_outbound ON dbo.adr.adr_ID = dbo.xb_outbound.ob_adr_ID
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "adr"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "xb_outbound"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 10410
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'kunden_ob'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'kunden_ob'
GO
/****** Object:  View [dbo].[kontoumsätze]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[kontoumsätze]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT TOP 9223372036854775807 WITH TIES 
      kontos.id, 
      kontos.adr_id, 
      kontos.verwendungszweck, 
      kontos.[ein], 
      kontos.[aus], 
      kontos.datum, 
      kontos.det_id, 
      kontos.bt_id, 
      kontos.konto_id
   FROM kontos
   ORDER BY kontos.datum DESC
GO
/****** Object:  View [dbo].[kontos_geldeinzahlungen]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[kontos_geldeinzahlungen]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   /*
   *   SSMA warning messages:
   *   A2SS0067: Synchronization may run with errors because columns names may repeat in '*' expression.
   */

   SELECT kontos.*
   FROM kontos
   WHERE (((kontos.[ein]) > 0) AND ((kontos.verwendungszweck) NOT LIKE '%gutsch%'))
GO
/****** Object:  View [dbo].[bookalor_projekte]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bookalor_projekte]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT TOP 9223372036854775807 WITH TIES xb_projekte.prj_id, xb_projekte.prj_name
   FROM 
      bks 
         RIGHT JOIN xb_projekte 
         ON bks.bks_prj_id = xb_projekte.prj_id
   WHERE (((xb_projekte.parent_prj_id) = xb_projekte.prj_id))
   GROUP BY xb_projekte.prj_id, xb_projekte.prj_name
   ORDER BY xb_projekte.prj_name
GO
/****** Object:  View [dbo].[codes_payment]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[codes_payment]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   /*
   *   SSMA warning messages:
   *   A2SS0067: Synchronization may run with errors because columns names may repeat in '*' expression.
   */

   SELECT xb_aktionen_codes.*
   FROM xb_aktionen_codes
   WHERE (((xb_aktionen_codes.code1) = 'Raten'))
GO
/****** Object:  View [dbo].[codes_bills]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[codes_bills]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT xb_aktionen_codes.co_id, [code1] + ' ' + [code2] AS Zustand
   FROM xb_aktionen_codes
   WHERE (((xb_aktionen_codes.typ) = 'Status') AND ((xb_aktionen_codes.code1) = 'Rechnung'))
GO
/****** Object:  View [dbo].[catalogs_germany]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[catalogs_germany]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT objects.id, objects.issue, objects_projects.active
   FROM 
      objects_projects 
         RIGHT JOIN objects 
         ON objects_projects.object_id = objects.id
   WHERE ((
      (objects.issue) NOT LIKE '%A%' AND 
      (objects.issue) NOT LIKE '%EU%' AND 
      (objects.issue) NOT LIKE '%S%' AND 
      (objects.issue) NOT LIKE '%ch%' AND 
      (objects.issue) NOT LIKE '%row%' AND 
      (objects.issue) <> '0') AND ((objects.prj_id) = 127))
GO
/****** Object:  View [dbo].[buchverwaltung_kategorien_artikelliste]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[buchverwaltung_kategorien_artikelliste]
AS
SELECT     TOP (2147483647) dbo.bks.bks_id, dbo.bks.bks_cat_id, dbo.xb_aktionen_codes.code2, dbo.TRIM(COALESCE (dbo.bks.titel, '') 
                      + ' ' + COALESCE (dbo.bks.subtitel, '')) AS name, dbo.bks_kataloge.position
FROM         dbo.bks INNER JOIN
                      dbo.xb_aktionen_codes ON dbo.bks.type = dbo.xb_aktionen_codes.co_id INNER JOIN
                      dbo.bks_kataloge ON dbo.bks.bks_id = dbo.bks_kataloge.bks_id
WHERE     (dbo.bks.bks_cat_id = 78)
ORDER BY dbo.bks_kataloge.position, dbo.bks.titel
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bks"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "xb_aktionen_codes"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks_kataloge"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'buchverwaltung_kategorien_artikelliste'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'buchverwaltung_kategorien_artikelliste'
GO
/****** Object:  View [dbo].[buchverwaltung_kategorien]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[buchverwaltung_kategorien]
AS
SELECT     TOP (2147483647) dbo.bks_cat.cat_id, dbo.bks_cat.categorie
FROM         dbo.bks_cat RIGHT OUTER JOIN
                      dbo.bks ON dbo.bks_cat.cat_id = dbo.bks.bks_cat_id INNER JOIN
                      dbo.bks_kataloge ON dbo.bks.bks_id = dbo.bks_kataloge.bks_id
GROUP BY dbo.bks_cat.cat_id, dbo.bks_cat.categorie
ORDER BY dbo.bks_cat.categorie
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bks_cat"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks"
            Begin Extent = 
               Top = 6
               Left = 245
               Bottom = 114
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks_kataloge"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'buchverwaltung_kategorien'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'buchverwaltung_kategorien'
GO
/****** Object:  View [dbo].[buchverwaltung_kataloge]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[buchverwaltung_kataloge]
AS
SELECT     TOP (2147483647) dbo.objects.id, dbo.objects.prj_id, dbo.objects.name, dbo.objects.issue
FROM         dbo.objects LEFT OUTER JOIN
                      dbo.bks_kataloge ON dbo.objects.id = dbo.bks_kataloge.katalog_id
WHERE     (dbo.objects.type = 165)
GROUP BY dbo.objects.id, dbo.objects.prj_id, dbo.objects.name, dbo.objects.issue
ORDER BY dbo.objects.name
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "objects"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks_kataloge"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'buchverwaltung_kataloge'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'buchverwaltung_kataloge'
GO
/****** Object:  View [dbo].[buchverwaltung_katalog_kategorien]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[buchverwaltung_katalog_kategorien]
AS
SELECT     TOP (2147483647) dbo.bks_cat.cat_id, dbo.bks_cat.categorie
FROM         dbo.bks_cat RIGHT OUTER JOIN
                      dbo.bks ON dbo.bks_cat.cat_id = dbo.bks.bks_cat_id INNER JOIN
                      dbo.bks_kataloge ON dbo.bks.bks_id = dbo.bks_kataloge.bks_id
GROUP BY dbo.bks_cat.cat_id, dbo.bks_cat.categorie
ORDER BY dbo.bks_cat.categorie
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bks_cat"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks"
            Begin Extent = 
               Top = 6
               Left = 245
               Bottom = 114
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks_kataloge"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'buchverwaltung_katalog_kategorien'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'buchverwaltung_katalog_kategorien'
GO
/****** Object:  View [dbo].[bt_extended]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bt_extended]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   /*
   *   SSMA warning messages:
   *   A2SS0067: Synchronization may run with errors because columns names may repeat in '*' expression.
   */

   SELECT 
      bank_transactions.*, 
      bls.bill_adr_id AS adr_id, 
      bls.bill_prj_id AS prj_id, 
      bls.Beleg AS det_id, 
      bls.Betrag, 
      bls.currency AS währung
   FROM 
      bank_transactions 
         INNER JOIN bls 
         ON bank_transactions.bill_id = bls.bill_id
GO
/****** Object:  View [dbo].[bt_bill_last_due_date]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bt_bill_last_due_date]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT bank_transactions.bill_id, Max(bank_transactions.due_at) AS [Letztes Einzugsdatum]
   FROM bank_transactions
   WHERE (((bank_transactions.state_id) = 228 OR (bank_transactions.state_id) = 230))
   GROUP BY bank_transactions.bill_id
GO
/****** Object:  View [dbo].[bst_summen]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bst_summen]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      bst.b_det_ID, 
      Sum([Summe] * (1 - bst.rabatt)) AS bestellsumme, 
      Count(bst.B_ID) AS anzahl, 
      Sum([eink_preis] * isnull(abos.ausgaben, 1)) AS einkaufssumme, 
      Sum(abos.ausgaben) AS heftanzahl
   FROM 
      ((bls 
         INNER JOIN (det 
         INNER JOIN bst 
         ON det.det_ID = bst.b_det_ID) 
         ON bls.Beleg = det.det_ID) 
         LEFT JOIN bks 
         ON bst.b_bks_id = bks.bks_id) 
         LEFT JOIN abos 
         ON bst.B_ID = abos.bst_id
   WHERE (((det.storniert) IS NULL OR (det.storniert) = 0))
   GROUP BY bst.b_det_ID
GO
/****** Object:  View [dbo].[bst_bks_amounts]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bst_bks_amounts]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      bst.B_ID, 
      bst.b_adr_ID AS adr_id, 
      bst.b_det_ID AS det_id, 
      bst.Datum, 
      bst.b_bks_id AS bks_id, 
      bst.amount
   FROM bst
   WHERE (((bst.b_bks_id) > 0))
GO
/****** Object:  View [dbo].[bls_partlos]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bls_partlos]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT bls.bill_id
   FROM 
      bls 
         LEFT JOIN bls_parts 
         ON bls.bill_id = bls_parts.bill_id
   WHERE (((bls_parts.bill_id) IS NULL))
GO
/****** Object:  View [dbo].[countries_codes]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[countries_codes]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      countries.ID, 
      countries.fullname, 
      countries.deutsch, 
      countries.alpha2, 
      countries_xp.[ISO 4217 Currency Code], 
      countries_xp.[ISO 4217 Currency Name], 
      countries_xp.[ITU-T Telephone Code], 
      countries_xp.[Formal Name], 
      countries.english
   FROM 
      countries 
         INNER JOIN countries_xp 
         ON countries.alpha3 = countries_xp.[ISO 3166-1 3 Letter Code]
GO
/****** Object:  View [dbo].[bonus_calculation]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bonus_calculation] AS SELECT bks_kataloge.id, bonuses.amount, bonuses.bonus_type FROM bks_kataloge INNER JOIN bonuses ON bks_kataloge.id=bonuses.catalog_item_id
GO
/****** Object:  View [dbo].[blzs]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[blzs]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT TOP 9223372036854775807 WITH TIES blz.Bankleitzahl
   FROM blz
   GROUP BY blz.Bankleitzahl
   ORDER BY blz.Bankleitzahl
GO
/****** Object:  View [dbo].[blz_banknamen]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[blz_banknamen]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      blz.ID, 
      blz.Bankleitzahl, 
      blz.Kurzbezeichnung, 
      blz.BIC, 
      blz.Prüfzifferberechnungsmethode
   FROM blz
GO
/****** Object:  View [dbo].[bks_kataloge_last_id]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bks_kataloge_last_id] AS SELECT bks_kataloge.bks_id, Max(bks_kataloge.katalog_id) AS last_katalog_id FROM bks_kataloge GROUP BY bks_kataloge.bks_id
GO
/****** Object:  View [dbo].[bks_annotationen_neueste]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bks_annotationen_neueste] AS SELECT bks_kom.kom_bks_id, Max(bks_kom.kom_id) AS Maxvonkom_id, Min(bks_kom.kom_id) AS Minvonkom_id FROM bks_kom GROUP BY bks_kom.kom_bks_id
GO
/****** Object:  View [dbo].[det_bestellungen]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[det_bestellungen]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   /*
   *   SSMA warning messages:
   *   A2SS0067: Synchronization may run with errors because columns names may repeat in '*' expression.
   */

   SELECT det.*
   FROM det
   WHERE (((det.Einstufung) = 'Bestellung'))
GO
/****** Object:  View [dbo].[det_autoverlängerungen]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[det_autoverlängerungen]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT det.det_ID, det.Fächerung
   FROM det
   WHERE (((det.Fächerung) = 'autoverlängerung'))
GO
/****** Object:  View [dbo].[cronjobs]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[cronjobs]
AS
SELECT     TOP (2147483647) WITH TIES id, [#], name, sequence, updated_at, doit, dow, dom, month, hour, minute, recurring, send_email
FROM         dbo.cron
WHERE     (doit = 'true')
ORDER BY [#]
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "cron"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 14
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'cronjobs'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'cronjobs'
GO
/****** Object:  View [dbo].[det_probeabos]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[det_probeabos]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   /*
   *   SSMA warning messages:
   *   A2SS0067: Synchronization may run with errors because columns names may repeat in '*' expression.
   */

   SELECT det.*
   FROM det
   WHERE (((det.est_id) = 3129))
GO
/****** Object:  View [dbo].[det_letzte_einstufung_wünscht_katalog]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[det_letzte_einstufung_wünscht_katalog]
AS
SELECT     MAX(det_ID) AS Maxvondet_ID, MAX(det_datum) AS Maxvondet_datum, det_adr_ID
FROM         dbo.det
WHERE     (Einstufung LIKE 'wünscht%') AND (Projekt LIKE N'рп%' OR
                      Projekt LIKE N'%печать%')
GROUP BY det_adr_ID
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "det"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'det_letzte_einstufung_wünscht_katalog'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'det_letzte_einstufung_wünscht_katalog'
GO
/****** Object:  View [dbo].[det_letzte_abo_bestellung]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[det_letzte_abo_bestellung]
AS
SELECT     MAX(dbo.det.det_ID) AS letzte_det_id, MAX(dbo.det.det_datum) AS letztes_det_datum, dbo.det.det_adr_ID
FROM         dbo.bst INNER JOIN
                      dbo.det ON dbo.bst.b_det_ID = dbo.det.det_ID INNER JOIN
                      dbo.abos ON dbo.bst.B_ID = dbo.abos.bst_id
WHERE     (dbo.det.Einstufung = 'Bestellung')
GROUP BY dbo.det.det_adr_ID
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bst"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'det_letzte_abo_bestellung'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'det_letzte_abo_bestellung'
GO
/****** Object:  View [dbo].[countries_taxes]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[countries_taxes]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   /*
   *   SSMA warning messages:
   *   A2SS0067: Synchronization may run with errors because columns names may repeat in '*' expression.
   */

   SELECT countries.*, countries_costs.additional_cost, countries_costs.taxes
   FROM 
      countries_costs 
         INNER JOIN countries 
         ON countries_costs.country_code = countries.alpha2
GO
/****** Object:  View [dbo].[countries_porto_costs]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[countries_porto_costs]
AS
SELECT     dbo.countries_costs.id, dbo.countries_costs.country_code, dbo.xb_tarife_ausland_abos.name, dbo.xb_tarife_ausland_abos.weight_step, 
                      dbo.xb_tarife_ausland_abos.price_pp, dbo.xb_tarife_ausland_abos.price, dbo.xb_tarife_ausland_abos.weight, 
                      dbo.xb_tarife_ausland_abos.id AS tarif_id, dbo.countries_costs.taxes
FROM         dbo.xb_tarife_ausland_abos RIGHT OUTER JOIN
                      dbo.countries_costs ON dbo.xb_tarife_ausland_abos.id = dbo.countries_costs.tarif_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "xb_tarife_ausland_abos"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "countries_costs"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1965
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'countries_porto_costs'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'countries_porto_costs'
GO
/****** Object:  View [dbo].[country_konten]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[country_konten]
AS
SELECT     dbo.countries.ID, dbo.countries.deutsch, dbo.countries_kontos.konto_id, dbo.countries.alpha2, dbo.countries.alpha3, dbo.xb_konten.kontonummer, 
                      dbo.xb_konten.blz, dbo.xb_konten.bank, dbo.xb_konten.iban, dbo.xb_konten.bic, dbo.xb_konten.importspezifikation
FROM         dbo.countries INNER JOIN
                      dbo.countries_kontos ON dbo.countries.alpha3 = dbo.countries_kontos.country_id INNER JOIN
                      dbo.xb_konten ON dbo.countries_kontos.konto_id = dbo.xb_konten.id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "countries"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 193
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "countries_kontos"
            Begin Extent = 
               Top = 6
               Left = 231
               Bottom = 99
               Right = 384
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "xb_konten"
            Begin Extent = 
               Top = 102
               Left = 231
               Bottom = 210
               Right = 400
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'country_konten'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'country_konten'
GO
/****** Object:  View [dbo].[bills_with_payrates]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_with_payrates]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      bls.bill_id, 
      bls.bill_nr, 
      bls.bill_adr_id, 
      bls.bank_account_id, 
      bls.Beleg, 
      bls.bill_datum, 
      bls.Betrag, 
      bls.raten, 
      bls.abbezahlt, 
      (CASE 
         WHEN [payment_type] = 226 THEN 'Einzugsermächtigung'
         ELSE 'Rechnung'
      END) AS Zahlungsart, 
      bls.rate_type, 
      bls.payment_day, 
      bls.payment_type
   FROM 
      bls 
         INNER JOIN bank_transactions 
         ON bls.bill_id = bank_transactions.bill_id
   GROUP BY 
      bls.bill_id, 
      bls.bill_nr, 
      bls.bill_adr_id, 
      bls.bank_account_id, 
      bls.Beleg, 
      bls.bill_datum, 
      bls.Betrag, 
      bls.raten, 
      bls.abbezahlt, 
      bls.rate_type, 
      bls.payment_day, 
      bls.payment_type
GO
/****** Object:  View [dbo].[abos_internet]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_internet]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT abos.id, abos.adr_id
   FROM 
      (bls 
         INNER JOIN bls_parts 
         ON bls.bill_id = bls_parts.bill_id) 
         INNER JOIN (abos 
         INNER JOIN bst 
         ON abos.bst_id = bst.B_ID) 
         ON bls.Beleg = bst.b_det_ID
   WHERE (((bls_parts.serial) LIKE 'R%'))
GO
/****** Object:  View [dbo].[abos_in_versand]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_in_versand]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT Count(abotiteln.id) AS delivering, abos.bks_id, abotiteln.ausgabe
   FROM 
      abotiteln 
         INNER JOIN abos 
         ON abotiteln.abos_id = abos.id
   WHERE (((abotiteln.status_id) = 154))
   GROUP BY abos.bks_id, abotiteln.ausgabe
GO
/****** Object:  View [dbo].[abos_erste_letzte_ausgabe]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_erste_letzte_ausgabe]
AS
SELECT     TOP (2147483647) dbo.abos.id, dbo.abos.adr_id, dbo.abos.bks_id, dbo.bks.periodicality, MIN(dbo.lager.ausgabe_reverse) AS Erste_Ausgabe, 
                      MAX(dbo.lager.ausgabe_reverse) AS Letzte_Ausgabe
FROM         dbo.abotiteln INNER JOIN
                      dbo.abos ON dbo.abotiteln.abos_id = dbo.abos.id INNER JOIN
                      dbo.bks ON dbo.abos.bks_id = dbo.bks.bks_id INNER JOIN
                      dbo.lager ON dbo.bks.bks_id = dbo.lager.bks_id AND dbo.abotiteln.ausgabe = dbo.lager.ausgabe
WHERE     (dbo.abos.status_id = 147) OR
                      (dbo.abos.status_id = 148)
GROUP BY dbo.abos.adr_id, dbo.abos.id, dbo.abos.bks_id, dbo.bks.periodicality
ORDER BY dbo.abos.adr_id, dbo.abos.id, dbo.abos.bks_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 245
               Bottom = 114
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "lager"
            Begin Extent = 
               Top = 114
               Left = 257
               Bottom = 222
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_erste_letzte_ausgabe'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_erste_letzte_ausgabe'
GO
/****** Object:  View [dbo].[abos_erstbestellung]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_erstbestellung]
AS
SELECT     MIN(id) AS abo_id, adr_id, bks_id
FROM         dbo.abos
WHERE     (status_id IS NULL) OR
                      (status_id <> 146)
GROUP BY adr_id, bks_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_erstbestellung'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_erstbestellung'
GO
/****** Object:  View [dbo].[abos_eingefrorene]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_eingefrorene]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      abos.id, 
      abos.adr_id, 
      abos.bks_id, 
      abos.bst_id, 
      abos.status_id
   FROM 
      abos 
         INNER JOIN abotiteln 
         ON abos.id = abotiteln.abos_id
   WHERE (((abotiteln.status_id) IS NULL OR ((abotiteln.status_id) = 150 OR (abotiteln.status_id) = 156 OR (abotiteln.status_id) = 173)) AND ((abos.status_id) = 152))
   GROUP BY 
      abos.id, 
      abos.adr_id, 
      abos.bks_id, 
      abos.bst_id, 
      abos.status_id
GO
/****** Object:  View [dbo].[abos_gültige]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_gültige]
AS
SELECT     dbo.abotiteln.id AS abotiteln_id, dbo.abos.id AS abos_id, dbo.abos.adr_id, dbo.abos.bks_id, dbo.abos.bst_id, dbo.abotiteln.ausgabe, 
                      dbo.abos.erstellt_am, dbo.abotiteln.status_id AS abotiteln_status_id, dbo.abos.status_id AS abos_status_id
FROM         dbo.abos INNER JOIN
                      dbo.abotiteln ON dbo.abos.id = dbo.abotiteln.abos_id
WHERE     (dbo.abotiteln.status_id IS NULL) AND (dbo.abos.status_id = 147 OR
                      dbo.abos.status_id = 148) OR
                      (dbo.abos.status_id = 147 OR
                      dbo.abos.status_id = 148) AND ((CASE WHEN ((abotiteln.status_id) = 151 OR
                      (abotiteln.status_id) = 156 OR
                      (abotiteln.status_id) = 173 OR
                      (abotiteln.status_id) = 176) THEN 1 ELSE 0 END) = 0)
GROUP BY dbo.abos.id, dbo.abotiteln.id, dbo.abos.adr_id, dbo.abos.bks_id, dbo.abos.bst_id, dbo.abotiteln.ausgabe, dbo.abos.erstellt_am, 
                      dbo.abotiteln.status_id, dbo.abos.status_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 1065
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_gültige'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_gültige'
GO
/****** Object:  View [dbo].[abos_gesendet]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_gesendet]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT abotiteln.abos_id AS id, Count(abotiteln.id) AS gesendet
   FROM abotiteln
   WHERE (((abotiteln.status_id) = 149))
   GROUP BY abotiteln.abos_id
GO
/****** Object:  View [dbo].[abos_defekt]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_defekt]
AS
SELECT     TOP (2147483647) WITH TIES dbo.abotiteln.id, dbo.abos.bks_id, dbo.abos.adr_id, dbo.abotiteln.ausgabe, dbo.abotiteln.status_id
FROM         dbo.abos INNER JOIN
                      dbo.abotiteln ON dbo.abos.id = dbo.abotiteln.abos_id
WHERE     (dbo.abotiteln.status_id = 154) AND (dbo.abos.status_id <> 146)
ORDER BY dbo.abos.adr_id DESC
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_defekt'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_defekt'
GO
/****** Object:  View [dbo].[abos_bezahlte_titeln]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_bezahlte_titeln]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      abotiteln.id, 
      abotiteln.ausgabe, 
      abotiteln.menge, 
      abotiteln.abos_id, 
      abos.bks_id
   FROM 
      abotiteln 
         INNER JOIN abos 
         ON abotiteln.abos_id = abos.id
   WHERE ((
      (abotiteln.status_id) = 149 OR 
      (abotiteln.status_id) = 154 OR 
      (abotiteln.status_id) IS NULL OR 
      (abotiteln.status_id) = 207) AND ((abos.status_id) <> 146))
   GROUP BY 
      abotiteln.id, 
      abotiteln.ausgabe, 
      abotiteln.menge, 
      abotiteln.abos_id, 
      abos.bks_id
GO
/****** Object:  View [dbo].[abos_dynamik]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_dynamik]
AS
SELECT     dbo.abos.bks_id, COUNT(dbo.abos.id) AS anzahl, MONTH(dbo.abos.erstellt_am) AS monat
FROM         dbo.abos INNER JOIN
                      dbo.detstatus INNER JOIN
                      dbo.det INNER JOIN
                      dbo.bst ON dbo.det.det_ID = dbo.bst.b_det_ID ON dbo.detstatus.ds_det_id = dbo.det.det_ID ON dbo.abos.bst_id = dbo.bst.B_ID
WHERE     (dbo.abos.erstellt_am >= DATEADD(month, - 5, CONVERT(datetime, CONVERT(varchar, GETDATE(), 104), 104))) AND (dbo.detstatus.status_id = 132)
GROUP BY dbo.abos.bks_id, MONTH(dbo.abos.erstellt_am)
HAVING      (MONTH(dbo.abos.erstellt_am) <> MONTH(CONVERT(datetime, CONVERT(varchar, GETDATE(), 104), 104)))
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "detstatus"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 114
               Left = 257
               Bottom = 222
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 3825
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 6675
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_dynamik'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_dynamik'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_dynamik'
GO
/****** Object:  View [dbo].[abos_duplikate]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_duplikate]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      abos.adr_id, 
      Max(abos.bst_id) AS Maxvonbst_id, 
      abos.bks_id, 
      abotiteln.ausgabe, 
      Count(abotiteln.ausgabe) AS Anzahlvonausgabe
   FROM 
      abos 
         INNER JOIN abotiteln 
         ON abos.id = abotiteln.abos_id
   WHERE (((abos.status_id) = 147 OR (abos.status_id) = 148 OR (abos.status_id) = 177))
   GROUP BY abos.adr_id, abos.bks_id, abotiteln.ausgabe
   HAVING (((Count(abotiteln.ausgabe)) > 1))
GO
/****** Object:  View [dbo].[abos_abgelaufen]    Script Date: 02/23/2012 10:49:25 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_abgelaufen]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT abos.id, abos.bks_id, abos.adr_id
   FROM abos
   WHERE (((abos.status_id) = 177))
GO
/****** Object:  View [dbo].[_abos_fehlende_mit_bestellungen]    Script Date: 02/23/2012 10:49:25 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
/*
*   SSMA warning messages:
*   A2SS0030: View '_abos_fehlende_mit_bestellungen' has a name that might cause problems for the Access application to function correctly against SQL Server.
*/
CREATE VIEW [dbo].[_abos_fehlende_mit_bestellungen]
AS
SELECT     dbo.bst.B_ID, dbo.det.det_adr_ID AS adr_id, dbo.det.det_ID
FROM         dbo.bst INNER JOIN
                      dbo.det ON dbo.bst.b_det_ID = dbo.det.det_ID INNER JOIN
                      dbo.xb_projekte ON dbo.det.det_prj_id = dbo.xb_projekte.prj_id
WHERE     (dbo.bst.B_ID NOT IN
                          (SELECT     bst_id
                            FROM          dbo.abos
                            WHERE      (bst_id = dbo.bst.B_ID))) AND (dbo.xb_projekte.parent_prj_id = 127)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bst"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "xb_projekte"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'_abos_fehlende_mit_bestellungen'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'_abos_fehlende_mit_bestellungen'
GO
/****** Object:  View [dbo].[abo_projekte]    Script Date: 02/23/2012 10:49:25 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abo_projekte]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT xb_projekte.prj_id, xb_projekte.parent_prj_id
   FROM xb_projekte
   WHERE (((xb_projekte.prj_id) <> 135) AND (
      (xb_projekte.parent_prj_id) = 127 OR 
      (xb_projekte.parent_prj_id) = 162 OR 
      (xb_projekte.parent_prj_id) = 170 OR 
      (xb_projekte.parent_prj_id) = 175 OR 
      (xb_projekte.parent_prj_id) = 191))
GO
/****** Object:  View [dbo].[abo_bestellungen]    Script Date: 02/23/2012 10:49:25 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abo_bestellungen]
AS
SELECT DISTINCT 
                      dbo.bst.B_ID, dbo.adr.adr_ID, dbo.bks.bks_id, dbo.bst.Artikel AS bezeichnung, dbo.bks.periodicality, dbo.bst.Menge, dbo.bst.Monate, 
                      dbo.bst.Praemie AS beginnt_am, dbo.det.det_prj_id, dbo.det.det_datum, dbo.det.det_ID, dbo.bst.mengentyp, dbo.bst.code AS object_id, dbo.bst.freight, 
                      dbo.bst.amount
FROM         dbo.bst INNER JOIN
                      dbo.det ON dbo.bst.b_det_ID = dbo.det.det_ID INNER JOIN
                      dbo.adr ON dbo.det.det_adr_ID = dbo.adr.adr_ID INNER JOIN
                      dbo.bks ON dbo.bst.b_bks_id = dbo.bks.bks_id
WHERE     (dbo.bks.type = 161) OR
                      (dbo.bks.type = 162)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bst"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "adr"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks"
            Begin Extent = 
               Top = 114
               Left = 241
               Bottom = 222
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abo_bestellungen'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abo_bestellungen'
GO
/****** Object:  View [dbo].[abo_auftragsbestätigungen]    Script Date: 02/23/2012 10:49:25 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abo_auftragsbestätigungen]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT det.det_ID, det.det_adr_ID, det.Einstufung
   FROM det
   WHERE (((det.Einstufung) = 'Auftragsbestätigung unterzeichnet'))
GO
/****** Object:  View [dbo].[_user_stornierte_abos]    Script Date: 02/23/2012 10:49:25 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
/*
*   SSMA warning messages:
*   A2SS0030: View '_user_stornierte_abos' has a name that might cause problems for the Access application to function correctly against SQL Server.
*/

CREATE VIEW [dbo].[_user_stornierte_abos]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT det.det_ID, det.det_user, det.det_datum
   FROM 
      (det 
         INNER JOIN bst 
         ON det.det_ID = bst.b_det_ID) 
         INNER JOIN abos 
         ON bst.B_ID = abos.bst_id
   WHERE (((abos.status_id) = 146))
GO
/****** Object:  View [dbo].[_supidupi]    Script Date: 02/23/2012 10:49:25 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
/*
*   SSMA warning messages:
*   A2SS0030: View '_supidupi' has a name that might cause problems for the Access application to function correctly against SQL Server.
*/

CREATE VIEW [dbo].[_supidupi]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      det.det_ID, 
      det.det_datum, 
      bls.bill_datum, 
      det.det_adr_ID, 
      det.det_user, 
      adr.country_code
   FROM 
      (xb_projekte 
         INNER JOIN (bls 
         INNER JOIN det 
         ON bls.Beleg = det.det_ID) 
         ON xb_projekte.prj_id = det.det_prj_id) 
         INNER JOIN adr 
         ON det.det_adr_ID = adr.adr_ID
   WHERE (((xb_projekte.prj_akt) LIKE '00%'))
   GROUP BY 
      det.det_ID, 
      det.det_datum, 
      bls.bill_datum, 
      det.det_adr_ID, 
      det.det_user, 
      adr.country_code
   HAVING (((adr.country_code) <> 'de'))
GO
/****** Object:  View [dbo].[_lager_restbestand_nach_versandübergabe]    Script Date: 02/23/2012 10:49:25 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[_lager_restbestand_nach_versandübergabe]
AS
SELECT     TOP (2147483647) dbo.abos.bks_id, dbo.lager.name, dbo.abotiteln.ausgabe, COUNT(dbo.abotiteln.id) AS [in Versand], dbo.lager.ist, 
                      dbo.lager.ist - COUNT(dbo.abotiteln.id) AS rest
FROM         dbo.abos INNER JOIN
                      dbo.lager ON dbo.abos.bks_id = dbo.lager.bks_id INNER JOIN
                      dbo.abotiteln ON dbo.lager.ausgabe = dbo.abotiteln.ausgabe AND dbo.abos.id = dbo.abotiteln.abos_id
WHERE     (dbo.abotiteln.status_id = 154)
GROUP BY dbo.abos.bks_id, dbo.lager.name, dbo.abotiteln.ausgabe, dbo.lager.ist
HAVING      (dbo.lager.ist <> COUNT(dbo.abotiteln.id))
ORDER BY dbo.lager.name
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "lager"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 2025
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'_lager_restbestand_nach_versandübergabe'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'_lager_restbestand_nach_versandübergabe'
GO
/****** Object:  View [dbo].[abos_ausgelieferte_titeln]    Script Date: 02/23/2012 10:49:25 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_ausgelieferte_titeln]
AS
SELECT     dbo.abotiteln.id AS abotiteln_id, dbo.abos.id AS abos_id, dbo.abotiteln.menge, dbo.abotiteln.ausgabe, dbo.abos.bks_id, dbo.abos.bst_id, 
                      dbo.abos.adr_id, dbo.abos.bezeichnung, dbo.abotiteln.geändert_am
FROM         dbo.abotiteln INNER JOIN
                      dbo.abos ON dbo.abotiteln.abos_id = dbo.abos.id
WHERE     (dbo.abotiteln.status_id = 149)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 191
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 229
               Bottom = 114
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 1065
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_ausgelieferte_titeln'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_ausgelieferte_titeln'
GO
/****** Object:  View [dbo].[abos_ausgelieferte_mengen]    Script Date: 02/23/2012 10:49:25 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_ausgelieferte_mengen]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT abos.id, Sum((
      CASE 
         WHEN abotiteln.status_id = 149 THEN 1
         ELSE 0
      END)) AS ausgelieferte, abos.ausgaben
   FROM 
      abotiteln 
         INNER JOIN abos 
         ON abotiteln.abos_id = abos.id
   GROUP BY abos.id, abos.ausgaben
GO
/****** Object:  View [dbo].[abos_ausgeliefert_letztes_datum]    Script Date: 02/23/2012 10:49:25 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_ausgeliefert_letztes_datum]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT abotiteln.abos_id, Max(abos_erscheinungstermine.termin) AS Maxvontermin
   FROM 
      (abos 
         INNER JOIN abotiteln 
         ON abos.id = abotiteln.abos_id) 
         INNER JOIN abos_erscheinungstermine 
         ON (abos.bks_id = abos_erscheinungstermine.bks_id) AND (abotiteln.ausgabe = abos_erscheinungstermine.ausgabe)
   WHERE (((abotiteln.status_id) = 149))
   GROUP BY abotiteln.abos_id
GO
/****** Object:  View [dbo].[abos_verkauft_nach_beleg_mit_summen]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_verkauft_nach_beleg_mit_summen]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      Sum(abos.ausgaben) AS objekte, 
      bls.Beleg, 
      bks.eink_preis, 
      Sum(bst.Summe) AS verk_summe, 
      (bks.eink_preis) * (Sum([ausgaben])) AS eink_summe, 
      bst.Monate, 
      abos.id, 
      bls.bill_id
   FROM 
      (bls 
         INNER JOIN (abos 
         INNER JOIN bst 
         ON abos.bst_id = bst.B_ID) 
         ON bls.Beleg = bst.b_det_ID) 
         INNER JOIN bks 
         ON abos.bks_id = bks.bks_id
   GROUP BY 
      bls.Beleg, 
      bks.eink_preis, 
      bst.Monate, 
      abos.id, 
      bls.bill_id
GO
/****** Object:  View [dbo].[abos_verlängerungen]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_verlängerungen]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      abos.bks_id, 
      abos.adr_id, 
      abos.id AS abos_id, 
      Max(det.det_datum) AS datum_max, 
      Min(det.det_datum) AS datum_min
   FROM 
      (
         (
            SELECT DISTINCT *
            FROM abos
         )  AS abos 
         INNER JOIN (
         (
            SELECT DISTINCT *
            FROM bst
         )  AS bst 
         INNER JOIN 
         (
            SELECT DISTINCT *
            FROM det
         )  AS det 
         ON bst.b_det_ID = det.det_ID) 
         ON (abos.bks_id = bst.b_bks_id) AND (abos.adr_id = bst.b_adr_ID)) 
         INNER JOIN 
         (
            SELECT DISTINCT *
            FROM xb_projekte
         )  AS xb_projekte 
         ON det.det_prj_id = xb_projekte.prj_id
   WHERE (((abos.status_id) = 148 OR (abos.status_id) = 177))
   GROUP BY abos.bks_id, abos.adr_id, abos.id
   HAVING (((Max(det.det_datum)) <> Min([det_datum])))
GO
/****** Object:  View [dbo].[abos_stornierbar]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_stornierbar]
AS
SELECT     TOP (2147483647) dbo.abos.id, dbo.Artikel.bks_id, dbo.Artikel.Bezeichnung, dbo.Artikel.Preis, dbo.Artikel.ArtID, dbo.abos.adr_id, dbo.abos.bst_id
FROM         dbo.Artikel INNER JOIN
                      dbo.abos INNER JOIN
                      dbo.bst ON dbo.abos.bst_id = dbo.bst.B_ID ON dbo.Artikel.ArtID = dbo.bst.b_art_id
WHERE     (dbo.abos.status_id = 148) OR
                      (dbo.abos.status_id = 152)
GROUP BY dbo.Artikel.bks_id, dbo.Artikel.Bezeichnung, dbo.Artikel.Preis, dbo.Artikel.ArtID, dbo.abos.adr_id, dbo.abos.bst_id, dbo.abos.id
ORDER BY dbo.Artikel.Bezeichnung
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "Artikel"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_stornierbar'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_stornierbar'
GO
/****** Object:  View [dbo].[abos_rechnungen]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_rechnungen]
AS
SELECT     dbo.abos.id, dbo.adr.adr_ID, dbo.det.det_ID, dbo.det.storniert, dbo.bls.bill_id
FROM         dbo.det INNER JOIN
                      dbo.bls ON dbo.det.det_ID = dbo.bls.Beleg INNER JOIN
                      dbo.abos INNER JOIN
                      dbo.adr ON dbo.abos.adr_id = dbo.adr.adr_ID ON dbo.det.det_adr_ID = dbo.adr.adr_ID
WHERE     (dbo.bls.Betrag >= 0)
GROUP BY dbo.adr.adr_ID, dbo.abos.id, dbo.det.det_ID, dbo.det.storniert, dbo.bls.bill_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "det"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 463
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "adr"
            Begin Extent = 
               Top = 114
               Left = 257
               Bottom = 222
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_rechnungen'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_rechnungen'
GO
/****** Object:  View [dbo].[abos_provision]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_provision]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT [abos].[ausgaben] * [menge] * ((
      CASE 
         WHEN ([bst].[summe]) / [menge] > ([bks_kataloge].[preis] * [abos].[ausgaben]) THEN ([bks_kataloge].[preis] * [abos].[ausgaben])
         ELSE [bst].[summe] / [bst].[menge]
      END) / ([bks_kataloge].[preis] * [abos].[ausgaben])) AS umsatz, bst.b_det_ID, abos.bks_id
   FROM 
      (bst 
         INNER JOIN abos 
         ON bst.B_ID = abos.bst_id) 
         INNER JOIN bks_kataloge 
         ON abos.object_id = bks_kataloge.id
GO
/****** Object:  View [dbo].[abos_stornierte]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_stornierte]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT abos.id
   FROM abos
   WHERE (((abos.status_id) = 146))
GO
/****** Object:  View [dbo].[abotiteln_states]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abotiteln_states]
AS
SELECT     abos_id, SUM((CASE WHEN [status_id] = 149 THEN 1 ELSE 0 END)) AS gesendet, SUM((CASE WHEN [status_id] = 150 THEN 1 ELSE 0 END)) 
                      AS [in verzug], SUM((CASE WHEN [status_id] = 151 THEN 1 ELSE 0 END)) AS ausgelassen, SUM((CASE WHEN [status_id] = 154 THEN 1 ELSE 0 END)) 
                      AS [in versand], SUM((CASE WHEN [status_id] = 156 THEN 1 ELSE 0 END)) AS defekt, SUM((CASE WHEN [status_id] = 172 THEN 1 ELSE 0 END)) 
                      AS eingekauft, SUM((CASE WHEN [status_id] = 173 THEN 1 ELSE 0 END)) AS [nicht kaufbar], SUM((CASE WHEN [status_id] = 176 THEN 1 ELSE 0 END)) 
                      AS paarheft, SUM((CASE WHEN [status_id] = 221 THEN 1 ELSE 0 END)) AS [nicht bestellbar]
FROM         dbo.abotiteln
GROUP BY abos_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[41] 4[34] 2[7] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = -96
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abotiteln_states'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abotiteln_states'
GO
/****** Object:  View [dbo].[abotiteln_reserviert]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abotiteln_reserviert]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      abotiteln.id, 
      abotiteln.abos_id, 
      abotiteln.menge, 
      abotiteln.ausgabe, 
      abotiteln.status_id, 
      abotiteln.geändert_am, 
      abos.bst_id, 
      abos.adr_id
   FROM 
      abotiteln 
         INNER JOIN abos 
         ON abotiteln.abos_id = abos.id
   WHERE (((abotiteln.status_id) = 207))
   GROUP BY 
      abotiteln.id, 
      abotiteln.abos_id, 
      abotiteln.menge, 
      abotiteln.ausgabe, 
      abotiteln.status_id, 
      abotiteln.geändert_am, 
      abos.bst_id, 
      abos.adr_id
GO
/****** Object:  View [dbo].[abotiteln_preise_kosten]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abotiteln_preise_kosten]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      abotiteln.id AS abotitel_id, 
      abos.adr_id, 
      abotiteln.abos_id, 
      abos.ausgaben, 
      bst.Summe, 
      [Summe] / abos.ausgaben AS Ausgabenpreis, 
      Avg(store_vendors.price) AS Einkaufspreis, 
      bst.preis, 
      bst.rabatt, 
      Max(store_vendors.shipping_at) AS Maxvonshipping_at, 
      abotiteln.status_id
   FROM 
      ((abotiteln 
         INNER JOIN abos 
         ON abotiteln.abos_id = abos.id) 
         INNER JOIN bst 
         ON abos.bst_id = bst.B_ID) 
         LEFT JOIN store_vendors 
         ON abos.bks_id = store_vendors.bks_id
   GROUP BY 
      abotiteln.id, 
      abos.adr_id, 
      abotiteln.abos_id, 
      abos.ausgaben, 
      bst.Summe, 
      [Summe] / abos.ausgaben, 
      bst.preis, 
      bst.rabatt, 
      abotiteln.status_id
GO
/****** Object:  View [dbo].[abotiteln_nicht_kaufbar]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abotiteln_nicht_kaufbar]
AS
SELECT     dbo.abos.id, dbo.abos.ausgaben, dbo.abos.bks_id, dbo.abotiteln.ausgabe
FROM         dbo.abotiteln INNER JOIN
                      dbo.abos ON dbo.abotiteln.abos_id = dbo.abos.id
WHERE     (dbo.abos.status_id = 147 OR
                      dbo.abos.status_id = 148) AND (dbo.abotiteln.status_id = 173)
GROUP BY dbo.abos.id, dbo.abos.ausgaben, dbo.abos.bks_id, dbo.abotiteln.ausgabe
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[41] 4[29] 2[11] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 245
               Bottom = 114
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abotiteln_nicht_kaufbar'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abotiteln_nicht_kaufbar'
GO
/****** Object:  View [dbo].[abotiteln_in_versand_extended]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abotiteln_in_versand_extended]
AS
SELECT     dbo.abotiteln.id, dbo.abos.adr_id, dbo.abotiteln.abos_id, dbo.det.det_ID, dbo.bst.B_ID
FROM         dbo.abotiteln INNER JOIN
                      dbo.abos ON dbo.abotiteln.abos_id = dbo.abos.id INNER JOIN
                      dbo.bst ON dbo.abos.bst_id = dbo.bst.B_ID INNER JOIN
                      dbo.det ON dbo.bst.b_det_ID = dbo.det.det_ID
WHERE     (dbo.abotiteln.status_id = 154)
GROUP BY dbo.abos.adr_id, dbo.abotiteln.id, dbo.abotiteln.abos_id, dbo.det.det_ID, dbo.bst.B_ID
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 245
               Bottom = 114
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 114
               Left = 257
               Bottom = 222
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abotiteln_in_versand_extended'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abotiteln_in_versand_extended'
GO
/****** Object:  View [dbo].[abotiteln_in_versand]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abotiteln_in_versand]
AS
SELECT     dbo.abotiteln.id, dbo.abos.adr_id, dbo.abotiteln.abos_id
FROM         dbo.abotiteln INNER JOIN
                      dbo.abos ON dbo.abotiteln.abos_id = dbo.abos.id
WHERE     (dbo.abotiteln.status_id = 154)
GROUP BY dbo.abos.adr_id, dbo.abotiteln.id, dbo.abotiteln.abos_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 245
               Bottom = 114
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abotiteln_in_versand'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abotiteln_in_versand'
GO
/****** Object:  View [dbo].[addresses_with_last_contact_date]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[addresses_with_last_contact_date]
AS
SELECT     dbo.adr.adr_ID, dbo.adr.Anrede, dbo.adr.Vorname, dbo.adr.Nachname, dbo.adr.Gebdat, dbo.adr.Strasse, dbo.adr.PLZ, dbo.adr.Ort, dbo.adr.Land, 
                      dbo.adr.country_code, dbo.adr.Tel, dbo.adr.Tel2, dbo.adr.Tel3, dbo.adr.[E-Mail], dbo.adr.[E-Mail2], dbo.adr.zsatz1, dbo.adr.zsatz2, dbo.adr.zsatz3, 
                      dbo.adr.Herkunft, dbo.adr.soundex_nn_id, dbo.adr.soundex_vn_id, dbo.adr.soundex_str_id, dbo.adr.region, MAX(COALESCE (dbo.det.det_datum, 
                      '1/1/1979')) AS last_contact
FROM         dbo.adr LEFT OUTER JOIN
                      dbo.det ON dbo.adr.adr_ID = dbo.det.det_adr_ID
GROUP BY dbo.adr.adr_ID, dbo.adr.Anrede, dbo.adr.Vorname, dbo.adr.Nachname, dbo.adr.Gebdat, dbo.adr.Strasse, dbo.adr.PLZ, dbo.adr.Ort, dbo.adr.Land, 
                      dbo.adr.country_code, dbo.adr.Tel, dbo.adr.Tel2, dbo.adr.Tel3, dbo.adr.[E-Mail], dbo.adr.[E-Mail2], dbo.adr.zsatz1, dbo.adr.zsatz2, dbo.adr.zsatz3, 
                      dbo.adr.Herkunft, dbo.adr.soundex_nn_id, dbo.adr.soundex_vn_id, dbo.adr.soundex_str_id, dbo.adr.region
GO
/****** Object:  View [dbo].[addressen_nutzung]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[addressen_nutzung]
AS
SELECT     dbo.adr.adr_ID, SUM(CASE WHEN [calltype] = 'NG' THEN 1 ELSE 0 END) AS NGs, SUM(CASE WHEN [calltype] = 'BG' THEN 1 ELSE 0 END) AS BGs, 
                      SUM(CASE WHEN [b_id] > 0 THEN 1 ELSE 0 END) AS Bestellungen, SUM(CASE WHEN abos.id > 0 THEN 1 ELSE 0 END) AS Abos, 
                      SUM(CASE WHEN [status_id] = 177 THEN 1 ELSE 0 END) AS Abos_Abgelaufen, SUM(CASE WHEN [status_id] = 146 THEN 1 ELSE 0 END) 
                      AS Abos_Storniert, MAX(COALESCE (dbo.det.det_datum, '01.01.1997')) AS Letzter_Kontakt, CASE WHEN Len([strasse]) > 0 AND Len([plz]) 
                      > 0 THEN 1 ELSE 0 END AS Adresse, CASE WHEN Len([tel]) > 0 OR
                      Len([tel2]) > 0 THEN 1 ELSE 0 END AS Telefon, MAX(CASE WHEN [einstufung] LIKE 'falsch*' THEN 1 ELSE 0 END) AS FalscheNummer
FROM         dbo.adr LEFT OUTER JOIN
                      dbo.abos RIGHT OUTER JOIN
                      dbo.det LEFT OUTER JOIN
                      dbo.bst ON dbo.det.det_ID = dbo.bst.b_det_ID ON dbo.abos.bst_id = dbo.bst.B_ID ON dbo.adr.adr_ID = dbo.det.det_adr_ID
GROUP BY dbo.adr.adr_ID, CASE WHEN Len([strasse]) > 0 AND Len([plz]) > 0 THEN 1 ELSE 0 END, CASE WHEN Len([tel]) > 0 OR
                      Len([tel2]) > 0 THEN 1 ELSE 0 END
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[41] 4[30] 2[11] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "adr"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 114
               Left = 257
               Bottom = 222
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'addressen_nutzung'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'addressen_nutzung'
GO
/****** Object:  View [dbo].[abotitel_versendet]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abotitel_versendet]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT abos.bks_id, abotiteln.ausgabe, Sum(abotiteln.menge) AS Summevonmenge
   FROM 
      abotiteln 
         INNER JOIN abos 
         ON abotiteln.abos_id = abos.id
   WHERE (((abotiteln.status_id) = 149))
   GROUP BY abos.bks_id, abotiteln.ausgabe
GO
/****** Object:  View [dbo].[abotitel_gesendet]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abotitel_gesendet]
AS
SELECT     id AS abotitel_id, abos_id AS abo_id, ausgabe, geändert_am
FROM         dbo.abotiteln
WHERE     (status_id = 149)
GROUP BY abos_id, ausgabe, id, geändert_am
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abotitel_gesendet'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abotitel_gesendet'
GO
/****** Object:  View [dbo].[abos_trees]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_trees]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      trees.parent_id, 
      trees.child_id, 
      trees.type_id, 
      trees.created_at, 
      trees.updated_at
   FROM 
      trees 
         INNER JOIN abos 
         ON trees.child_id = abos.id
   WHERE (((trees.table_name) = 'abos'))
GO
/****** Object:  View [dbo].[abos_titeln_in_versand]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_titeln_in_versand]
AS
SELECT DISTINCT dbo.abotiteln.id, dbo.abotiteln.ausgabe, dbo.abotiteln.menge, dbo.abotiteln.abos_id, dbo.abos.bks_id, dbo.abos.adr_id
FROM         dbo.abotiteln INNER JOIN
                      dbo.abos ON dbo.abotiteln.abos_id = dbo.abos.id
WHERE     (dbo.abotiteln.status_id = 154)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[41] 4[35] 2[6] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 191
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 229
               Bottom = 114
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_titeln_in_versand'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_titeln_in_versand'
GO
/****** Object:  View [dbo].[abos_nicht_erneuerbar]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_nicht_erneuerbar]
AS
SELECT     abos.id AS abos_id, abos.bks_id, abos.adr_id, MIN(det.det_datum) AS datum_min
FROM         (SELECT DISTINCT 
                                              id, adr_id, bst_id, bks_id, object_id, bezeichnung, ausgaben, erstellt_am, beginnt_am, geändert_am, status_id, flag, 
                                              SSMA_TimeStamp
                       FROM          dbo.abos AS abos_1) AS abos INNER JOIN
                          (SELECT DISTINCT 
                                                   B_ID, b_adr_ID, b_det_ID, b_art_id, b_bks_id, bant_id, Datum, Bestnr, Artikel, Menge, Monate, Summe, Zahlung, Praemie, 
                                                   user_aufnahme, user_bearbeitung, gewicht, warengruppe, code, einkaufspreis, storniert, flag, preis, mengentyp, rabatt, amount, freight, 
                                                   ab_ausgabe, SSMA_TimeStamp
                            FROM          dbo.bst AS bst_1) AS bst INNER JOIN
                          (SELECT DISTINCT 
                                                   det_ID, det_adr_ID, det_akt_ID, est_id, det_prj_id, det_user, det_alternativ_ID, det_datum, Uhrzeit, Erledigt, Umsatz, Kosten, Kontaktart, 
                                                   Thema, Projekt, Einstufung, Fächerung, calltype, b_zeit, Kommentar, storniert, delivery_id, billing_id, SSMA_TimeStamp
                            FROM          dbo.det AS det_1) AS det ON bst.b_det_ID = det.det_ID ON abos.bks_id = bst.b_bks_id AND abos.adr_id = bst.b_adr_ID INNER JOIN
                          (SELECT DISTINCT 
                                                   prj_id, parent_prj_id, with_products, prj_akt, prj_name, sql_string, prj_aktiv, adr_anzahl, prj_start, prj_N, prj_B, prj_wvl, prj_typ, 
                                                   prj_status, exp_sql_string, pfad, zahlengruppe, restrictive, currency, SSMA_TimeStamp
                            FROM          dbo.xb_projekte AS xb_projekte_1) AS xb_projekte ON det.det_prj_id = xb_projekte.prj_id
WHERE     (abos.status_id = 148 OR
                      abos.status_id = 147 OR
                      abos.status_id = 152) AND (xb_projekte.parent_prj_id = 127)
GROUP BY abos.bks_id, abos.adr_id, abos.id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "xb_projekte"
            Begin Extent = 
               Top = 114
               Left = 257
               Bottom = 222
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_nicht_erneuerbar'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_nicht_erneuerbar'
GO
/****** Object:  View [dbo].[abos_mit_zahlungsdatum]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_mit_zahlungsdatum]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT abos.id AS abo_id, Min(detstatus.status_datum) AS Minvonstatus_datum, detstatus.ds_det_id
   FROM 
      (abos 
         INNER JOIN bst 
         ON abos.bst_id = bst.B_ID) 
         INNER JOIN detstatus 
         ON bst.b_det_ID = detstatus.ds_det_id
   WHERE (((detstatus.status_id) = 164 OR (detstatus.status_id) = 132))
   GROUP BY abos.id, detstatus.ds_det_id
GO
/****** Object:  View [dbo].[abos_laufende_bezahlt]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_laufende_bezahlt]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      abos.id, 
      abos.adr_id, 
      abos.bks_id, 
      abos.bst_id, 
      abos.status_id
   FROM 
      abos 
         INNER JOIN abotiteln 
         ON abos.id = abotiteln.abos_id
   WHERE (((abotiteln.status_id) IS NULL OR ((abotiteln.status_id) = 150 OR (abotiteln.status_id) = 156 OR (abotiteln.status_id) = 173)) AND ((abos.status_id) = 148))
   GROUP BY 
      abos.id, 
      abos.adr_id, 
      abos.bks_id, 
      abos.bst_id, 
      abos.status_id
GO
/****** Object:  View [dbo].[abos_laufende]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_laufende]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      abos.id, 
      abos.adr_id, 
      abos.bks_id, 
      abos.bst_id, 
      abos.status_id
   FROM 
      abos 
         INNER JOIN abotiteln 
         ON abos.id = abotiteln.abos_id
   WHERE (((abotiteln.status_id) IS NULL OR ((abotiteln.status_id) = 150 OR (abotiteln.status_id) = 156 OR (abotiteln.status_id) = 173)) AND ((abos.status_id) = 147 OR (abos.status_id) = 148))
   GROUP BY 
      abos.id, 
      abos.adr_id, 
      abos.bks_id, 
      abos.bst_id, 
      abos.status_id
GO
/****** Object:  View [dbo].[abos_mit_bankeinzug]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_mit_bankeinzug]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      abos.id, 
      abos.status_id, 
      Sum(bank_transactions.amount) AS Summevonamount, 
      Sum((
         CASE 
            WHEN bank_transactions.state_id = 229 THEN 1
            ELSE 0
         END)) AS gebucht, 
      Sum((
         CASE 
            WHEN bank_transactions.state_id = 230 THEN 1
            ELSE 0
         END)) AS bezahlt
   FROM 
      ((bls 
         INNER JOIN bank_transactions 
         ON bls.bill_id = bank_transactions.bill_id) 
         INNER JOIN bst 
         ON bls.Beleg = bst.b_det_ID) 
         INNER JOIN abos 
         ON bst.B_ID = abos.bst_id
   WHERE (((bls.payment_type) = 226))
   GROUP BY abos.id, abos.status_id
GO
/****** Object:  View [dbo].[abos_mit_anfangstermin]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_mit_anfangstermin]
AS
SELECT     dbo.abos.id, dbo.abos.adr_id, dbo.abos.bst_id, dbo.abos.bks_id, dbo.bst.Praemie, LEN(dbo.bst.Praemie) AS Ausdr1
FROM         dbo.abos INNER JOIN
                      dbo.bst ON dbo.abos.bst_id = dbo.bst.B_ID
WHERE     (LEN(dbo.bst.Praemie) > 0)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[41] 4[35] 2[6] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1800
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_mit_anfangstermin'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_mit_anfangstermin'
GO
/****** Object:  View [dbo].[abos_letzte_ausgabe]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_letzte_ausgabe]
AS
SELECT     TOP (2147483647) dbo.abos.id, dbo.abos.adr_id, dbo.abos.bks_id, MAX(dbo.lager.ausgabe_reverse) AS Letzte_Ausgabe, 
                      MIN(dbo.lager.ausgabe_reverse) AS Erste_Ausgabe, dbo.bks.periodicality
FROM         dbo.abotiteln INNER JOIN
                      dbo.abos ON dbo.abotiteln.abos_id = dbo.abos.id INNER JOIN
                      dbo.lager ON dbo.abotiteln.ausgabe = dbo.lager.ausgabe AND dbo.abos.bks_id = dbo.lager.bks_id INNER JOIN
                      dbo.bks ON dbo.abos.bks_id = dbo.bks.bks_id
GROUP BY dbo.abos.adr_id, dbo.abos.id, dbo.abos.bks_id, dbo.bks.periodicality
ORDER BY dbo.abos.adr_id, dbo.abos.id, dbo.abos.bks_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[41] 4[34] 2[7] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 245
               Bottom = 114
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "lager"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks"
            Begin Extent = 
               Top = 114
               Left = 257
               Bottom = 222
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_letzte_ausgabe'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_letzte_ausgabe'
GO
/****** Object:  View [dbo].[abos_laufende_und_reservierte]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_laufende_und_reservierte]
AS
SELECT     dbo.abotiteln.id, dbo.abos.adr_id, dbo.abos.bks_id, dbo.abos.bst_id, dbo.abos.status_id, dbo.abotiteln.abos_id
FROM         dbo.abos INNER JOIN
                      dbo.abotiteln ON dbo.abos.id = dbo.abotiteln.abos_id
WHERE     (dbo.abotiteln.status_id IS NULL OR
                      dbo.abotiteln.status_id = 150 OR
                      dbo.abotiteln.status_id = 156 OR
                      dbo.abotiteln.status_id = 173 OR
                      dbo.abotiteln.status_id = 207) AND (dbo.abos.status_id = 147 OR
                      dbo.abos.status_id = 148)
GROUP BY dbo.abos.adr_id, dbo.abos.bks_id, dbo.abos.bst_id, dbo.abos.status_id, dbo.abotiteln.id, dbo.abotiteln.abos_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_laufende_und_reservierte'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_laufende_und_reservierte'
GO
/****** Object:  View [dbo].[bills_rücklastschriften]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create view [dbo].[bills_rücklastschriften]
as
SELECT bls.bill_id, det.det_adr_ID, bls.Beleg, convert(bigint,dbo.fnVAL(bst.artikel)) AS counter_id, bls.Betrag, bls.bill_datum
FROM bst INNER JOIN (det INNER JOIN bls ON det.det_ID = bls.Beleg) ON bst.b_det_ID = det.det_ID
WHERE (((det.est_id)=3142));
GO
/****** Object:  View [dbo].[bills_ls_ratenberechnung_nachbesserung]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_ls_ratenberechnung_nachbesserung] AS SELECT bls.bill_id, Max(dbo.fnVal(([amount])/([periodicality]/12))) AS abomonate, 12 AS new_rate_type, bls.bill_datum, bls.rate_type, bls.raten FROM (bls INNER JOIN bst ON bls.Beleg = bst.b_det_ID) INNER JOIN bks ON bst.b_bks_id = bks.bks_id WHERE (((bls.raten)>1) AND ((coalesce([rate_type],0))=1) AND ((bls.payment_type)=226)) GROUP BY bls.bill_id, bls.bill_datum, bls.rate_type, bls.raten
GO
/****** Object:  View [dbo].[bills_transactions]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_transactions]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT TOP 9223372036854775807 WITH TIES 
      bank_transactions.id, 
      bank_transactions.bill_id, 
      bank_transactions.due_at, 
      bank_transactions.description, 
      bank_transactions.amount, 
      bank_transactions.state_id
   FROM bank_transactions
   ORDER BY bank_transactions.bill_id, bank_transactions.due_at
GO
/****** Object:  View [dbo].[bks_katalog_dmr]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bks_katalog_dmr] AS SELECT bks_kataloge.katalog_id, bks_kataloge.bks_id, bks_kataloge.preis FROM bks_kataloge WHERE (((bks_kataloge.katalog_id)=21))
GO
/****** Object:  View [dbo].[bks_codes]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bks_codes]
AS
SELECT     TOP (2147483647) dbo.bks_kataloge.id, CONVERT(varchar, dbo.objects.issue) + CONVERT(varchar, dbo.bks_kataloge.bks_id) AS kod, 
                      dbo.bks_kataloge.bks_id, dbo.bks_kataloge.katalog_id
FROM         dbo.bks_kataloge INNER JOIN
                      dbo.objects ON dbo.bks_kataloge.katalog_id = dbo.objects.id
WHERE     (dbo.objects.prj_id = 127) AND (dbo.objects.valid_until >= GETDATE() OR
                      dbo.objects.valid_until IS NULL)
GROUP BY CONVERT(varchar, dbo.objects.issue) + CONVERT(varchar, dbo.bks_kataloge.bks_id), dbo.bks_kataloge.bks_id, dbo.bks_kataloge.katalog_id, 
                      dbo.bks_kataloge.id
ORDER BY CONVERT(varchar, dbo.objects.issue) + CONVERT(varchar, dbo.bks_kataloge.bks_id)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bks_kataloge"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "objects"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 6330
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 2175
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bks_codes'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bks_codes'
GO
/****** Object:  View [dbo].[bills_payed]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_payed]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT bls.bill_id, detstatus.status_datum
   FROM 
      bls 
         INNER JOIN (detstatus 
         INNER JOIN det 
         ON detstatus.ds_det_id = det.det_ID) 
         ON bls.Beleg = det.det_ID
   WHERE (((detstatus.status_id) = 132))
   GROUP BY bls.bill_id, detstatus.status_datum
GO
/****** Object:  View [dbo].[bills_lastschriften]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_lastschriften]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT TOP 9223372036854775807 WITH TIES bls.bill_id
   FROM 
      bls 
         LEFT JOIN bls_parts 
         ON bls.bill_id = bls_parts.bill_id
   WHERE (((bls.payment_type) = 226))
   ORDER BY bls.bill_nr
GO
/****** Object:  View [dbo].[bills_internet_orders]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_internet_orders]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT bls.bill_id
   FROM 
      bls 
         INNER JOIN bls_parts 
         ON bls.bill_id = bls_parts.bill_id
   WHERE (((bls_parts.serial) LIKE '4%'))
GO
/****** Object:  View [dbo].[bills_ids]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_ids]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      bls.bill_id, 
      bls.bill_nr, 
      bls_parts.serial, 
      isnull([bill_nr], [serial]) AS [number], 
      bls.Beleg, 
      bls.bill_adr_id
   FROM 
      bls_parts 
         RIGHT JOIN bls 
         ON bls_parts.bill_id = bls.bill_id
GO
/****** Object:  View [dbo].[bills_av]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_av]
AS
SELECT     dbo.bls.bill_id, dbo.det.est_id, dbo.det.det_ID
FROM         dbo.bls INNER JOIN
                      dbo.det ON dbo.bls.Beleg = dbo.det.det_ID
WHERE     (dbo.det.est_id = 3128)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bls"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 228
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 6
               Left = 266
               Bottom = 114
               Right = 431
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bills_av'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bills_av'
GO
/****** Object:  View [dbo].[bills_storniert]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_storniert]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT bls.bill_id, det.storniert
   FROM 
      bls 
         INNER JOIN det 
         ON bls.Beleg = det.det_ID
   WHERE (((det.storniert) > 0))
GO
/****** Object:  View [dbo].[bank_accounts_valid]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bank_accounts_valid]
AS
SELECT     id, adr_id, CASE WHEN Len([konto]) > 1 AND (Len([blz]) > 1 OR
                      Len([iban]) > 0) THEN 1 ELSE 0 END AS valid, konto, blz, bank, iban, swift, active
FROM         dbo.bank_accounts
GROUP BY id, adr_id, CASE WHEN Len([konto]) > 1 AND (Len([blz]) > 1 OR
                      Len([iban]) > 0) THEN 1 ELSE 0 END, konto, blz, bank, iban, swift, active
HAVING      ((CASE WHEN Len([konto]) > 1 AND (Len([blz]) > 1 OR
                      Len([iban]) > 0) THEN 1 ELSE 0 END) = 1)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bank_accounts"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1305
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bank_accounts_valid'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bank_accounts_valid'
GO
/****** Object:  View [dbo].[bestellungen_abos_ext]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bestellungen_abos_ext]
AS
SELECT     dbo.abos.id AS abo_id, dbo.adr.adr_ID, dbo.bst.b_det_ID AS det_id, dbo.abos.bks_id, dbo.abos.ausgaben, dbo.bst.Datum, dbo.bst.Monate, 
                      dbo.bst.mengentyp, dbo.bks.periodicality, dbo.bst.Artikel, dbo.bst.B_ID, dbo.bst.b_art_id, dbo.bst.amount, dbo.bst.rabatt, dbo.bst.preis, dbo.bst.code, 
                      dbo.bst.gewicht
FROM         dbo.adr INNER JOIN
                      dbo.abos ON dbo.adr.adr_ID = dbo.abos.adr_id INNER JOIN
                      dbo.bst ON dbo.abos.bst_id = dbo.bst.B_ID INNER JOIN
                      dbo.bks ON dbo.abos.bks_id = dbo.bks.bks_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "adr"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks"
            Begin Extent = 
               Top = 114
               Left = 241
               Bottom = 222
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bestellungen_abos_ext'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bestellungen_abos_ext'
GO
/****** Object:  View [dbo].[bestellungen_abos]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bestellungen_abos]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      adr.adr_ID, 
      abos.ausgaben, 
      bst.Datum, 
      bst.Monate, 
      bst.mengentyp, 
      Count(abos.id) AS Anzahlvonid
   FROM 
      (adr 
         INNER JOIN abos 
         ON adr.adr_ID = abos.adr_id) 
         INNER JOIN bst 
         ON abos.bst_id = bst.B_ID
   WHERE ((
      (abos.status_id) = 147 OR 
      (abos.status_id) = 148 OR 
      (abos.status_id) = 152 OR 
      (abos.status_id) = 177))
   GROUP BY 
      adr.adr_ID, 
      abos.ausgaben, 
      bst.Datum, 
      bst.Monate, 
      bst.mengentyp
GO
/****** Object:  View [dbo].[bills_abos_anzahlen]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_abos_anzahlen]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT bls.bill_id, Count(abos.id) AS anzahl_abos, Sum(bst.Summe) AS sum_summe, Sum(bst.freight) AS sum_freight
   FROM 
      (abos 
         INNER JOIN bst 
         ON abos.bst_id = bst.B_ID) 
         INNER JOIN bls 
         ON bst.b_det_ID = bls.Beleg
   GROUP BY bls.bill_id
GO
/****** Object:  View [dbo].[bills_abos]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_abos]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT bls.bill_id
   FROM 
      (abos 
         INNER JOIN bst 
         ON abos.bst_id = bst.B_ID) 
         INNER JOIN bls 
         ON bst.b_det_ID = bls.Beleg
   GROUP BY bls.bill_id
GO
/****** Object:  View [dbo].[bill_data]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bill_data]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      det.det_ID, 
      det.det_adr_ID AS adr_id, 
      det.det_user AS [user], 
      det.det_datum AS datum, 
      det.Thema, 
      det.Projekt
   FROM det
GO
/****** Object:  View [dbo].[bestellungen_wartet_auf_versand]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bestellungen_wartet_auf_versand]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT bst.B_ID, detstatus.status_id, detstatus.status_datum
   FROM 
      bst 
         INNER JOIN detstatus 
         ON bst.B_ID = detstatus.ds_bst_id
   WHERE (((detstatus.status_id) = 140))
GO
/****** Object:  View [dbo].[bestellungen_verschickt]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bestellungen_verschickt]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT bst.B_ID, detstatus.status_id, detstatus.status_datum
   FROM 
      bst 
         INNER JOIN detstatus 
         ON bst.B_ID = detstatus.ds_bst_id
   WHERE (((detstatus.status_id) = 141))
GO
/****** Object:  View [dbo].[bestellungen_sonderlisten]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bestellungen_sonderlisten]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT bst.b_det_ID
   FROM 
      bls 
         INNER JOIN bst 
         ON bls.Beleg = bst.b_det_ID
   WHERE (((bls.bill_nr) LIKE '%SP'))
   GROUP BY bst.b_det_ID
GO
/****** Object:  View [dbo].[bestellungen_klein_bis_mittel]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bestellungen_klein_bis_mittel]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT bst.b_det_ID, Count(bst.B_ID) AS AnzahlvonB_ID
   FROM bst
   GROUP BY bst.b_det_ID
   HAVING (((Count(bst.B_ID)) < 4))
GO
/****** Object:  View [dbo].[bestellungen_gross_alle]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bestellungen_gross_alle]
AS
SELECT     b_det_ID, COUNT(B_ID) AS AnzahlvonB_ID
FROM         dbo.bst
GROUP BY b_det_ID
HAVING      (COUNT(B_ID) >= 4)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bst"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bestellungen_gross_alle'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bestellungen_gross_alle'
GO
/****** Object:  View [dbo].[bank_transactions_sums]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bank_transactions_sums]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      bank_transactions.bill_id, 
      Sum((
         CASE 
            WHEN [state_id] = 229 THEN [amount]
            ELSE 0
         END)) AS gebucht, 
      Sum((
         CASE 
            WHEN [state_id] = 228 THEN [amount]
            ELSE 0
         END)) AS ungebucht, 
      Sum((
         CASE 
            WHEN [state_id] = 230 THEN [amount]
            ELSE 0
         END)) AS beglichen, 
      Sum((
         CASE 
            WHEN [state_id] = 231 THEN [amount]
            ELSE 0
         END)) AS storniert
   FROM bank_transactions
   GROUP BY bank_transactions.bill_id
GO
/****** Object:  View [dbo].[bank_transactions_payed]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bank_transactions_payed]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT TOP 9223372036854775807 WITH TIES 
      bank_transactions.id, 
      bank_transactions.bill_id, 
      bank_transactions.due_at, 
      bank_transactions.description, 
      bank_transactions.amount, 
      bank_transactions.state_id
   FROM bank_transactions
   WHERE (((bank_transactions.state_id) = 230))
   ORDER BY bank_transactions.bill_id, bank_transactions.due_at
GO
/****** Object:  View [dbo].[bank_transactions_history_by_counter]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bank_transactions_history_by_counter]
AS
SELECT     TOP (2147483647) MAX(CONVERT(varchar(10), dbo.bank_transactions_history.created_at, 102)) AS datum, dbo.xb_aktionen_codes.code2 AS Status, 
                      COUNT(dbo.bank_transactions_history.id) AS Anzahl, SUM(dbo.bank_transactions.amount) AS Summe, dbo.bank_transactions_history.counter
FROM         dbo.bank_transactions_history LEFT OUTER JOIN
                      dbo.bank_transactions ON dbo.bank_transactions_history.bt_id = dbo.bank_transactions.id INNER JOIN
                      dbo.xb_aktionen_codes ON dbo.bank_transactions_history.state_id = dbo.xb_aktionen_codes.co_id
GROUP BY dbo.xb_aktionen_codes.code2, dbo.bank_transactions_history.counter
ORDER BY dbo.bank_transactions_history.counter DESC
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[41] 4[20] 2[14] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bank_transactions_history"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 155
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bank_transactions"
            Begin Extent = 
               Top = 11
               Left = 274
               Bottom = 119
               Right = 443
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "xb_aktionen_codes"
            Begin Extent = 
               Top = 135
               Left = 453
               Bottom = 243
               Right = 622
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 5880
         Alias = 1695
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bank_transactions_history_by_counter'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bank_transactions_history_by_counter'
GO
/****** Object:  View [dbo].[assortiment_expotrade]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
/****** Object:  View [dbo].[bank_transactions_history_requested_and_payed]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bank_transactions_history_requested_and_payed]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT TOP 9223372036854775807 WITH TIES 
      bank_transactions.id, 
      bank_transactions.bill_id, 
      bank_transactions.due_at, 
      bank_transactions.description, 
      bank_transactions.amount, 
      bank_transactions_history.state_id, 
      bank_transactions_history.counter, 
      bls.bill_adr_id AS adr_id
   FROM 
      (bank_transactions_history 
         INNER JOIN bank_transactions 
         ON bank_transactions_history.bt_id = bank_transactions.id) 
         INNER JOIN bls 
         ON bank_transactions.bill_id = bls.bill_id
   WHERE (((bank_transactions_history.state_id) = 229 OR (bank_transactions_history.state_id) = 230))
   ORDER BY bank_transactions.bill_id, bank_transactions.due_at
GO
/****** Object:  View [dbo].[bank_transactions_history_requested]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bank_transactions_history_requested]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT TOP 9223372036854775807 WITH TIES 
      bank_transactions.id, 
      bank_transactions.bill_id, 
      bank_transactions.due_at, 
      bank_transactions.description, 
      bank_transactions.amount, 
      bank_transactions_history.state_id, 
      bank_transactions_history.counter, 
      bls.bill_adr_id AS adr_id
   FROM 
      (bank_transactions_history 
         INNER JOIN bank_transactions 
         ON bank_transactions_history.bt_id = bank_transactions.id) 
         INNER JOIN bls 
         ON bank_transactions.bill_id = bls.bill_id
   WHERE (((bank_transactions_history.state_id) = 229))
   ORDER BY bank_transactions.bill_id, bank_transactions.due_at
GO
/****** Object:  View [dbo].[bank_transactions_history_payed]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bank_transactions_history_payed]
AS
SELECT     TOP (2147483647) WITH TIES dbo.bank_transactions.id, dbo.bank_transactions.bill_id, dbo.bank_transactions.due_at, 
                      dbo.bank_transactions.description, dbo.bank_transactions.amount, dbo.bank_transactions_history.state_id, 
                      dbo.bank_transactions_history.counter
FROM         dbo.bank_transactions_history INNER JOIN
                      dbo.bank_transactions ON dbo.bank_transactions_history.bt_id = dbo.bank_transactions.id
WHERE     (dbo.bank_transactions_history.state_id = 230)
ORDER BY dbo.bank_transactions.bill_id, dbo.bank_transactions.due_at
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bank_transactions_history"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 191
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bank_transactions"
            Begin Extent = 
               Top = 6
               Left = 229
               Bottom = 114
               Right = 382
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 2130
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bank_transactions_history_payed'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bank_transactions_history_payed'
GO
/****** Object:  View [dbo].[bank_transactions_history_by_id_with_bls]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bank_transactions_history_by_id_with_bls]
AS
SELECT     TOP (2147483647) WITH TIES dbo.bank_transactions_history.id AS history_id, dbo.bank_transactions_history.created_at AS datum, 
                      dbo.bank_transactions_history.counter, dbo.bank_transactions.id, dbo.bls.bill_id, dbo.bls.bill_adr_id AS adr_id, dbo.bls.Beleg AS det_id, 
                      dbo.bank_transactions_history.state_id, dbo.bank_transactions.amount, dbo.bls.Betrag
FROM         dbo.bank_transactions_history INNER JOIN
                      dbo.bank_transactions ON dbo.bank_transactions_history.bt_id = dbo.bank_transactions.id INNER JOIN
                      dbo.bls ON dbo.bank_transactions.bill_id = dbo.bls.bill_id
ORDER BY dbo.bank_transactions_history.counter DESC, history_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bank_transactions_history"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 191
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bank_transactions"
            Begin Extent = 
               Top = 6
               Left = 229
               Bottom = 114
               Right = 382
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 228
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bank_transactions_history_by_id_with_bls'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bank_transactions_history_by_id_with_bls'
GO
/****** Object:  View [dbo].[bank_transactions_history_by_id]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bank_transactions_history_by_id]
AS
SELECT     TOP (2147483647) WITH TIES dbo.bank_transactions_history.id AS history_id, dbo.bank_transactions.id, 
                      dbo.bank_transactions_history.created_at AS datum, dbo.bank_transactions_history.counter, dbo.bank_transactions_history.state_id
FROM         dbo.bank_transactions_history INNER JOIN
                      dbo.bank_transactions ON dbo.bank_transactions_history.bt_id = dbo.bank_transactions.id
ORDER BY dbo.bank_transactions_history.counter DESC
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bank_transactions_history"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 191
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bank_transactions"
            Begin Extent = 
               Top = 6
               Left = 229
               Bottom = 114
               Right = 382
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bank_transactions_history_by_id'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bank_transactions_history_by_id'
GO
/****** Object:  View [dbo].[adressen_abos_erste]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adressen_abos_erste]
AS
SELECT     MIN(dbo.abos.id) AS abo_id, dbo.adr.adr_ID, dbo.abos.bks_id, MIN(dbo.abos.erstellt_am) AS created_at
FROM         dbo.abos INNER JOIN
                      dbo.adr ON dbo.abos.adr_id = dbo.adr.adr_ID
GROUP BY dbo.adr.adr_ID, dbo.abos.bks_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "adr"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_abos_erste'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_abos_erste'
GO
/****** Object:  View [dbo].[adressen]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adressen]
AS
SELECT     dbo.adr.adr_ID, dbo.adr.adr_user, dbo.adr.adr_datum, dbo.adr.adr_alternativ_ID, LTRIM(RTRIM(COALESCE (dbo.adr.Anrede, N'') 
                      + ' ' + COALESCE (dbo.adr.Vorname, '') + ' ' + COALESCE (dbo.adr.Nachname, ''))) AS Kunde, LTRIM(RTRIM(COALESCE (dbo.adr.PLZ, '') 
                      + ' ' + COALESCE (dbo.adr.Ort, '') + ' ' + COALESCE (dbo.adr.Land, ''))) AS Stadt, dbo.adr.Gebdat, LTRIM(RTRIM(COALESCE (dbo.adr.VW, N'') 
                      + ' ' + dbo.adr.Tel)) AS telefon1, LTRIM(RTRIM(COALESCE (dbo.adr.VW2, N'') + ' ' + dbo.adr.Tel2)) AS telefon2, LTRIM(RTRIM(COALESCE (dbo.adr.VW3, 
                      N'') + ' ' + dbo.adr.Tel3)) AS fax, dbo.adr.[E-Mail], dbo.adr.[E-Mail2], dbo.adr.VW, dbo.adr.Tel, dbo.adr.VW2, dbo.adr.Tel2, dbo.adr.VW3, dbo.adr.Tel3, 
                      dbo.adr.Land, dbo.adr.Strasse, dbo.adr.PLZ, dbo.adr.Ort, dbo.adr.Anrede, dbo.adr.Vorname, dbo.adr.Nachname, dbo.adr.Herkunft, 
                      dbo.adr.soundex_nn_id, dbo.adr.soundex_str_id, dbo.adr.soundex_vn_id, dbo.countries.alpha2 AS Code
FROM         dbo.adr LEFT OUTER JOIN
                      dbo.countries ON dbo.adr.Land = dbo.countries.deutsch
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[32] 4[28] 2[19] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "adr"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "countries"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 396
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 10260
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen'
GO
/****** Object:  View [dbo].[adr_shipment]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adr_shipment]
AS
SELECT     dbo.det.det_ID, dbo.adr.adr_ID
FROM         dbo.adr INNER JOIN
                      dbo.det ON dbo.adr.adr_ID = dbo.det.delivery_id
GROUP BY dbo.adr.adr_ID, dbo.det.det_ID
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "adr"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adr_shipment'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adr_shipment'
GO
/****** Object:  View [dbo].[adressen_billing]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adressen_billing]
AS
SELECT     dbo.det.det_ID, dbo.adr.adr_ID, LTRIM(RTRIM(COALESCE (dbo.adr.Anrede, '') + ' ' + dbo.adr.Vorname + ' ' + dbo.adr.Nachname)) AS client, 
                      LTRIM(RTRIM(dbo.adr.PLZ + ' ' + dbo.adr.Ort)) AS city, dbo.adr.Strasse AS address, dbo.adr.Land AS country, LTRIM(RTRIM(COALESCE (dbo.adr.zsatz1,
                       '') + ' ' + COALESCE (dbo.adr.zsatz2, ''))) AS company, dbo.adr.PLZ AS zip_code, dbo.adr.Anrede, dbo.adr.Vorname, dbo.adr.Nachname, 
                      dbo.adr.Gebdat, dbo.adr.Strasse, dbo.adr.PLZ, dbo.adr.Ort, dbo.adr.Land, dbo.adr.VW, dbo.adr.Tel, dbo.adr.VW2, dbo.adr.Tel2, dbo.adr.[E-Mail], 
                      dbo.adr.[E-Mail2], dbo.adr.zsatz1 AS Firma1, dbo.adr.zsatz2 AS Firma2
FROM         dbo.adr INNER JOIN
                      dbo.det ON dbo.adr.adr_ID = dbo.det.billing_id
GROUP BY dbo.adr.adr_ID, dbo.det.det_ID, LTRIM(RTRIM(COALESCE (dbo.adr.Anrede, '') + ' ' + dbo.adr.Vorname + ' ' + dbo.adr.Nachname)), 
                      LTRIM(RTRIM(dbo.adr.PLZ + ' ' + dbo.adr.Ort)), dbo.adr.Strasse, dbo.adr.Land, LTRIM(RTRIM(COALESCE (dbo.adr.zsatz1, '') 
                      + ' ' + COALESCE (dbo.adr.zsatz2, ''))), dbo.adr.PLZ, dbo.adr.Anrede, dbo.adr.Vorname, dbo.adr.Nachname, dbo.adr.Gebdat, dbo.adr.Strasse, 
                      dbo.adr.PLZ, dbo.adr.Ort, dbo.adr.Land, dbo.adr.VW, dbo.adr.Tel, dbo.adr.VW2, dbo.adr.Tel2, dbo.adr.[E-Mail], dbo.adr.[E-Mail2], dbo.adr.zsatz1, 
                      dbo.adr.zsatz2
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "adr"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 6240
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_billing'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_billing'
GO
/****** Object:  View [dbo].[adressen_anzahl_nach_herkunft]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adressen_anzahl_nach_herkunft]
AS
SELECT     Herkunft, COUNT(adr_ID) AS AnzAdr
FROM         dbo.adr
GROUP BY Herkunft
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "adr"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_anzahl_nach_herkunft'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_anzahl_nach_herkunft'
GO
/****** Object:  View [dbo].[adressen_anzahl_kontakte_mit_resonanz]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adressen_anzahl_kontakte_mit_resonanz]
AS
SELECT     dbo.det.det_adr_ID, SUM(CASE WHEN [calltype] = 'NG' THEN 1 ELSE 0 END) AS NG, SUM(CASE WHEN [calltype] = 'BG' THEN 1 ELSE 0 END) AS BG, 
                      SUM(CASE WHEN [calltype] = 'BK' THEN 1 ELSE 0 END) AS BK, SUM(CASE WHEN [calltype] = 'NK' THEN 1 ELSE 0 END) AS NK, 
                      SUM(CASE WHEN [einstufung] = 'bestellung' THEN 1 ELSE 0 END) AS Bestellungen, SUM(CASE WHEN Len([beleg]) > 0 AND 
                      [betrag] > 0 THEN 1 ELSE 0 END) / CASE WHEN SUM(CASE WHEN [calltype] LIKE 'N%' THEN 1 ELSE 0 END) 
                      = 0 THEN 1 ELSE SUM(CASE WHEN [calltype] LIKE 'N%' THEN 1 ELSE 0 END) END AS Resonanz, 
                      SUM(CASE WHEN [einstufung] LIKE 'falsch%' THEN 1 ELSE 0 END) AS Falsch, SUM(COALESCE (dbo.bls.Betrag, 0)) AS Geldsumme
FROM         dbo.det LEFT OUTER JOIN
                      dbo.bls ON dbo.det.det_ID = dbo.bls.Beleg
GROUP BY dbo.det.det_adr_ID
HAVING      (SUM(CASE WHEN [calltype] = 'BK' THEN 1 ELSE 0 END) > 0) OR
                      (SUM(CASE WHEN [calltype] = 'NK' THEN 1 ELSE 0 END) > 0) OR
                      (SUM(CASE WHEN [einstufung] LIKE 'falsch%' THEN 1 ELSE 0 END) > 0)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "det"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 463
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_anzahl_kontakte_mit_resonanz'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_anzahl_kontakte_mit_resonanz'
GO
/****** Object:  View [dbo].[adr_letzter_kontakt]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adr_letzter_kontakt]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT det.det_adr_ID, Max(det.det_datum) AS kontakt
   FROM det
   WHERE (((det.calltype) LIKE '%G' OR (det.calltype) LIKE '%K'))
   GROUP BY det.det_adr_ID
GO
/****** Object:  View [dbo].[adr_letzter_eintrag_ohne_kontakt]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adr_letzter_eintrag_ohne_kontakt]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT det.det_adr_ID, Max(det.det_datum) AS kontakt
   FROM det
   WHERE (((det.calltype) = 'KK'))
   GROUP BY det.det_adr_ID
GO
/****** Object:  View [dbo].[adr_letzte_einstufung]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adr_letzte_einstufung]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT det.det_adr_ID, Max(det.det_datum) AS kontakt
   FROM det
   WHERE (((det.calltype) LIKE 'N%' OR (det.calltype) LIKE 'B%'))
   GROUP BY det.det_adr_ID
GO
/****** Object:  View [dbo].[adr_billing]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adr_billing]
AS
SELECT     dbo.det.det_ID, dbo.adr.adr_ID
FROM         dbo.adr INNER JOIN
                      dbo.det ON dbo.adr.adr_ID = dbo.det.billing_id
GROUP BY dbo.adr.adr_ID, dbo.det.det_ID
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "adr"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adr_billing'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adr_billing'
GO
/****** Object:  View [dbo].[adr_origins_in_outbound]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adr_origins_in_outbound]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT adr.Herkunft
   FROM 
      xb_outbound 
         INNER JOIN adr 
         ON xb_outbound.ob_adr_ID = adr.adr_ID
   WHERE (((xb_outbound.ob_user) IS NULL) AND ((xb_outbound.erledigt) IS NULL))
   GROUP BY adr.Herkunft
GO
/****** Object:  View [dbo].[adressen_suche_historie]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adressen_suche_historie]
AS
SELECT     dbo.det.det_ID, dbo.det.det_adr_ID AS adr_id, dbo.det.Projekt, dbo.det.Einstufung, dbo.det.Kommentar, CONVERT(datetime, dbo.det.det_datum, 2) 
                      AS datum, dbo.bls.bill_nr, dbo.bls_parts.serial
FROM         dbo.bls RIGHT OUTER JOIN
                      dbo.det ON dbo.bls.Beleg = dbo.det.det_ID LEFT OUTER JOIN
                      dbo.bls_parts ON dbo.bls.bill_id = dbo.bls_parts.bill_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bls"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 228
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 6
               Left = 266
               Bottom = 114
               Right = 431
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls_parts"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_suche_historie'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_suche_historie'
GO
/****** Object:  View [dbo].[adressen_suche]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adressen_suche]
AS
SELECT     adr_ID, Vorname, Nachname, Gebdat, Strasse, PLZ, Ort, Land, LTRIM(RTRIM(COALESCE (VW, '') + Tel)) AS telefon, LTRIM(RTRIM(COALESCE (VW2, '') 
                      + Tel2)) AS telefon2, LTRIM(RTRIM(COALESCE (VW3, '') + Tel3)) AS telefon3, [E-Mail], [E-Mail2]
FROM         dbo.adr
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "adr"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 2235
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_suche'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_suche'
GO
/****** Object:  View [dbo].[adressen_stornos_letzte]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adressen_stornos_letzte]
AS
SELECT     MAX(dbo.det.det_ID) AS det_id, dbo.adr.adr_ID, MAX(dbo.det.det_datum) AS [Letztes Stornodatum]
FROM         dbo.det INNER JOIN
                      dbo.adr ON dbo.det.det_adr_ID = dbo.adr.adr_ID
WHERE     (dbo.det.Einstufung = 'Stornierung')
GROUP BY dbo.adr.adr_ID
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "det"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "adr"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_stornos_letzte'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_stornos_letzte'
GO
/****** Object:  View [dbo].[adressen_shipment]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adressen_shipment]
AS
SELECT     dbo.det.det_ID, dbo.adr.adr_ID, LTRIM(RTRIM(COALESCE (dbo.adr.Anrede, '') + ' ' + dbo.adr.Vorname + ' ' + dbo.adr.Nachname)) AS client, 
                      LTRIM(RTRIM(dbo.adr.PLZ + ' ' + dbo.adr.Ort)) AS city, dbo.adr.Strasse AS address, dbo.adr.Land AS country, LTRIM(RTRIM(COALESCE (dbo.adr.zsatz1,
                       '') + ' ' + COALESCE (dbo.adr.zsatz2, ''))) AS company, dbo.adr.PLZ AS zip_code, dbo.adr.Anrede, dbo.adr.Vorname, dbo.adr.Nachname, 
                      dbo.adr.Gebdat, dbo.adr.Strasse, dbo.adr.PLZ, dbo.adr.Ort, dbo.adr.Land, dbo.adr.VW, dbo.adr.Tel, dbo.adr.VW2, dbo.adr.Tel2, dbo.adr.[E-Mail], 
                      dbo.adr.[E-Mail2], dbo.adr.zsatz1 AS Firma1, dbo.adr.zsatz2 AS Firma2
FROM         dbo.adr INNER JOIN
                      dbo.det ON dbo.adr.adr_ID = dbo.det.delivery_id
GROUP BY dbo.adr.adr_ID, dbo.det.det_ID, LTRIM(RTRIM(COALESCE (dbo.adr.Anrede, '') + ' ' + dbo.adr.Vorname + ' ' + dbo.adr.Nachname)), 
                      LTRIM(RTRIM(dbo.adr.PLZ + ' ' + dbo.adr.Ort)), dbo.adr.Strasse, dbo.adr.Land, LTRIM(RTRIM(COALESCE (dbo.adr.zsatz1, '') 
                      + ' ' + COALESCE (dbo.adr.zsatz2, ''))), dbo.adr.PLZ, dbo.adr.Anrede, dbo.adr.Vorname, dbo.adr.Nachname, dbo.adr.Gebdat, dbo.adr.Strasse, 
                      dbo.adr.PLZ, dbo.adr.Ort, dbo.adr.Land, dbo.adr.VW, dbo.adr.Tel, dbo.adr.VW2, dbo.adr.Tel2, dbo.adr.[E-Mail], dbo.adr.[E-Mail2], dbo.adr.zsatz1, 
                      dbo.adr.zsatz2
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "adr"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 6240
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_shipment'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_shipment'
GO
/****** Object:  View [dbo].[adressen_services]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create view [dbo].[adressen_services] as
SELECT     adr_services.adr_id, services.name
FROM         adr_services INNER JOIN
                      services ON adr_services.service_id = services.id
GO
/****** Object:  View [dbo].[adressen_familien_oder_dubletten]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adressen_familien_oder_dubletten]
AS
SELECT     adr_1.adr_ID AS adr_1_adr_ID, adr_1.Vorname, adr_1.Nachname, adr_1.Strasse, adr_1.PLZ, adr_1.VW, adr_1.Tel, MAX(dbo.det.det_datum) 
                      AS [letzter Kontakt], dbo.adr_dubs.adr_id AS adr_dubs_adr_id, dbo.adr.adr_ID
FROM         dbo.det RIGHT OUTER JOIN
                      dbo.adr_dubs INNER JOIN
                      dbo.adr ON dbo.adr_dubs.dub_id = dbo.adr.adr_ID INNER JOIN
                      dbo.adr AS adr_1 ON dbo.adr_dubs.adr_id = adr_1.adr_ID ON dbo.det.det_adr_ID = dbo.adr.adr_ID
GROUP BY adr_1.adr_ID, adr_1.Vorname, adr_1.Nachname, adr_1.Strasse, adr_1.PLZ, adr_1.VW, adr_1.Tel, dbo.adr_dubs.adr_id, dbo.adr.adr_ID
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "det"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 121
               Right = 220
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "adr_dubs"
            Begin Extent = 
               Top = 6
               Left = 258
               Bottom = 121
               Right = 440
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "adr_1"
            Begin Extent = 
               Top = 26
               Left = 738
               Bottom = 141
               Right = 920
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "adr"
            Begin Extent = 
               Top = 126
               Left = 258
               Bottom = 241
               Right = 440
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 10
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 1440
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 135' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_familien_oder_dubletten'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'0
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_familien_oder_dubletten'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_familien_oder_dubletten'
GO
/****** Object:  View [dbo].[adressen_mit_abos_alle]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adressen_mit_abos_alle]
AS
SELECT     adr_id, erstellt_am AS datum, COUNT(id) AS anzahl
FROM         dbo.abos
WHERE     (status_id <> 146)
GROUP BY erstellt_am, adr_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_mit_abos_alle'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_mit_abos_alle'
GO
/****** Object:  View [dbo].[adressen_mit_abos]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adressen_mit_abos]
AS
SELECT     adr_id, MIN(erstellt_am) AS datum
FROM         dbo.abos
GROUP BY adr_id
GO
/****** Object:  View [dbo].[adressen_letztes_mailing]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adressen_letztes_mailing]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT Max(det.det_ID) AS Maxvondet_ID, det.det_adr_ID
   FROM det
   WHERE (((det.Einstufung) = 'Mailing'))
   GROUP BY det.det_adr_ID
GO
/****** Object:  View [dbo].[adressen_letztes_bg_nach_user_und_datum]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adressen_letztes_bg_nach_user_und_datum]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      Max(det.det_ID) AS Maxvondet_ID, 
      det.det_user, 
      det.det_datum, 
      det.det_adr_ID, 
      det.Einstufung, 
      xb_projekte.parent_prj_id
   FROM 
      xb_projekte 
         INNER JOIN det 
         ON xb_projekte.prj_id = det.det_prj_id
   WHERE (((det.calltype) = 'BG'))
   GROUP BY 
      det.det_user, 
      det.det_datum, 
      det.det_adr_ID, 
      det.Einstufung, 
      xb_projekte.parent_prj_id
GO
/****** Object:  View [dbo].[anreden_scoreboard]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[anreden_scoreboard]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT TOP 9223372036854775807 WITH TIES adr.Vorname, Count(adr.Vorname) AS score, adr.Anrede
   FROM adr
   GROUP BY adr.Vorname, adr.Anrede
   HAVING (((adr.Vorname) NOT LIKE '% und %' AND (adr.Vorname) NOT LIKE '% u. %'))
   ORDER BY adr.Vorname, Count(adr.Vorname) DESC, adr.Anrede
GO
/****** Object:  View [dbo].[aktionsobjekte]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[aktionsobjekte]
AS
SELECT     TOP (100) PERCENT dbo.mailings.id AS mailing_id, dbo.objects.id, dbo.objects.name
FROM         dbo.mailings INNER JOIN
                      dbo.objects ON dbo.mailings.object = dbo.objects.id
ORDER BY mailing_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "mailings"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "objects"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'aktionsobjekte'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'aktionsobjekte'
GO
/****** Object:  View [dbo].[agenten_adressnutzung_nach_datum]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[agenten_adressnutzung_nach_datum]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      det.det_user, 
      det.det_datum, 
      det.Thema, 
      Sum((
         CASE 
            WHEN [calltype] = 'NK' OR [calltype] = 'NG' THEN 1
            ELSE 0
         END)) AS netto, 
      Sum((
         CASE 
            WHEN [calltype] = 'BG' OR [calltype] = 'BK' THEN 1
            ELSE 0
         END)) AS brutto
   FROM det
   GROUP BY det.det_user, det.det_datum, det.Thema
GO
/****** Object:  View [dbo].[adrz_adr_ids]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adrz_adr_ids] AS SELECT adrz.adrz_ID, adr.adr_ID, adrz.Anrede, adrz.Vorname, adrz.Nachname, adrz.Strasse, adrz.PLZ FROM adrz INNER JOIN adr ON (adrz.Nachname=adr.Nachname) AND (adrz.Strasse=adr.Strasse) AND (adrz.PLZ=adr.PLZ)
GO
/****** Object:  View [dbo].[adressen_letzte_einstufung_id]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adressen_letzte_einstufung_id]
AS
SELECT     MAX(dbo.det.det_ID) AS Maxvondet_ID, dbo.adr.adr_ID
FROM         dbo.adr INNER JOIN
                      dbo.det ON dbo.adr.adr_ID = dbo.det.det_adr_ID
GROUP BY dbo.adr.adr_ID
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "adr"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_letzte_einstufung_id'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_letzte_einstufung_id'
GO
/****** Object:  View [dbo].[adressen_ohne_einstufung]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adressen_ohne_einstufung]
AS
SELECT     dbo.adr.adr_ID
FROM         dbo.adr LEFT OUTER JOIN
                      dbo.det ON dbo.adr.adr_ID = dbo.det.det_adr_ID
WHERE     (dbo.det.det_ID IS NULL)
GROUP BY dbo.adr.adr_ID
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "adr"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 20
               Left = 412
               Bottom = 128
               Right = 593
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_ohne_einstufung'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_ohne_einstufung'
GO
/****** Object:  View [dbo].[adressen_nutzung]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adressen_nutzung]
AS
SELECT     dbo.adr.adr_ID, SUM(CASE WHEN [calltype] = 'NG' THEN 1 ELSE 0 END) AS NGs, SUM(CASE WHEN [calltype] = 'BG' THEN 1 ELSE 0 END) AS BGs, 
                      SUM(CASE WHEN [b_id] > 0 THEN 1 ELSE 0 END) AS Bestellungen, SUM(CASE WHEN abos.id > 0 THEN 1 ELSE 0 END) AS Abos, 
                      SUM(CASE WHEN [status_id] = 177 THEN 1 ELSE 0 END) AS Abos_Abgelaufen, SUM(CASE WHEN [status_id] = 146 THEN 1 ELSE 0 END) 
                      AS Abos_Storniert, MAX(CONVERT(datetime, COALESCE (dbo.det.det_datum, '1/1/1979'))) AS Letzter_Kontakt, CASE WHEN Len([strasse]) > 0 AND 
                      Len([plz]) > 0 THEN 1 ELSE 0 END AS Adresse, CASE WHEN Len([tel]) > 0 OR
                      Len([tel2]) > 0 THEN 1 ELSE 0 END AS Telefon, MAX(CASE WHEN [einstufung] LIKE 'falsch%' THEN 1 ELSE 0 END) AS FalscheNummer
FROM         dbo.adr LEFT OUTER JOIN
                      dbo.abos RIGHT OUTER JOIN
                      dbo.det LEFT OUTER JOIN
                      dbo.bst ON dbo.det.det_ID = dbo.bst.b_det_ID ON dbo.abos.bst_id = dbo.bst.B_ID ON dbo.adr.adr_ID = dbo.det.det_adr_ID
GROUP BY dbo.adr.adr_ID, CASE WHEN Len([strasse]) > 0 AND Len([plz]) > 0 THEN 1 ELSE 0 END, CASE WHEN Len([tel]) > 0 OR
                      Len([tel2]) > 0 THEN 1 ELSE 0 END
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "adr"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 114
               Left = 257
               Bottom = 222
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_nutzung'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_nutzung'
GO
/****** Object:  View [dbo].[automator_workflows_abos]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[automator_workflows_abos]
AS
SELECT     id, name, [function], path, pattern
FROM         dbo.automator_configuration
WHERE     (type = 'abos')
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[41] 4[32] 2[9] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "automator_configuration"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 191
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'automator_workflows_abos'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'automator_workflows_abos'
GO
/****** Object:  View [dbo].[artikelliste_aktiv]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[artikelliste_aktiv]
AS
SELECT     TOP (2147483647) dbo.Artikel.bks_id, dbo.Artikel.Bezeichnung, dbo.bks_kataloge.preis, dbo.bks_kataloge.id AS artid, dbo.bks.periodicality, 
                      dbo.bks_kataloge.provision, dbo.bks_kataloge.katalog_id, dbo.bks_kataloge.id AS obj_id
FROM         dbo.objects_projects INNER JOIN
                      dbo.Artikel INNER JOIN
                      dbo.bks ON dbo.Artikel.bks_id = dbo.bks.bks_id INNER JOIN
                      dbo.bks_kataloge ON dbo.bks.bks_id = dbo.bks_kataloge.bks_id ON dbo.objects_projects.object_id = dbo.bks_kataloge.katalog_id
WHERE     (dbo.objects_projects.active = 1) AND (dbo.bks.katalog = 1)
GROUP BY dbo.Artikel.bks_id, dbo.Artikel.Bezeichnung, dbo.bks_kataloge.preis, dbo.bks_kataloge.id, dbo.bks.periodicality, dbo.bks_kataloge.provision, 
                      dbo.bks_kataloge.katalog_id, dbo.bks_kataloge.id
ORDER BY dbo.Artikel.Bezeichnung
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "objects_projects"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Artikel"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks_kataloge"
            Begin Extent = 
               Top = 114
               Left = 257
               Bottom = 222
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'artikelliste_aktiv'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'artikelliste_aktiv'
GO
/****** Object:  View [dbo].[artikelliste]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[artikelliste]
AS
SELECT     TOP (2147483647) dbo.bks.bks_id, LTRIM(RTRIM(dbo.bks.titel + ' ' + COALESCE (dbo.bks.subtitel, ''))) AS Bezeichnung, dbo.bks_kataloge.preis, 
                      dbo.bks_kataloge.id AS ArtID, dbo.bks.periodicality, dbo.bks_kataloge.provision, dbo.bks_kataloge.katalog_id, dbo.bks_kataloge.id AS obj_id, 
                      dbo.bks.gewicht
FROM         dbo.objects_projects INNER JOIN
                      dbo.bks INNER JOIN
                      dbo.bks_kataloge ON dbo.bks.bks_id = dbo.bks_kataloge.bks_id ON dbo.objects_projects.object_id = dbo.bks_kataloge.katalog_id
WHERE     (dbo.objects_projects.active = 1) AND (dbo.bks.katalog = 1)
GROUP BY dbo.bks.bks_id, LTRIM(RTRIM(dbo.bks.titel + ' ' + COALESCE (dbo.bks.subtitel, ''))), dbo.bks_kataloge.preis, dbo.bks_kataloge.id, 
                      dbo.bks.periodicality, dbo.bks_kataloge.provision, dbo.bks_kataloge.katalog_id, dbo.bks_kataloge.id, dbo.bks.gewicht
ORDER BY LTRIM(RTRIM(dbo.bks.titel + ' ' + COALESCE (dbo.bks.subtitel, '')))
GO
/****** Object:  View [dbo].[xb_notizen]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_notizen]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT TOP 9223372036854775807 WITH TIES 
      xb_mail.mail_id, 
      xb_mail.date_send, 
      xb_mail.date_read, 
      xb_mail.von, 
      xb_mail.für, 
      xb_mail.betreff, 
      (CASE 
         WHEN len([mail]) > 45 THEN left([mail], 45) + '...'
         ELSE [mail]
      END) AS mail_body, 
      xb_mail.status
   FROM xb_mail
   WHERE (((xb_mail.status) <> 'e'))
   ORDER BY xb_mail.date_send DESC
GO
/****** Object:  View [dbo].[xb_stati_abotitel]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_stati_abotitel]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT xb_aktionen_codes.co_id, xb_aktionen_codes.code2
   FROM xb_aktionen_codes
   WHERE (((xb_aktionen_codes.code1) = 'abotitel'))
GO
/****** Object:  View [dbo].[xb_stati_abos]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_stati_abos]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT xb_aktionen_codes.co_id, xb_aktionen_codes.code2
   FROM xb_aktionen_codes
   WHERE (((xb_aktionen_codes.code1) = 'abonnement'))
GO
/****** Object:  View [dbo].[xb_projektverwaltung_outbound_user]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_projektverwaltung_outbound_user]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT TOP 9223372036854775807 WITH TIES xb_outbound_user.ob_user, xb_user.alternativ_id
   FROM 
      xb_user 
         INNER JOIN xb_outbound_user 
         ON xb_user.KK = xb_outbound_user.ob_user
   ORDER BY xb_user.alternativ_id
GO
/****** Object:  View [dbo].[xb_projektverwaltung_adressverteilung]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_projektverwaltung_adressverteilung]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      xb_outbound.ob_user, 
      xb_user.alternativ_id AS Agent, 
      Sum((
         CASE 
            WHEN [erledigt] IS NULL THEN 1
            ELSE 0
         END)) AS Unangetastete, 
      Sum((
         CASE 
            WHEN [erledigt] <> 'ja' AND [erledigt] IS NOT NULL THEN 1
            ELSE 0
         END)) AS Angefangene, 
      Sum((
         CASE 
            WHEN [erledigt] = 'ja' THEN 0
            ELSE 1
         END)) AS Gesamt
   FROM 
      xb_outbound 
         LEFT JOIN xb_user 
         ON xb_outbound.ob_user = xb_user.KK
   GROUP BY xb_outbound.ob_user, xb_user.alternativ_id, xb_outbound.ob_prj_ID
   HAVING (((Sum((
      CASE 
         WHEN [erledigt] = 'ja' THEN 0
         ELSE 1
      END))) > 0))
GO
/****** Object:  View [dbo].[xb_bestellverwaltung_versandmenge]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_bestellverwaltung_versandmenge]
AS
SELECT     dbo.bst.b_det_ID, COUNT(dbo.detstatus.ds_id) AS Anzahlvonds_id
FROM         dbo.bst INNER JOIN
                      dbo.detstatus ON dbo.bst.B_ID = dbo.detstatus.ds_bst_id
WHERE     (dbo.detstatus.ds_bst_id IS NOT NULL) AND (dbo.detstatus.status_id = 141)
GROUP BY dbo.bst.b_det_ID
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bst"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "detstatus"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_bestellverwaltung_versandmenge'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_bestellverwaltung_versandmenge'
GO
/****** Object:  View [dbo].[xb_bestellverwaltung_orderlist]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_bestellverwaltung_orderlist]
AS
SELECT     TOP (2147483647) CASE WHEN [status_id] = 132 THEN 'True' ELSE 'False' END AS bezahlt, dbo.bls.bill_datum, 
                      dbo.adr.Vorname + N' ' + dbo.adr.Nachname AS Besteller, dbo.det.det_user, dbo.bls.bill_nr AS Rechnungsnummer, dbo.bls.Beleg, dbo.bls.Betrag, 
                      dbo.det.det_prj_id, dbo.bls.porto, dbo.det.Projekt, MAX(dbo.detstatus.status_datum) AS Maxvonstatus_datum, dbo.det.storniert AS storno, 
                      CASE WHEN [table_left] = 'bls' AND [id_left] = bls.bill_id THEN 1 ELSE 0 END AS marker, LTRIM(RTRIM(COALESCE (dbo.det.Einstufung, '') 
                      + N' ' + COALESCE (dbo.det.Fächerung, ''))) AS Ergebnis, dbo.bls.gutschrift, dbo.bls.Gebühr, CASE WHEN det.storniert IS NOT NULL 
                      THEN N'заказ отменен' END AS storniert_status, dbo.bls.bill_id, dbo.det.det_adr_ID, dbo.bls.raten, dbo.bls.abbezahlt, dbo.bls_parts.serial, 
                      dbo.bls.payment_type, dbo.bls.rate_type, dbo.bls.payment_day, dbo.bls.ustidnr
FROM         dbo.bls INNER JOIN
                      dbo.bst RIGHT OUTER JOIN
                      dbo.adr INNER JOIN
                      dbo.det ON dbo.adr.adr_ID = dbo.det.det_adr_ID ON dbo.bst.b_det_ID = dbo.det.det_ID ON dbo.bls.Beleg = dbo.det.det_ID LEFT OUTER JOIN
                      dbo.detstatus ON dbo.det.det_ID = dbo.detstatus.ds_det_id LEFT OUTER JOIN
                      dbo.markers ON dbo.bls.bill_id = dbo.markers.id_left LEFT OUTER JOIN
                      dbo.bls_parts ON dbo.bls.bill_id = dbo.bls_parts.bill_id
GROUP BY CASE WHEN [status_id] = 132 THEN 'True' ELSE 'False' END, dbo.bls.bill_datum, dbo.adr.Vorname + N' ' + dbo.adr.Nachname, dbo.det.det_user, 
                      dbo.bls.bill_nr, dbo.bls.Beleg, dbo.bls.Betrag, dbo.det.det_prj_id, dbo.bls.porto, dbo.det.Projekt, dbo.det.storniert, CASE WHEN [table_left] = 'bls' AND 
                      [id_left] = bls.bill_id THEN 1 ELSE 0 END, LTRIM(RTRIM(COALESCE (dbo.det.Einstufung, '') + N' ' + COALESCE (dbo.det.Fächerung, ''))), 
                      dbo.bls.gutschrift, dbo.bls.Gebühr, dbo.bls.bill_id, dbo.det.det_adr_ID, dbo.bls.raten, dbo.bls.abbezahlt, dbo.bls_parts.serial, dbo.bls.payment_type, 
                      dbo.bls.rate_type, dbo.bls.payment_day, dbo.bls.ustidnr
ORDER BY dbo.bls.bill_datum DESC, Maxvonstatus_datum DESC
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bls"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 244
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 6
               Left = 282
               Bottom = 114
               Right = 463
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "adr"
            Begin Extent = 
               Top = 6
               Left = 501
               Bottom = 114
               Right = 682
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 6
               Left = 720
               Bottom = 114
               Right = 901
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "detstatus"
            Begin Extent = 
               Top = 6
               Left = 939
               Bottom = 114
               Right = 1108
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "markers"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls_parts"
            Begin Extent = 
               Top = 114
               Left = 245
               Bottom = 222
               Right = 426
            End
            DisplayFlags = 280
            Top' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_bestellverwaltung_orderlist'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'Column = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 5700
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_bestellverwaltung_orderlist'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_bestellverwaltung_orderlist'
GO
/****** Object:  View [dbo].[xb_bestellverwaltung_bestellung]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_bestellverwaltung_bestellung]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   /*
   *   SSMA warning messages:
   *   A2SS0067: Synchronization may run with errors because columns names may repeat in '*' expression.
   */

   SELECT bst.*
   FROM bst
GO
/****** Object:  View [dbo].[zahlungsmodi]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[zahlungsmodi]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT xb_aktionen_codes.co_akt_id, xb_aktionen_codes.code2
   FROM xb_aktionen_codes
   WHERE (((xb_aktionen_codes.typ) = 'Zahlungsmodus') AND ((xb_aktionen_codes.code3) = 'aktiv'))
GO
/****** Object:  View [dbo].[user_shares]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[user_shares]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT provision.det_id, xb_user.alternativ_id, provision.value AS Provision, [value] / [umsatz] AS Anteil
   FROM 
      (provision 
         INNER JOIN xb_user 
         ON provision.user_id = xb_user.id) 
         INNER JOIN det 
         ON provision.det_id = det.det_ID
GO
/****** Object:  View [dbo].[user_shareholding]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[user_shareholding]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT provision.user_id, det.det_ID, Sum((
      CASE 
         WHEN xb_user.kk <> det.det_user THEN [value]
         ELSE 0
      END)) AS shareholding, det.det_user
   FROM 
      xb_user 
         INNER JOIN (provision 
         INNER JOIN det 
         ON provision.det_id = det.det_ID) 
         ON xb_user.id = provision.user_id
   GROUP BY provision.user_id, det.det_ID, det.det_user
   HAVING (((Sum((
      CASE 
         WHEN xb_user.kk <> det.det_user THEN [value]
         ELSE 0
      END))) > 0))
GO
/****** Object:  View [dbo].[user_rechnungen_zahlungsanteile]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[user_rechnungen_zahlungsanteile]
AS
SELECT     user_id, ISNULL(SUM(ISNULL(bezahlt, 0)) / SUM(ISNULL(ausgestellt, 0)), 0) AS Zahlungsanteil
FROM         dbo.user_rechnungen
WHERE     (ausgestellt_datum BETWEEN DATEADD(week, - 20, CONVERT(datetime, CONVERT(varchar, GETDATE(), 104), 104)) AND DATEADD(week, - 4, 
                      CONVERT(datetime, CONVERT(varchar, GETDATE(), 104), 104)))
GROUP BY user_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "user_rechnungen"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 222
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'user_rechnungen_zahlungsanteile'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'user_rechnungen_zahlungsanteile'
GO
/****** Object:  View [dbo].[store_vendors_list]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[store_vendors_list]
AS
SELECT     TOP (2147483647) WITH TIES MAX(dbo.store_vendors.id) AS Maxvonid, dbo.xb_tarife_shops.name AS vendor, dbo.store_vendors.bks_id, 
                      dbo.store_vendors.foreign_name, dbo.xb_tarife_shops.shop_id
FROM         dbo.store_vendors INNER JOIN
                      dbo.xb_tarife_shops ON dbo.store_vendors.vendor_id = dbo.xb_tarife_shops.shop_id
GROUP BY dbo.xb_tarife_shops.name, dbo.store_vendors.bks_id, dbo.store_vendors.foreign_name, dbo.xb_tarife_shops.shop_id
ORDER BY Maxvonid DESC
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "store_vendors"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "xb_tarife_shops"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1395
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'store_vendors_list'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'store_vendors_list'
GO
/****** Object:  View [dbo].[vendors]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[vendors]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT xb_tarife_shops.shop_id, xb_tarife_shops.name
   FROM xb_tarife_shops
   WHERE (((xb_tarife_shops.prj_id) = 127))
GO
/****** Object:  View [dbo].[user_letzte_det_id]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[user_letzte_det_id]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      xb_user.id, 
      xb_user.KK, 
      xb_user.alternativ_id, 
      Max(det.det_ID) AS Maxvondet_ID, 
      det.det_adr_ID
   FROM 
      det 
         INNER JOIN xb_user 
         ON det.det_user = xb_user.KK
   GROUP BY xb_user.id, xb_user.KK, xb_user.alternativ_id, det.det_adr_ID
GO
/****** Object:  View [dbo].[user_last_contacts]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[user_last_contacts]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT det.det_adr_ID, det.det_user, Max(det.det_datum) AS Maxvondet_datum
   FROM det
   GROUP BY det.det_adr_ID, det.det_user
GO
/****** Object:  View [dbo].[user_goals_and_passes]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[user_goals_and_passes]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      det.det_ID, 
      provision.user_id, 
      (CASE 
         WHEN det.det_user = xb_user.kk THEN 1
         ELSE 0
      END) AS goal, 
      (CASE 
         WHEN det.det_user <> xb_user.kk THEN 1
         ELSE 0
      END) AS share, 
      provision.value
   FROM 
      xb_user 
         INNER JOIN (det 
         INNER JOIN provision 
         ON det.det_ID = provision.det_id) 
         ON xb_user.id = provision.user_id
   WHERE (((det.storniert) IS NULL))
GO
/****** Object:  View [dbo].[ttcall_einstufungen_bestellung_neu]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[ttcall_einstufungen_bestellung_neu]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT xb_aktionen_est.est_id, xb_aktionen_est.fächerung, xb_projekte.prj_akt AS ttcall_prj_id, xb_projekte.prj_id
   FROM 
      xb_aktionen_est 
         INNER JOIN xb_projekte 
         ON xb_aktionen_est.est_prj_id = xb_projekte.prj_id
   WHERE (
      ((xb_aktionen_est.fächerung) = 'neu') AND 
      ((xb_projekte.prj_akt) LIKE '00%') AND 
      ((xb_aktionen_est.Einstufung) = 'bestellung'))
GO
/****** Object:  View [dbo].[subscriptions_open_end]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[subscriptions_open_end] AS SELECT subscriptions.id, subscriptions.det_id, subscriptions.abo_id FROM subscriptions WHERE (((subscriptions.open_end)=1))
GO
/****** Object:  View [dbo].[subscriptions_oe_amounts]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[subscriptions_oe_amounts]
AS
SELECT     det_id, SUM((CASE WHEN [open_end] = 1 THEN 1 ELSE 0 END)) AS OE, SUM((CASE WHEN [open_end] = 0 THEN 1 ELSE 0 END)) AS geschlossen
FROM         dbo.subscriptions
GROUP BY det_id
GO
/****** Object:  View [dbo].[subscriptions_abos_open_end]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[subscriptions_abos_open_end]
AS
SELECT     abo_id, det_id
FROM         dbo.subscriptions
WHERE     (open_end = 1)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "subscriptions"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'subscriptions_abos_open_end'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'subscriptions_abos_open_end'
GO
/****** Object:  View [dbo].[storno_rechnungen]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[storno_rechnungen]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      bls.bill_id AS ursprungs_id, 
      bls.bill_nr AS ursprungs_rechnungsnummer, 
      bls.Betrag, 
      bls_1.bill_id AS storno_id, 
      bls_1.bill_nr AS storno_rechnungsnummer, 
      bls_1.Betrag AS storno_betrag, 
      bls_1.bill_datum AS storno_datum, 
      bls.bill_datum AS Bestelldatum, 
      xb_user.id AS ur_user_id, 
      det_1.est_id AS storno_est_id, 
      det.det_ID, 
      bls_1.Beleg AS storno_det_id
   FROM 
      (((bls 
         INNER JOIN det 
         ON bls.Beleg = det.det_ID) 
         INNER JOIN bls  AS bls_1 
         ON det.storniert = bls_1.Beleg) 
         INNER JOIN xb_user 
         ON det.det_user = xb_user.KK) 
         INNER JOIN det  AS det_1 
         ON bls_1.Beleg = det_1.det_ID
   WHERE (((bls_1.Betrag) < 0))
GO
/****** Object:  View [dbo].[xb_aboverwaltung_aktualisierung_nicht_bezahlte]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_aboverwaltung_aktualisierung_nicht_bezahlte]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT abos.status_id, abos.erstellt_am, abos.adr_id
   FROM 
      ((bst 
         INNER JOIN abos 
         ON bst.B_ID = abos.bst_id) 
         INNER JOIN det 
         ON bst.b_det_ID = det.det_ID) 
         INNER JOIN bls 
         ON det.det_ID = bls.Beleg
   WHERE (
      ((abos.status_id) = 148) AND 
      ((
      CASE 
         WHEN (EXISTS 
            (
               SELECT ds_id
               FROM detstatus
               WHERE ds_det_id = bls.beleg AND status_id = 132
            )) THEN 1
         ELSE 0
      END) = 0) AND 
      ((bls.Betrag) > 1))
GO
/****** Object:  View [dbo].[xb_aboverwaltung_abos_titeln]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_aboverwaltung_abos_titeln]
AS
SELECT     dbo.abotiteln.id AS abotiteln_id, dbo.abos.id, dbo.abos.adr_id, dbo.abos.bst_id, dbo.abos.bks_id, dbo.abos.object_id, dbo.abos.bezeichnung, 
                      dbo.abos.ausgaben, dbo.abos.erstellt_am, dbo.abos.beginnt_am, dbo.abos.geändert_am, dbo.abos.status_id, dbo.abos.flag, 
                      dbo.abos.SSMA_TimeStamp, dbo.abotiteln.abos_id, dbo.abotiteln.menge, dbo.abotiteln.ausgabe, dbo.abotiteln.geändert_am AS abotiteln_geändert, 
                      dbo.abotiteln.status_id AS abotiteln_status_id, dbo.flip_aboausgabe(dbo.abotiteln.ausgabe) AS abotiteln_ausgabe
FROM         dbo.abos INNER JOIN
                      dbo.abotiteln ON dbo.abos.id = dbo.abotiteln.abos_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 5085
         Alias = 1065
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_aboverwaltung_abos_titeln'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_aboverwaltung_abos_titeln'
GO
/****** Object:  View [dbo].[xb_aboverwaltung_abonnenten_ansicht]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
/*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
CREATE VIEW [dbo].[xb_aboverwaltung_abonnenten_ansicht]
AS
SELECT     TOP (2147483647) WITH TIES dbo.abos.id, LTRIM(RTRIM(COALESCE (dbo.bks.titel, '') + ' ' + COALESCE (dbo.bks.subtitel, ''))) AS name, 
                      dbo.abos.adr_id, dbo.abos.bst_id, dbo.abos.bks_id, dbo.abos.object_id, dbo.abos.bezeichnung, dbo.abos.ausgaben, dbo.abos.erstellt_am, 
                      dbo.abos.beginnt_am, dbo.abos.geändert_am, dbo.abos.status_id, dbo.abos.flag, dbo.abos.SSMA_TimeStamp, dbo.subscriptions.open_end
FROM         dbo.abos INNER JOIN
                      dbo.bks ON dbo.abos.bks_id = dbo.bks.bks_id LEFT OUTER JOIN
                      dbo.subscriptions ON dbo.abos.id = dbo.subscriptions.abo_id
ORDER BY dbo.abos.erstellt_am DESC
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "subscriptions"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 3975
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_aboverwaltung_abonnenten_ansicht'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_aboverwaltung_abonnenten_ansicht'
GO
/****** Object:  View [dbo].[xb_aboverwaltung_abonnenten_abos]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_aboverwaltung_abonnenten_abos]
AS
SELECT     dbo.abos.adr_id, dbo.abos.bks_id, dbo.bks.titel + N' ' + COALESCE (dbo.bks.subtitel, N'') AS bezeichnung, MAX(dbo.abos.erstellt_am) 
                      AS zuletzt_am
FROM         dbo.abos LEFT OUTER JOIN
                      dbo.bks ON dbo.abos.bks_id = dbo.bks.bks_id
GROUP BY dbo.abos.adr_id, dbo.abos.bks_id, dbo.bks.titel + N' ' + COALESCE (dbo.bks.subtitel, N'')
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 3255
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_aboverwaltung_abonnenten_abos'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_aboverwaltung_abonnenten_abos'
GO
/****** Object:  View [dbo].[xb_aboverwaltung_aboanzahl]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_aboverwaltung_aboanzahl]
AS
SELECT     TOP (2147483647) dbo.abos.bezeichnung, dbo.abotiteln.ausgabe, COUNT(dbo.abotiteln.ausgabe) AS Anzahlvonausgabe, dbo.lager.ist
FROM         dbo.abotiteln INNER JOIN
                      dbo.abos ON dbo.abotiteln.abos_id = dbo.abos.id INNER JOIN
                      dbo.lager ON dbo.abos.bks_id = dbo.lager.bks_id AND dbo.abotiteln.ausgabe = dbo.lager.ausgabe
GROUP BY dbo.abos.bezeichnung, dbo.abotiteln.ausgabe, dbo.lager.ist
ORDER BY dbo.abos.bezeichnung, dbo.abotiteln.ausgabe
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 245
               Bottom = 114
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "lager"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_aboverwaltung_aboanzahl'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_aboverwaltung_aboanzahl'
GO
/****** Object:  View [dbo].[xb_abos_überweisungen]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_abos_überweisungen]
AS
SELECT DISTINCT 
                      TOP (2147483647) WITH TIES dbo.det.det_ID AS rechnungsnr, dbo.adr.adr_ID, 
                      dbo.adr.Anrede + ' ' + dbo.adr.Vorname + ' ' + dbo.adr.Nachname AS Person, dbo.bls.Betrag AS Rechnungsbetrag, dbo.bst.Datum, dbo.det.det_ID, 
                      dbo.bls.bill_nr
FROM         dbo.adr INNER JOIN
                      dbo.abos ON dbo.adr.adr_ID = dbo.abos.adr_id INNER JOIN
                      dbo.det INNER JOIN
                      dbo.bst ON dbo.det.det_ID = dbo.bst.b_det_ID ON dbo.abos.bst_id = dbo.bst.B_ID INNER JOIN
                      dbo.bls ON dbo.det.det_ID = dbo.bls.Beleg
ORDER BY dbo.adr.adr_ID
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "adr"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 114
               Left = 241
               Bottom = 222
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls"
            Begin Extent = 
               Top = 222
               Left = 38
               Bottom = 330
               Right = 228
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
     ' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abos_überweisungen'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'    Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abos_überweisungen'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abos_überweisungen'
GO
/****** Object:  View [dbo].[xb_abos_geldretouren]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_abos_geldretouren]
AS
SELECT     dbo.abos.id, SUM(dbo.abotiteln.menge) AS Summevonmenge
FROM         dbo.abotiteln INNER JOIN
                      dbo.abos ON dbo.abotiteln.abos_id = dbo.abos.id INNER JOIN
                      dbo.bst ON dbo.abos.bst_id = dbo.bst.B_ID INNER JOIN
                      dbo.bls ON dbo.bst.b_det_ID = dbo.bls.Beleg INNER JOIN
                      dbo.detstatus ON dbo.bls.Beleg = dbo.detstatus.ds_det_id
WHERE     (dbo.abotiteln.status_id IS NULL) AND (dbo.abos.status_id = 146) AND (dbo.detstatus.status_id = 132) OR
                      (dbo.abotiteln.status_id <> 149) AND (dbo.abos.status_id = 146) AND (dbo.detstatus.status_id = 132) AND (dbo.abotiteln.status_id <> 154)
GROUP BY dbo.abos.id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 245
               Bottom = 114
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls"
            Begin Extent = 
               Top = 114
               Left = 257
               Bottom = 222
               Right = 463
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "detstatus"
            Begin Extent = 
               Top = 222
               Left = 38
               Bottom = 330
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table =' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abos_geldretouren'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N' 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abos_geldretouren'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abos_geldretouren'
GO
/****** Object:  View [dbo].[xb_abos_erstausgabe]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_abos_erstausgabe]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT abotiteln.abos_id, Min((CAST(round([ausgabe], 0) AS int)) / 100) AS Nummer, Min((CAST(round([ausgabe], 0) AS int)) % (CAST(round(100, 0) AS int))) AS Jahr, bks.periodicality
   FROM 
      abotiteln 
         INNER JOIN (abos 
         INNER JOIN bks 
         ON abos.bks_id = bks.bks_id) 
         ON abotiteln.abos_id = abos.id
   GROUP BY abotiteln.abos_id, bks.periodicality
GO
/****** Object:  View [dbo].[xb_abon]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_abon]
AS
SELECT DISTINCT 
                      TOP (2147483647) WITH TIES dbo.abos.adr_id, dbo.adr.Anrede, dbo.adr.Vorname, dbo.adr.Nachname, dbo.adr.PLZ, dbo.adr.Ort, dbo.adr.Strasse, 
                      MAX(dbo.abos.erstellt_am) AS Bestelldatum
FROM         dbo.adr INNER JOIN
                      dbo.abos ON dbo.adr.adr_ID = dbo.abos.adr_id LEFT OUTER JOIN
                      dbo.abotiteln ON dbo.abos.id = dbo.abotiteln.abos_id
GROUP BY dbo.adr.Anrede, dbo.adr.Vorname, dbo.adr.Nachname, dbo.adr.PLZ, dbo.adr.Ort, dbo.adr.Strasse, dbo.abos.adr_id
ORDER BY Bestelldatum DESC
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "adr"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abon'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abon'
GO
/****** Object:  View [dbo].[wvl_user_max]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[wvl_user_max]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT wvl.wvl_adr_id, Max(wvl.wvl_datum) AS Maxvonwvl_datum, wvl.wvl_user
   FROM wvl
   GROUP BY wvl.wvl_adr_id, wvl.wvl_user
GO
/****** Object:  View [dbo].[wvl_max]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[wvl_max]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT wvl.wvl_adr_id, Max(wvl.wvl_datum) AS Maxvonwvl_datum
   FROM wvl
   GROUP BY wvl.wvl_adr_id
GO
/****** Object:  View [dbo].[wvl_liste]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[wvl_liste]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   /*
   *   SSMA warning messages:
   *   A2SS0067: Synchronization may run with errors because columns names may repeat in '*' expression.
   */

   SELECT wvl.*, isnull(ltrim(rtrim([vorname] + ' ' + [Nachname])), 'Kunde gelöscht') AS Person
   FROM 
      adr 
         RIGHT JOIN wvl 
         ON adr.adr_ID = wvl.wvl_adr_id
GO
/****** Object:  View [dbo].[wvl_im_outbound]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[wvl_im_outbound]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   /*
   *   SSMA warning messages:
   *   A2SS0067: Synchronization may run with errors because columns names may repeat in '*' expression.
   */

   SELECT wvl.*
   FROM 
      xb_outbound 
         INNER JOIN wvl 
         ON (xb_outbound.ob_user = wvl.wvl_user) AND (xb_outbound.ob_adr_ID = wvl.wvl_adr_id)
GO
/****** Object:  View [dbo].[users_aktiv]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[users_aktiv]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   /*
   *   SSMA warning messages:
   *   A2SS0067: Synchronization may run with errors because columns names may repeat in '*' expression.
   */

   SELECT xb_user.*, tel.Bis
   FROM 
      xb_user 
         INNER JOIN tel 
         ON xb_user.KK = tel.tel_user
   WHERE (((tel.Bis) >= dateadd(minute, -15, getdate())))
GO
/****** Object:  View [dbo].[user_unbezahlte_rechnungen]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[user_unbezahlte_rechnungen]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT Sum(bls.Betrag) AS Summe, det.det_user, det.det_alternativ_ID, Count(bls.bill_id) AS Anzahl
   FROM 
      bls 
         INNER JOIN det 
         ON bls.Beleg = det.det_ID
   WHERE (((
      CASE 
         WHEN (EXISTS 
            (
               SELECT ds_det_id
               FROM detstatus
               WHERE ds_det_id = beleg AND status_id = 132
            )) THEN 1
         ELSE 0
      END) = 0) AND ((det.storniert) IS NULL))
   GROUP BY det.det_user, det.det_alternativ_ID
GO
/****** Object:  View [dbo].[xb_aboverwaltung_laufende_abos]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_aboverwaltung_laufende_abos]
AS
SELECT     dbo.abotiteln.id AS abotiteln_id, dbo.abos.id AS abos_id, dbo.abos.bks_id, dbo.abotiteln.ausgabe
FROM         dbo.abos INNER JOIN
                      dbo.abotiteln ON dbo.abos.id = dbo.abotiteln.abos_id
WHERE     (dbo.abotiteln.status_id IS NULL OR
                      dbo.abotiteln.status_id = 150 OR
                      dbo.abotiteln.status_id = 156) AND (dbo.abos.status_id = 147 OR
                      dbo.abos.status_id = 148)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 1065
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_aboverwaltung_laufende_abos'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_aboverwaltung_laufende_abos'
GO
/****** Object:  View [dbo].[xb_aboverwaltung_lagerhistorie_bestellübergabe]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_aboverwaltung_lagerhistorie_bestellübergabe] AS SELECT lager_history.id, lager_history.est_id, lager_history.bks_id, lager_history.lager_id, lager_history.created_at, lager_history.created_by, lager_history.soll FROM lager_history WHERE (((lager_history.est_id)=1961))
GO
/****** Object:  View [dbo].[xb_aboverwaltung_lagerhistorie]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_aboverwaltung_lagerhistorie]
AS
SELECT     TOP (2147483647) dbo.lager_history.est_id, dbo.TRIM(dbo.xb_aktionen_est.Einstufung + N' ' + dbo.xb_aktionen_est.fächerung) AS Ergebnis, 
                      CONVERT(datetime, CONVERT(varchar(10), COALESCE (dbo.lager_history.created_at, CONVERT(DATETIME, '1979-01-01 00:00:00', 102)), 101), 101) 
                      AS Datum
FROM         dbo.lager RIGHT OUTER JOIN
                      dbo.lager_history INNER JOIN
                      dbo.xb_aktionen_est ON dbo.lager_history.est_id = dbo.xb_aktionen_est.est_id ON dbo.lager.id = dbo.lager_history.lager_id
GROUP BY dbo.lager_history.est_id, dbo.TRIM(dbo.xb_aktionen_est.Einstufung + N' ' + dbo.xb_aktionen_est.fächerung), CONVERT(datetime, 
                      CONVERT(varchar(10), COALESCE (dbo.lager_history.created_at, CONVERT(DATETIME, '1979-01-01 00:00:00', 102)), 101), 101)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "lager"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "lager_history"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "xb_aktionen_est"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 7335
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_aboverwaltung_lagerhistorie'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_aboverwaltung_lagerhistorie'
GO
/****** Object:  View [dbo].[xb_aboverwaltung_lager_soll]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_aboverwaltung_lager_soll]
AS
SELECT     TOP (2147483647) WITH TIES dbo.bks.bks_id, LTRIM(RTRIM(COALESCE (dbo.bks.titel, '') + ' ' + COALESCE (dbo.bks.subtitel, ''))) AS Bezeichnung, 
                      dbo.abotiteln.ausgabe, dbo.lager.ist, COUNT(dbo.abotiteln.ausgabe) AS soll, dbo.bks.periodicality
FROM         dbo.abos INNER JOIN
                      dbo.bks ON dbo.abos.bks_id = dbo.bks.bks_id INNER JOIN
                      dbo.abotiteln ON dbo.abos.id = dbo.abotiteln.abos_id LEFT OUTER JOIN
                      dbo.lager ON dbo.bks.bks_id = dbo.lager.bks_id
GROUP BY dbo.bks.bks_id, LTRIM(RTRIM(COALESCE (dbo.bks.titel, '') + ' ' + COALESCE (dbo.bks.subtitel, ''))), dbo.abotiteln.ausgabe, dbo.lager.ist, 
                      dbo.bks.periodicality
ORDER BY LTRIM(RTRIM(COALESCE (dbo.bks.titel, '') + ' ' + COALESCE (dbo.bks.subtitel, ''))), CAST(ROUND(dbo.abotiteln.ausgabe, 0) AS int) 
                      % CAST(ROUND(100, 0) AS int) * 100 + CAST(ROUND(dbo.abotiteln.ausgabe, 0) AS int) / 100
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "lager"
            Begin Extent = 
               Top = 114
               Left = 245
               Bottom = 222
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 10590
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_aboverwaltung_lager_soll'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_aboverwaltung_lager_soll'
GO
/****** Object:  View [dbo].[xb_aboverwaltung_einkaufsvolumen_nach_bks]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_aboverwaltung_einkaufsvolumen_nach_bks]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT abos.bks_id, abotiteln.ausgabe, Sum(abotiteln.menge) AS Anzahl
   FROM 
      abos 
         INNER JOIN abotiteln 
         ON abos.id = abotiteln.abos_id
   WHERE (((abotiteln.status_id) IS NULL OR ((abotiteln.status_id) = 150 OR (abotiteln.status_id) = 156)) AND ((abos.status_id) = 147 OR (abos.status_id) = 148))
   GROUP BY abos.bks_id, abotiteln.ausgabe
GO
/****** Object:  View [dbo].[xb_buchverwaltung_kategorienliste]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_buchverwaltung_kategorienliste]
AS
SELECT     TOP (2147483647) dbo.bks_cat.cat_id, dbo.bks_cat.categorie, dbo.bks_cat.cat_prj_id, dbo.bks_kataloge.katalog_id
FROM         dbo.bks_cat INNER JOIN
                      dbo.bks ON dbo.bks_cat.cat_id = dbo.bks.bks_cat_id INNER JOIN
                      dbo.bks_kataloge ON dbo.bks.bks_id = dbo.bks_kataloge.bks_id
WHERE     (dbo.bks.katalog = 1)
GROUP BY dbo.bks_cat.cat_id, dbo.bks_cat.categorie, dbo.bks_cat.cat_prj_id, dbo.bks_kataloge.katalog_id
ORDER BY dbo.bks_cat.categorie
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bks_cat"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks"
            Begin Extent = 
               Top = 66
               Left = 284
               Bottom = 174
               Right = 465
            End
            DisplayFlags = 280
            TopColumn = 28
         End
         Begin Table = "bks_kataloge"
            Begin Extent = 
               Top = 30
               Left = 547
               Bottom = 138
               Right = 728
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 3870
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_buchverwaltung_kategorienliste'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_buchverwaltung_kategorienliste'
GO
/****** Object:  View [dbo].[xb_buchversand_positionen]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_buchversand_positionen]
AS
SELECT     dbo.bst.B_ID, dbo.detstatus.status_id, dbo.detstatus.status_datum, dbo.xb_aktionen_codes.code2 AS Zustand, dbo.bst.b_adr_ID, dbo.bst.b_det_ID, 
                      dbo.bst.b_bks_id, dbo.bst.Datum, dbo.bst.Artikel, dbo.bst.Menge, dbo.bst.Summe, dbo.bst.gewicht, dbo.bst.warengruppe, dbo.bst.code, 
                      dbo.bst.storniert, dbo.bst.flag, dbo.bst.preis, dbo.bls.bill_nr
FROM         dbo.bls INNER JOIN
                      dbo.bst LEFT OUTER JOIN
                      dbo.detstatus ON dbo.bst.B_ID = dbo.detstatus.ds_bst_id LEFT OUTER JOIN
                      dbo.xb_aktionen_codes ON dbo.detstatus.status_id = dbo.xb_aktionen_codes.co_id ON dbo.bls.Beleg = dbo.bst.b_det_ID
GROUP BY dbo.detstatus.status_id, dbo.detstatus.status_datum, dbo.xb_aktionen_codes.code2, dbo.bst.B_ID, dbo.bst.b_adr_ID, dbo.bst.b_det_ID, 
                      dbo.bst.b_bks_id, dbo.bst.Datum, dbo.bst.Artikel, dbo.bst.Menge, dbo.bst.Summe, dbo.bst.gewicht, dbo.bst.warengruppe, dbo.bst.code, 
                      dbo.bst.storniert, dbo.bst.flag, dbo.bst.preis, dbo.bls.bill_nr
HAVING      (dbo.bls.bill_nr LIKE '1%') OR
                      (dbo.bls.bill_nr LIKE '2%')
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bls"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 244
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 6
               Left = 282
               Bottom = 114
               Right = 463
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "detstatus"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "xb_aktionen_codes"
            Begin Extent = 
               Top = 114
               Left = 245
               Bottom = 222
               Right = 414
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_buchversand_positionen'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_buchversand_positionen'
GO
/****** Object:  View [dbo].[xb_books_pb_index]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bks"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks_kataloge"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks_ver"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 191
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "objects"
            Begin Extent = 
               Top = 114
               Left = 229
               Bottom = 222
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 3585
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_books_pb_index'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_books_pb_index'
GO
/****** Object:  View [dbo].[xb_books_lieferscheine_on_demand]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_books_lieferscheine_on_demand]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      det.det_adr_ID AS adress_id, 
      det.det_ID AS bestell_nr, 
      adressen_shipment.client AS Person, 
      adr.Strasse, 
      adr.PLZ, 
      adr.Ort, 
      adr.Land, 
      bst.Artikel, 
      bst.Menge, 
      bst.Summe, 
      bst.gewicht, 
      bst.warengruppe, 
      bst.code, 
      bst.einkaufspreis, 
      bst.Preis, 
      det.det_ID, 
      adressen_shipment.address, 
      adressen_shipment.city, 
      adressen_shipment.company, 
      adressen_shipment.country
   FROM 
      (bst 
         INNER JOIN (adr 
         INNER JOIN det 
         ON adr.adr_ID = det.det_adr_ID) 
         ON bst.b_det_ID = det.det_ID) 
         INNER JOIN adressen_shipment 
         ON adr.adr_ID = adressen_shipment.adr_ID
   WHERE (((
      CASE 
         WHEN (EXISTS 
            (
               SELECT ds_id
               FROM detstatus
               WHERE ds_bst_id = b_id AND (status_id = 139 OR status_id = 153)
            )) THEN 1
         ELSE 0
      END) = 0))
   GROUP BY 
      det.det_adr_ID, 
      det.det_ID, 
      adressen_shipment.client, 
      adr.Strasse, 
      adr.PLZ, 
      adr.Ort, 
      adr.Land, 
      bst.Artikel, 
      bst.Menge, 
      bst.Summe, 
      bst.gewicht, 
      bst.warengruppe, 
      bst.code, 
      bst.einkaufspreis, 
      bst.Preis, 
      det.det_ID, 
      adressen_shipment.address, 
      adressen_shipment.city, 
      adressen_shipment.company, 
      adressen_shipment.country
GO
/****** Object:  View [dbo].[xb_books_lieferscheine_mm]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_books_lieferscheine_mm]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      adressen_shipment.adr_ID, 
      det.det_ID AS rechnungsnr, 
      adressen_shipment.client AS Person, 
      adressen_shipment.address AS Strasse, 
      adressen_shipment.city AS ort, 
      adressen_shipment.country AS land, 
      bst.Artikel, 
      bst.Menge, 
      bst.gewicht, 
      [Summe] / [wkurs] AS Preis, 
      bst.Datum, 
      det.det_ID, 
      bst.warengruppe, 
      bst.einkaufspreis, 
      bst.b_det_ID AS bestellnummer
   FROM 
      adressen_shipment 
         INNER JOIN (bls 
         INNER JOIN (det 
         INNER JOIN bst 
         ON det.det_ID = bst.b_det_ID) 
         ON bls.Beleg = det.det_ID) 
         ON adressen_shipment.adr_ID = det.det_adr_ID
   WHERE (((bst.gewicht) IS NOT NULL AND (bst.gewicht) > 0) AND ((
      CASE 
         WHEN (EXISTS 
            (
               SELECT ds_id
               FROM detstatus
               WHERE ds_bst_id = b_id AND (status_id = 139 OR status_id = 153)
            )) THEN 1
         ELSE 0
      END) = 0))
GO
/****** Object:  View [dbo].[xb_books_bestellungen]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_books_bestellungen]
AS
SELECT     TOP (2147483647) dbo.adressen_shipment.adr_ID, dbo.adressen_shipment.company AS Firma, dbo.adressen_shipment.client AS Person, 
                      dbo.adressen_shipment.address AS Strasse, dbo.adressen_shipment.city AS Ort, dbo.adressen_shipment.country AS Land, 
                      dbo.bls.bill_nr AS Re_Nummer, dbo.bls.bill_datum AS Re_Datum, dbo.bls.Betrag AS Re_Betrag, NULL AS Versendet, 90990 AS VKZ, 
                      dbo.xb_konten.kontonummer
FROM         dbo.det INNER JOIN
                      dbo.bls ON dbo.det.det_ID = dbo.bls.Beleg INNER JOIN
                      dbo.adressen_shipment ON dbo.det.det_adr_ID = dbo.adressen_shipment.adr_ID INNER JOIN
                      dbo.xb_projekte INNER JOIN
                      dbo.projekte_konten ON dbo.xb_projekte.parent_prj_id = dbo.projekte_konten.prj_id INNER JOIN
                      dbo.xb_konten ON dbo.projekte_konten.konto_id = dbo.xb_konten.id ON dbo.det.det_prj_id = dbo.xb_projekte.prj_id
WHERE     (dbo.bls.bill_nr IS NOT NULL) AND (CONVERT(int, dbo.fnVAL(dbo.bls.bill_nr)) >= 200000) AND (CONVERT(int, dbo.fnVAL(dbo.bls.bill_nr)) < 300000)
GROUP BY dbo.adressen_shipment.adr_ID, dbo.adressen_shipment.company, dbo.adressen_shipment.client, dbo.adressen_shipment.address, 
                      dbo.adressen_shipment.city, dbo.adressen_shipment.country, dbo.bls.bill_nr, dbo.bls.bill_datum, dbo.bls.Betrag, dbo.xb_konten.kontonummer
ORDER BY Re_Nummer
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "det"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 463
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "adressen_shipment"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "xb_projekte"
            Begin Extent = 
               Top = 114
               Left = 245
               Bottom = 222
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "projekte_konten"
            Begin Extent = 
               Top = 222
               Left = 38
               Bottom = 315
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "xb_konten"
            Begin Extent = 
               Top = 222
               Left = 245
               Bottom = 330
               Right = 430
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_books_bestellungen'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_books_bestellungen'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_books_bestellungen'
GO
/****** Object:  View [dbo].[xb_abos_bestellungen]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_abos_bestellungen]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT TOP 9223372036854775807 WITH TIES 
      bls.bill_nr, 
      bls.bill_adr_id, 
      adressen_billing.company AS Firma, 
      adressen_billing.client AS Person, 
      adressen_billing.address AS Strasse, 
      adressen_billing.city AS Ort, 
      adressen_billing.country AS Land, 
      (CASE 
         WHEN bls.bill_nr IS NULL THEN [serial]
         ELSE bls.bill_nr
      END) AS Re_Nummer, 
      bls.bill_datum AS Re_Datum, 
      bls.Betrag AS Re_Betrag, 
      NULL AS Versendet, 
      90990 AS VKZ, 
      bls.Beleg, 
      bls.Beleg AS det_ID, 
      xb_projekte.currency, 
      projektkonten.prj_konto AS kontonummer, 
      projektkonten.prj_blz AS blz, 
      projektkonten.prj_bank AS bank, 
      bls_parts.serial AS Be_Nummer, 
      bls.porto, 
      bls.payment_type, 
      bls.rate_type, 
      bls.payment_day, 
      bls.bill_id, 
      bills_storniert.storniert AS Storniert, 
      status_bezahlte_rechnungen.status_datum AS Zahlungsdatum
   FROM 
      (((((((abos 
         INNER JOIN (det 
         INNER JOIN bst 
         ON det.det_ID = bst.b_det_ID) 
         ON abos.bst_id = bst.B_ID) 
         INNER JOIN bls 
         ON det.det_ID = bls.Beleg) 
         INNER JOIN xb_projekte 
         ON bls.bill_prj_id = xb_projekte.prj_id) 
         LEFT JOIN projektkonten 
         ON xb_projekte.prj_id = projektkonten.prj_id) 
         LEFT JOIN bls_parts 
         ON bls.bill_id = bls_parts.bill_id) 
         LEFT JOIN status_bezahlte_rechnungen 
         ON bls.bill_id = status_bezahlte_rechnungen.bill_id) 
         INNER JOIN adressen_billing 
         ON bls.Beleg = adressen_billing.det_ID) 
         LEFT JOIN bills_storniert 
         ON bls.bill_id = bills_storniert.bill_id
   WHERE (((bls.Betrag) > 0)) OR (((bls.Betrag) > 0) AND ((det.Fächerung) = 'Umtausch'))
   GROUP BY 
      bls.bill_nr, 
      bls.bill_adr_id, 
      adressen_billing.company, 
      adressen_billing.client, 
      adressen_billing.address, 
      adressen_billing.city, 
      adressen_billing.country, 
      (
         CASE 
            WHEN bls.bill_nr IS NULL THEN [serial]
            ELSE bls.bill_nr
         END), 
      bls.bill_datum, 
      bls.Betrag, 
      bls.Beleg, 
      bls.Beleg, 
      xb_projekte.currency, 
      projektkonten.prj_konto, 
      projektkonten.prj_blz, 
      projektkonten.prj_bank, 
      bls_parts.serial, 
      bls.porto, 
      bls.payment_type, 
      bls.rate_type, 
      bls.payment_day, 
      bls.bill_id, 
      bills_storniert.storniert, 
      status_bezahlte_rechnungen.status_datum
   ORDER BY bls.bill_nr, bls.bill_adr_id
GO
/****** Object:  View [dbo].[xb_abopflege_titelmenge_alle]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_abopflege_titelmenge_alle]
AS
SELECT     dbo.abos.id, dbo.abos.bks_id, dbo.abos_bezahlte_titeln.menge, COUNT(dbo.abos_bezahlte_titeln.id) AS gültig, dbo.abos.ausgaben AS bezahlt, 
                      dbo.abos.status_id
FROM         dbo.abos_bezahlte_titeln RIGHT OUTER JOIN
                      dbo.abos ON dbo.abos_bezahlte_titeln.abos_id = dbo.abos.id
GROUP BY dbo.abos.bks_id, dbo.abos.id, dbo.abos_bezahlte_titeln.menge, dbo.abos.ausgaben, dbo.abos.status_id
HAVING      (COUNT(dbo.abos_bezahlte_titeln.id) <> dbo.abos.ausgaben)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos_bezahlte_titeln"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 245
               Bottom = 114
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 8
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abopflege_titelmenge_alle'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abopflege_titelmenge_alle'
GO
/****** Object:  View [dbo].[xb_abopflege_titelmenge]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_abopflege_titelmenge]
AS
SELECT     dbo.abos.id, dbo.abos.bks_id, dbo.abos_bezahlte_titeln.menge, COUNT(dbo.abos_bezahlte_titeln.id) AS gültig, dbo.abos.ausgaben AS bezahlt
FROM         dbo.abos_bezahlte_titeln RIGHT OUTER JOIN
                      dbo.abos ON dbo.abos_bezahlte_titeln.abos_id = dbo.abos.id
WHERE     (dbo.abos.status_id = 147) OR
                      (dbo.abos.status_id = 148) OR
                      (dbo.abos.status_id = 152)
GROUP BY dbo.abos.bks_id, dbo.abos.id, dbo.abos_bezahlte_titeln.menge, dbo.abos.ausgaben
HAVING      (COUNT(dbo.abos_bezahlte_titeln.id) <> dbo.abos.ausgaben)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos_bezahlte_titeln"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 245
               Bottom = 114
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abopflege_titelmenge'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abopflege_titelmenge'
GO
/****** Object:  View [dbo].[xb_abon_positionversand]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_abon_positionversand]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT DISTINCT TOP 9223372036854775807 WITH TIES 
      adr.adr_ID, 
      adr.Vorname, 
      adr.Nachname, 
      adr.Strasse, 
      ltrim(rtrim([PLZ] + ' ' + [Ort])) AS Anschrift, 
      Max(abos.erstellt_am) AS Bestelldatum
   FROM 
      (abos_laufende_und_reservierte 
         INNER JOIN (adr 
         INNER JOIN abos 
         ON adr.adr_ID = abos.adr_id) 
         ON abos_laufende_und_reservierte.abos_id = abos.id) 
         INNER JOIN abotiteln 
         ON abos_laufende_und_reservierte.id = abotiteln.id
   WHERE (((abotiteln.status_id) <> 154 OR (abotiteln.status_id) IS NULL))
   GROUP BY 
      adr.adr_ID, 
      adr.Vorname, 
      adr.Nachname, 
      adr.Strasse, 
      ltrim(rtrim([PLZ] + ' ' + [Ort]))
   ORDER BY Max(abos.erstellt_am) DESC
GO
/****** Object:  View [dbo].[user_stornorechnungen]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[user_stornorechnungen]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      user_rechnungen.storno_user_id AS user_id, 
      user_rechnungen.ausgestellt_datum, 
      xb_user.KK, 
      projekte.parent_prj_id, 
      Sum(user_rechnungen.amount_euro) AS storno_summe
   FROM 
      ((bls 
         INNER JOIN projekte 
         ON bls.bill_prj_id = projekte.prj_id) 
         INNER JOIN user_rechnungen 
         ON bls.bill_id = user_rechnungen.bill_id) 
         INNER JOIN xb_user 
         ON user_rechnungen.storno_user_id = xb_user.id
   WHERE (((user_rechnungen.amount_euro) < 0))
   GROUP BY user_rechnungen.storno_user_id, user_rechnungen.ausgestellt_datum, xb_user.KK, projekte.parent_prj_id
GO
/****** Object:  View [dbo].[xb_abos_erinnerungen_mit_mahngebühren]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE view [dbo].[xb_abos_erinnerungen_mit_mahngebühren] as
SELECT     bls.bill_id, bls.Betrag, bills_rücklastschriften.Betrag AS RL_Betrag, bills_rücklastschriften.bill_datum AS RL_Datum, 
                      bills_rücklastschriften.bill_id AS rlb_id
FROM         bank_transactions_history INNER JOIN
                      bills_rücklastschriften ON bank_transactions_history.counter = bills_rücklastschriften.counter_id INNER JOIN
                      bls INNER JOIN
                      bank_transactions ON bls.bill_id = bank_transactions.bill_id ON bank_transactions_history.bt_id = bank_transactions.id AND 
                      bills_rücklastschriften.det_adr_ID = bls.bill_adr_id
GROUP BY bills_rücklastschriften.bill_id, bls.bill_id, bls.Betrag, bills_rücklastschriften.Betrag, bills_rücklastschriften.bill_datum
GO
/****** Object:  View [dbo].[store_view]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[store_view]
AS
SELECT     dbo.lager.id, dbo.lager.bks_id, dbo.lager.name, dbo.lager.ausgabe, dbo.lager.ausgabe_reverse, dbo.lager.erstellt_am, 
                      dbo.store_objects_amounts.new, dbo.store_objects_amounts.delivered, dbo.store_objects_amounts.ordered, dbo.store_objects_amounts.purchased, 
                      dbo.store_objects_amounts.shipped, dbo.store_objects_amounts.canceled, dbo.store_objects_amounts.requested, dbo.lager.status_id, 
                      dbo.lager.geändert_am
FROM         dbo.store_objects_amounts INNER JOIN
                      dbo.lager ON dbo.store_objects_amounts.lager_id = dbo.lager.id
GO
/****** Object:  View [dbo].[store_vendor_orders_view]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[store_vendor_orders_view]
AS
SELECT     TOP (2147483647) WITH TIES dbo.lager.id, dbo.lager.bks_id, dbo.lager.name, dbo.lager.ausgabe, dbo.lager.ausgabe_reverse, dbo.lager.erstellt_am, 
                      dbo.store_objects_amounts.new, dbo.store_objects_amounts.delivered, dbo.store_objects_amounts.ordered, dbo.store_objects_amounts.purchased, 
                      dbo.store_objects_amounts.shipped, dbo.store_objects_amounts.canceled, dbo.store_objects_amounts.requested, dbo.lager.status_id, 
                      dbo.lager.geändert_am
FROM         dbo.lager INNER JOIN
                      dbo.store_objects_amounts ON dbo.lager.id = dbo.store_objects_amounts.lager_id
ORDER BY dbo.lager.name, dbo.lager.ausgabe_reverse
GO
/****** Object:  View [dbo].[subscriptions_open_end_last]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[subscriptions_open_end_last] AS SELECT subscriptions_open_end.abo_id, Max(subscriptions_open_end.det_id) AS last_det_id FROM subscriptions_open_end GROUP BY subscriptions_open_end.abo_id
GO
/****** Object:  View [dbo].[subscriptions_open_end_bks]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[subscriptions_open_end_bks] AS SELECT subscriptions_open_end.id, subscriptions_open_end.det_id, subscriptions_open_end.abo_id, abos.bks_id, abos.adr_id FROM subscriptions_open_end INNER JOIN abos ON subscriptions_open_end.abo_id = abos.id
GO
/****** Object:  View [dbo].[tmp_xb_abon]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[tmp_xb_abon] AS select * from xb_abon_filter(1538,NULL,NULL,NULL)
GO
/****** Object:  View [dbo].[tmp_lagerhist]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[tmp_lagerhist] AS select * from dbo.xb_aboverwaltung_history_filter3(1566,Null,1963)
GO
/****** Object:  View [dbo].[users_list]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[users_list]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT TOP 9223372036854775807 WITH TIES xb_user.id, xb_user.KK, xb_user.alternativ_id, (
      CASE 
         WHEN users_aktiv.id > 0 THEN 'am Arbeitsplatz'
         ELSE ''
      END) AS aktiv
   FROM 
      xb_user 
         LEFT JOIN users_aktiv 
         ON xb_user.id = users_aktiv.id
   WHERE (((xb_user.freistellung) = 0)) OR (((xb_user.Gruppe) >= 3))
   ORDER BY xb_user.alternativ_id
GO
/****** Object:  View [dbo].[user_letzte_einstufung]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[user_letzte_einstufung]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      user_letzte_det_id.id, 
      user_letzte_det_id.KK, 
      user_letzte_det_id.alternativ_id, 
      det.Erledigt, 
      det.Einstufung, 
      det.Fächerung, 
      det.calltype, 
      user_letzte_det_id.det_adr_ID, 
      det.det_datum
   FROM 
      user_letzte_det_id 
         INNER JOIN det 
         ON user_letzte_det_id.Maxvondet_ID = det.det_ID
GO
/****** Object:  View [dbo].[zahlengruppen_serials]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[zahlengruppen_serials]
AS
SELECT     dbo.projekte.rechnungsgruppe, MAX(dbo.bls_parts.value) AS last_serial, MAX(dbo.bls.bill_nr) AS last_bill_nr
FROM         dbo.bls_parts INNER JOIN
                      dbo.bls ON dbo.bls_parts.bill_id = dbo.bls.bill_id INNER JOIN
                      dbo.projekte ON dbo.bls.bill_prj_id = dbo.projekte.prj_id
GROUP BY dbo.projekte.rechnungsgruppe
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bls_parts"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 121
               Right = 220
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls"
            Begin Extent = 
               Top = 6
               Left = 258
               Bottom = 121
               Right = 465
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "projekte"
            Begin Extent = 
               Top = 59
               Left = 565
               Bottom = 174
               Right = 746
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 5625
         Alias = 1395
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'zahlengruppen_serials'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'zahlengruppen_serials'
GO
/****** Object:  View [dbo].[xb_bestellungen]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_bestellungen]
AS
SELECT     TOP (2147483647) dbo.bls.bill_id, dbo.bls.bill_nr, dbo.bls.bill_prj_id, dbo.bls.bill_adr_id, dbo.adressen_billing.company AS Firma, 
                      dbo.adressen_billing.client AS Person, dbo.adressen_billing.address AS Strasse, dbo.adressen_billing.city AS Ort, 
                      dbo.adressen_billing.country AS Land, (CASE WHEN dbo.bls.bill_nr IS NOT NULL THEN dbo.bls.bill_nr ELSE dbo.bls_parts.serial END) 
                      AS Re_Nummer, dbo.bls.bill_datum AS Re_Datum, dbo.bls.Betrag AS Re_Betrag, NULL AS Versendet, 90990 AS VKZ, dbo.bls.Beleg, dbo.det.det_ID, 
                      dbo.xb_projekte.currency, dbo.projektkonten.prj_konto AS kontonummer, dbo.projektkonten.prj_blz AS blz, dbo.projektkonten.prj_bank AS bank, 
                      dbo.bls_parts.serial AS Be_Nummer, dbo.bls.porto, dbo.bls.payment_type, dbo.bls.rate_type, dbo.bls.payment_day, 
                      dbo.status_stornierte_rechnungen.det_storniert AS Storniert, dbo.status_bezahlte_rechnungen.status_datum AS Zahlungsdatum
FROM         dbo.det INNER JOIN
                      dbo.bst ON dbo.det.det_ID = dbo.bst.b_det_ID INNER JOIN
                      dbo.bls ON dbo.det.det_ID = dbo.bls.Beleg INNER JOIN
                      dbo.xb_projekte ON dbo.bls.bill_prj_id = dbo.xb_projekte.prj_id LEFT OUTER JOIN
                      dbo.projektkonten ON dbo.xb_projekte.prj_id = dbo.projektkonten.prj_id LEFT OUTER JOIN
                      dbo.bls_parts ON dbo.bls.bill_id = dbo.bls_parts.bill_id LEFT OUTER JOIN
                      dbo.status_bezahlte_rechnungen ON dbo.bls.bill_id = dbo.status_bezahlte_rechnungen.bill_id LEFT OUTER JOIN
                      dbo.status_stornierte_rechnungen ON dbo.det.det_ID = dbo.status_stornierte_rechnungen.ursprung INNER JOIN
                      dbo.adressen_billing ON dbo.bls.Beleg = dbo.adressen_billing.det_ID
WHERE     (dbo.bls.Betrag > 0)
GROUP BY dbo.bls.bill_nr, dbo.bls.bill_prj_id, dbo.bls.bill_adr_id, dbo.adressen_billing.company, dbo.adressen_billing.client, dbo.adressen_billing.address, 
                      dbo.adressen_billing.city, dbo.adressen_billing.country, (CASE WHEN dbo.bls.bill_nr IS NOT NULL 
                      THEN dbo.bls.bill_nr ELSE dbo.bls_parts.serial END), dbo.bls.bill_datum, dbo.bls.Betrag, dbo.det.det_ID, dbo.bls.Beleg, dbo.xb_projekte.currency, 
                      dbo.projektkonten.prj_konto, dbo.projektkonten.prj_blz, dbo.projektkonten.prj_bank, dbo.bls_parts.serial, dbo.bls.porto, dbo.bls.payment_type, 
                      dbo.bls.rate_type, dbo.bls.payment_day, dbo.bls.bill_id, dbo.status_stornierte_rechnungen.det_storniert, 
                      dbo.status_bezahlte_rechnungen.status_datum
ORDER BY dbo.bls.bill_nr, dbo.bls.bill_adr_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "det"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 244
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "xb_projekte"
            Begin Extent = 
               Top = 114
               Left = 282
               Bottom = 222
               Right = 463
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "projektkonten"
            Begin Extent = 
               Top = 222
               Left = 38
               Bottom = 330
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls_parts"
            Begin Extent = 
               Top = 222
               Left = 245
               Bottom = 330
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "status_bezahlte_rechnungen"
            Begin Extent = 
               Top = 330
               Left = 38
               Bottom = 438
               Right = 207
            End
            D' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_bestellungen'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'isplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "status_stornierte_rechnungen"
            Begin Extent = 
               Top = 330
               Left = 245
               Bottom = 438
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "adressen_billing"
            Begin Extent = 
               Top = 438
               Left = 38
               Bottom = 546
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_bestellungen'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_bestellungen'
GO
/****** Object:  View [dbo].[xb_bestellverwaltung_auslieferung_liste_nach_datum]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_bestellverwaltung_auslieferung_liste_nach_datum]
AS
SELECT     dbo.det.det_adr_ID AS adress_id, dbo.det.det_ID AS bestell_nr, dbo.adressen_shipment.company AS Firma, dbo.adressen_shipment.client AS Person, 
                      dbo.adressen_shipment.address AS Strasse, dbo.adressen_shipment.city AS Ort, dbo.adressen_shipment.country AS Land, '' AS Versendet, 
                      90990 AS VKZ, CONVERT(varchar(10), dbo.detstatus.status_datum, 104) AS state_date
FROM         dbo.adressen_shipment INNER JOIN
                      dbo.bst INNER JOIN
                      dbo.det ON dbo.bst.b_det_ID = dbo.det.det_ID ON dbo.adressen_shipment.adr_ID = dbo.det.det_adr_ID INNER JOIN
                      dbo.detstatus_letzter_status ON dbo.bst.B_ID = dbo.detstatus_letzter_status.ds_bst_id INNER JOIN
                      dbo.detstatus ON dbo.detstatus_letzter_status.Maxvonds_id = dbo.detstatus.ds_id
WHERE     (dbo.detstatus.status_id = 140)
GROUP BY dbo.det.det_adr_ID, dbo.det.det_ID, dbo.adressen_shipment.company, dbo.adressen_shipment.client, dbo.adressen_shipment.address, 
                      dbo.adressen_shipment.city, dbo.adressen_shipment.country, CONVERT(varchar(10), dbo.detstatus.status_datum, 104)
GO
/****** Object:  View [dbo].[adressen_rechnungen]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adressen_rechnungen]
AS
SELECT     bill_id, adr_id, bezahlt_geld, betrag, WVL, ausgestellt_datum, bezahlt_datum, user_id
FROM         dbo.rechnungshistorie
GROUP BY adr_id, bill_id, bezahlt_geld, betrag, WVL, ausgestellt_datum, bezahlt_datum, user_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "rechnungshistorie"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 222
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_rechnungen'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_rechnungen'
GO
/****** Object:  View [dbo].[adressen_mit_bts]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adressen_mit_bts]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      adressen.adr_ID, 
      adressen.Kunde, 
      adressen.Stadt, 
      adressen.Gebdat, 
      adressen.telefon1, 
      adressen.telefon2
   FROM 
      (bank_transactions 
         INNER JOIN kontos 
         ON bank_transactions.konto_id = kontos.id) 
         INNER JOIN adressen 
         ON kontos.adr_id = adressen.adr_ID
   GROUP BY 
      adressen.adr_ID, 
      adressen.Kunde, 
      adressen.Stadt, 
      adressen.Gebdat, 
      adressen.telefon1, 
      adressen.telefon2
GO
/****** Object:  View [dbo].[adressen_history]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adressen_history]
AS
SELECT     TOP (2147483647) WITH TIES dbo.log_adresses.adr_id, dbo.log_adresses.created_at, dbo.adressen.Kunde, dbo.adressen.Stadt, 
                      dbo.adressen.telefon1, dbo.log_adresses.user_id
FROM         dbo.log_adresses INNER JOIN
                      dbo.adressen ON dbo.log_adresses.adr_id = dbo.adressen.adr_ID
ORDER BY dbo.log_adresses.created_at DESC
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "log_adresses"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 121
               Right = 190
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "adressen"
            Begin Extent = 
               Top = 6
               Left = 228
               Bottom = 121
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_history'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_history'
GO
/****** Object:  View [dbo].[adressen_letzte_kontakt_id_nach_user_und_datum]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adressen_letzte_kontakt_id_nach_user_und_datum]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT Max(det.det_ID) AS Maxvondet_ID, det.det_user, det.det_datum, det.det_adr_ID
   FROM 
      adr_letzter_kontakt 
         INNER JOIN det 
         ON (adr_letzter_kontakt.kontakt = det.det_datum) AND (adr_letzter_kontakt.det_adr_ID = det.det_adr_ID)
   GROUP BY det.det_user, det.det_datum, det.det_adr_ID
GO
/****** Object:  View [dbo].[adr_oe_bks]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adr_oe_bks]
AS
SELECT     dbo.adr.adr_ID, dbo.abos.bks_id
FROM         dbo.adr INNER JOIN
                      dbo.abos INNER JOIN
                      dbo.subscriptions_abos_open_end ON dbo.abos.id = dbo.subscriptions_abos_open_end.abo_id ON dbo.adr.adr_ID = dbo.abos.adr_id
GROUP BY dbo.adr.adr_ID, dbo.abos.bks_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "adr"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "subscriptions_abos_open_end"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 192
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adr_oe_bks'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adr_oe_bks'
GO
/****** Object:  View [dbo].[adr_nur_abgelaufene_abos]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adr_nur_abgelaufene_abos]
AS
SELECT     dbo.adr.adr_ID
FROM         dbo.adr INNER JOIN
                      dbo.adr_letzter_kontakt ON dbo.adr.adr_ID = dbo.adr_letzter_kontakt.det_adr_ID INNER JOIN
                      dbo.abos ON dbo.adr.adr_ID = dbo.abos.adr_id
WHERE     (dbo.adr_letzter_kontakt.kontakt <= DATEADD(month, - 2.5, CONVERT(datetime, CONVERT(varchar, GETDATE(), 104), 104))) AND 
                      (dbo.abos.status_id = 177) AND (dbo.adr.adr_ID NOT IN
                          (SELECT     adr_id
                            FROM          dbo.abos_laufende
                            WHERE      (adr_id = dbo.adr.adr_ID)))
GROUP BY dbo.adr.adr_ID
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "adr"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "adr_letzter_kontakt"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 84
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 84
               Left = 257
               Bottom = 192
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adr_nur_abgelaufene_abos'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adr_nur_abgelaufene_abos'
GO
/****** Object:  View [dbo].[adr_abo_det_min]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adr_abo_det_min]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT Min(det.det_ID) AS Minvondet_ID, abos.adr_id
   FROM 
      (((abos 
         INNER JOIN abos_trees 
         ON abos.id = abos_trees.parent_id) 
         INNER JOIN bst 
         ON abos.bst_id = bst.B_ID) 
         INNER JOIN det 
         ON bst.b_det_ID = det.det_ID) 
         LEFT JOIN storno_rechnungen 
         ON det.det_ID = storno_rechnungen.det_ID
   WHERE (((storno_rechnungen.det_ID) IS NULL))
   GROUP BY abos.adr_id
GO
/****** Object:  View [dbo].[adr_abo_det_first]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adr_abo_det_first]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT Min(det.det_ID) AS Minvondet_ID, abos.adr_id, abos.bks_id
   FROM 
      (((abos 
         INNER JOIN abos_trees 
         ON abos.id = abos_trees.parent_id) 
         INNER JOIN bst 
         ON abos.bst_id = bst.B_ID) 
         INNER JOIN det 
         ON bst.b_det_ID = det.det_ID) 
         LEFT JOIN storno_rechnungen 
         ON det.det_ID = storno_rechnungen.det_ID
   WHERE (((storno_rechnungen.det_ID) IS NULL))
   GROUP BY abos.adr_id, abos.bks_id
GO
/****** Object:  View [dbo].[bank_transactions_history_by_date_and_state]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bank_transactions_history_by_date_and_state]
AS
SELECT     datum AS Date, Status, SUM(Anzahl) AS Ereignisse
FROM         dbo.bank_transactions_history_by_counter
GROUP BY datum, Status
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bank_transactions_history_by_counter"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 200
               Right = 626
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1815
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 7890
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bank_transactions_history_by_date_and_state'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bank_transactions_history_by_date_and_state'
GO
/****** Object:  View [dbo].[bank_transactions_initial]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bank_transactions_initial]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT bills_transactions.id, bills_transactions.due_at, bills_transactions.amount, bills_transactions.bill_id
   FROM bills_transactions
   WHERE (((bills_transactions.state_id) = 228))
GO
/****** Object:  View [dbo].[bank_transactions_requested]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bank_transactions_requested]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT bills_transactions.id, bills_transactions.bill_id
   FROM bills_transactions
   WHERE (((bills_transactions.state_id) = 229))
GO
/****** Object:  View [dbo].[bestellungen_gross]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bestellungen_gross]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT bst.b_det_ID, Count(bst.B_ID) AS AnzahlvonB_ID
   FROM 
      bst 
         LEFT JOIN bestellungen_sonderlisten 
         ON bst.b_det_ID = bestellungen_sonderlisten.b_det_ID
   WHERE (((bestellungen_sonderlisten.b_det_ID) IS NULL))
   GROUP BY bst.b_det_ID
   HAVING (((Count(bst.B_ID)) >= 4))
GO
/****** Object:  View [dbo].[bank_accounts_valid_last]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bank_accounts_valid_last]
AS
SELECT     MAX(id) AS bank_account_id, adr_id
FROM         dbo.bank_accounts_valid
GROUP BY adr_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bank_accounts_valid"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bank_accounts_valid_last'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bank_accounts_valid_last'
GO
/****** Object:  View [dbo].[bank_transactions_confirmed]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bank_transactions_confirmed]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT bills_transactions.id, bills_transactions.bill_id
   FROM bills_transactions
   WHERE (((bills_transactions.state_id) = 230))
GO
/****** Object:  View [dbo].[bank_transactions_canelled]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bank_transactions_canelled]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT bills_transactions.id, bills_transactions.bill_id
   FROM bills_transactions
   WHERE (((bills_transactions.state_id) = 231))
GO
/****** Object:  View [dbo].[bills_short]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_short]
AS
SELECT     TOP (2147483647) WITH TIES dbo.bls.Beleg AS rechnungsnr, dbo.bst.Artikel AS titel, dbo.bst.Menge, dbo.bst.gewicht, 
                      dbo.bst.Summe / (1 - dbo.bst.rabatt) AS Preis, dbo.bst.einkaufspreis, dbo.bst.Datum, dbo.bst.rabatt, dbo.bst.warengruppe, dbo.bls.bill_nr, 
                      dbo.bls.bill_datum, dbo.bls.bill_prj_id, dbo.bst.Monate, dbo.bls.gutschrift, dbo.bst.Summe, dbo.bst.Summe / (1 - dbo.bst.rabatt) 
                      * dbo.bst.rabatt AS abschlag, dbo.bls.Beleg AS det_id, dbo.bls.Betrag, (CASE WHEN [bill_nr] IS NULL THEN [serial] ELSE [bill_nr] END) 
                      AS auftragsnummer, dbo.bls.porto, dbo.bls.bill_adr_id AS adr_id, dbo.bls.bill_id, dbo.bls.bill_datum AS Re_Datum, dbo.bls.Gebühr, 
                      dbo.bls.payment_day, dbo.bls.rate_type, dbo.bls.payment_type, dbo.bls.abbezahlt, dbo.bls.raten, dbo.bls.currency, dbo.bls.tax, dbo.bst.amount, 
                      dbo.bls.bank_account_id, dbo.abos.id, dbo.abos.id AS abo_id, (CASE WHEN subscriptions_abos_open_end.abo_id > 0 THEN - 1 ELSE 0 END) 
                      AS open_end, dbo.det.delivery_id, dbo.det.billing_id
FROM         dbo.bst LEFT OUTER JOIN
                      dbo.abos ON dbo.bst.B_ID = dbo.abos.bst_id LEFT OUTER JOIN
                      dbo.subscriptions_abos_open_end ON dbo.abos.id = dbo.subscriptions_abos_open_end.abo_id INNER JOIN
                      dbo.det INNER JOIN
                      dbo.bls LEFT OUTER JOIN
                      dbo.bls_parts ON dbo.bls.bill_id = dbo.bls_parts.bill_id ON dbo.det.det_ID = dbo.bls.Beleg ON dbo.bst.b_det_ID = dbo.det.det_ID
ORDER BY dbo.bls.bill_nr
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bst"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 114
               Left = 229
               Bottom = 222
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls"
            Begin Extent = 
               Top = 192
               Left = 38
               Bottom = 300
               Right = 228
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls_parts"
            Begin Extent = 
               Top = 222
               Left = 266
               Bottom = 330
               Right = 431
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "subscriptions_abos_open_end"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 192
               Right = 191
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
        ' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bills_short'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N' Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bills_short'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bills_short'
GO
/****** Object:  View [dbo].[bills_payed_serials]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_payed_serials]
AS
SELECT     dbo.bls.bill_id, dbo.bls_parts.serial, dbo.bills_payed.status_datum, dbo.bls.bill_id AS Expr2, dbo.bls.bill_nr, dbo.bls.bill_adr_id, dbo.bls.bill_prj_id, 
                      dbo.bls.bank_account_id, dbo.bls.bill_projekt, dbo.bls.Beleg, dbo.bls.bill_datum, dbo.bls.ustidnr, dbo.bls.Betrag, dbo.bls.Gebühr, dbo.bls.wkurs, 
                      dbo.bls.delta, dbo.bls.porto, dbo.bls.rabatt, dbo.bls.gutschrift, dbo.bls.raten, dbo.bls.abbezahlt, dbo.bls.currency, dbo.bls.tax, dbo.bls.payment_type, 
                      dbo.bls.payment_type_original, dbo.bls.rate_type, dbo.bls.payment_day, dbo.bls.SSMA_TimeStamp, dbo.bls_parts.id, dbo.bls_parts.payment_id, 
                      dbo.bls_parts.total, dbo.bls_parts.created_on, dbo.bls_parts.updated_on, dbo.bls_parts.SSMA_TimeStamp AS Expr5
FROM         dbo.bills_payed INNER JOIN
                      dbo.bls ON dbo.bills_payed.bill_id = dbo.bls.bill_id INNER JOIN
                      dbo.bls_parts ON dbo.bls.bill_id = dbo.bls_parts.bill_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bills_payed"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 84
               Right = 191
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls"
            Begin Extent = 
               Top = 6
               Left = 229
               Bottom = 114
               Right = 419
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls_parts"
            Begin Extent = 
               Top = 84
               Left = 38
               Bottom = 192
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 36
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin Criter' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bills_payed_serials'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'iaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bills_payed_serials'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bills_payed_serials'
GO
/****** Object:  View [dbo].[bills_payed_amounts]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_payed_amounts]
AS
SELECT     dbo.bls.bill_id, dbo.bls.Betrag, dbo.bls.payment_type, dbo.bls.raten, dbo.bls.abbezahlt, dbo.bls.payment_day, dbo.bls.rate_type, 
                      CAST(ISNULL(dbo.kontos_ein.summe, 0) AS float) AS eingezahlt, dbo.bls.bill_datum, dbo.bls.Beleg AS det_id, 
                      dbo.kontos_ein.raten AS eingezahlt_raten, dbo.kontos_ein.letztes_einzahlungsdatum, dbo.kontos_ein.verrechnet
FROM         dbo.bls LEFT OUTER JOIN
                      dbo.kontos_ein ON dbo.bls.Beleg = dbo.kontos_ein.det_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bls"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 228
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "kontos_ein"
            Begin Extent = 
               Top = 6
               Left = 266
               Bottom = 114
               Right = 470
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bills_payed_amounts'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bills_payed_amounts'
GO
/****** Object:  View [dbo].[bills_full]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_full]
AS
SELECT     TOP (2147483647) dbo.bls.bill_id, dbo.bls.Beleg AS rechnungsnr, dbo.adressen_billing.company AS Firma, dbo.adressen_billing.client AS Person, 
                      dbo.adressen_billing.address AS Strasse, dbo.adressen_billing.city AS Ort, CONVERT(nvarchar(20), COALESCE (dbo.adressen_billing.country, '')) 
                      AS Land, dbo.bst.Artikel AS titel, dbo.bst.Menge, dbo.bst.gewicht, CASE WHEN abos.id > 0 THEN N'на ' + CONVERT(nvarchar(10), 
                      dbo.get_abomonate(bks.bks_id, bst.amount, bks.periodicality)) + N' мес.' ELSE NULL END AS abomonate, 
                      (CASE WHEN bst.rabatt < 1 THEN bst.[summe] / (1 - bst.rabatt) ELSE 0 END) AS full_price, dbo.bst.Summe, 
                      (CASE WHEN bst.rabatt < 1 THEN bst.[summe] / (1 - bst.rabatt) ELSE 0 END) - dbo.bst.Summe AS abschlag, dbo.bst.rabatt, dbo.bls.Betrag, 
                      (CASE WHEN bst.rabatt < 1 THEN bst.[summe] / (1 - bst.rabatt) END) / CASE WHEN Len(COALESCE (adressen_billing.[land], '')) 
                      = 0 THEN 1.07 ELSE 1 + countries_costs.[taxes] END AS nettopreis, dbo.bst.einkaufspreis, dbo.bst.Datum, dbo.bst.warengruppe, dbo.bls.bill_nr, 
                      dbo.bls.bill_datum, dbo.bls.bill_prj_id, CONVERT(varchar(12), dbo.bls.bill_datum, 106) AS tstamp, dbo.bst.Monate, dbo.bls.gutschrift, 
                      dbo.det.Einstufung, dbo.det.Fächerung, dbo.det.det_prj_id, dbo.bls.Beleg AS det_id, dbo.projektkonten.prj_konto, dbo.projektkonten.prj_bank, 
                      dbo.projektkonten.prj_iban, dbo.projektkonten.prj_bic, dbo.projektkonten.prj_blz, CASE WHEN [bill_nr] IS NULL 
                      THEN [serial] ELSE [bill_nr] END AS auftragsnummer, dbo.countries_costs.taxes, dbo.countries_costs.additional_cost, dbo.bls.porto, 
                      dbo.bls.bill_adr_id AS adr_id, dbo.bls.bill_datum AS Re_Datum, dbo.projekte.parent_prj_id, dbo.bls.Gebühr, dbo.bls.payment_day, dbo.bls.rate_type, 
                      dbo.bls.payment_type, dbo.bls.abbezahlt, dbo.bls.raten, dbo.bls.currency, dbo.bls.tax, dbo.bank_accounts.inhaber, dbo.bank_accounts.konto, 
                      dbo.bank_accounts.blz, dbo.bank_accounts.iban, dbo.bank_accounts.swift, dbo.bank_accounts.bank, dbo.bank_accounts.code, 
                      dbo.bank_accounts.valid_until, dbo.bank_accounts.active, dbo.xb_user.Vorname AS MA_Vorname, dbo.xb_user.Nachname AS MA_Nachname, 
                      dbo.bls.bank_account_id, CASE WHEN subscriptions_abos_open_end.abo_id > 0 THEN 1 ELSE 0 END AS open_end, dbo.bls.ustidnr, dbo.bst.amount, 
                      dbo.bst.preis, NULL AS Versendet, dbo.bills_payed.status_datum AS Zahlungsdatum, dbo.det.storniert, dbo.bst.b_bks_id AS bks_id
FROM         dbo.det INNER JOIN
                      dbo.bst ON dbo.det.det_ID = dbo.bst.b_det_ID INNER JOIN
                      dbo.bls ON dbo.det.det_ID = dbo.bls.Beleg LEFT OUTER JOIN
                      dbo.bls_parts ON dbo.bls.bill_id = dbo.bls_parts.bill_id LEFT OUTER JOIN
                      dbo.bks ON dbo.bst.b_bks_id = dbo.bks.bks_id LEFT OUTER JOIN
                      dbo.projektkonten ON dbo.det.det_prj_id = dbo.projektkonten.prj_id LEFT OUTER JOIN
                      dbo.projekte ON dbo.bls.bill_prj_id = dbo.projekte.prj_id LEFT OUTER JOIN
                      dbo.bank_accounts ON dbo.bls.bank_account_id = dbo.bank_accounts.id LEFT OUTER JOIN
                      dbo.xb_user ON dbo.det.det_user = dbo.xb_user.KK LEFT OUTER JOIN
                      dbo.abos ON dbo.bst.B_ID = dbo.abos.bst_id LEFT OUTER JOIN
                      dbo.subscriptions_abos_open_end ON dbo.abos.id = dbo.subscriptions_abos_open_end.abo_id INNER JOIN
                      dbo.adressen_billing LEFT OUTER JOIN
                      dbo.country_konten ON dbo.adressen_billing.country = dbo.country_konten.deutsch LEFT OUTER JOIN
                      dbo.countries_costs ON dbo.country_konten.alpha2 = dbo.countries_costs.country_code ON 
                      dbo.bls.Beleg = dbo.adressen_billing.det_ID LEFT OUTER JOIN
                      dbo.bills_payed ON dbo.bls.bill_id = dbo.bills_payed.bill_id
ORDER BY dbo.bls.bill_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "det"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 228
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls_parts"
            Begin Extent = 
               Top = 114
               Left = 266
               Bottom = 222
               Right = 431
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks"
            Begin Extent = 
               Top = 222
               Left = 38
               Bottom = 330
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "projektkonten"
            Begin Extent = 
               Top = 222
               Left = 241
               Bottom = 330
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "projekte"
            Begin Extent = 
               Top = 330
               Left = 38
               Bottom = 438
               Right = 202
            End
            DisplayFlags = 280
       ' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bills_full'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'     TopColumn = 0
         End
         Begin Table = "bank_accounts"
            Begin Extent = 
               Top = 330
               Left = 240
               Bottom = 438
               Right = 405
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "xb_user"
            Begin Extent = 
               Top = 438
               Left = 38
               Bottom = 546
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 438
               Left = 241
               Bottom = 546
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "subscriptions_abos_open_end"
            Begin Extent = 
               Top = 546
               Left = 38
               Bottom = 624
               Right = 191
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "adressen_billing"
            Begin Extent = 
               Top = 546
               Left = 229
               Bottom = 654
               Right = 382
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "country_konten"
            Begin Extent = 
               Top = 624
               Left = 38
               Bottom = 732
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "countries_costs"
            Begin Extent = 
               Top = 654
               Left = 245
               Bottom = 762
               Right = 410
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bills_payed"
            Begin Extent = 
               Top = 732
               Left = 38
               Bottom = 810
               Right = 191
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bills_full'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bills_full'
GO
/****** Object:  View [dbo].[bills_zahlungen_nach_monat]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create view [dbo].[bills_zahlungen_nach_monat]
as
SELECT bls.bill_id, bls.bill_datum, bls.Beleg AS det_id, bls.Betrag, kontos_eingezahlt_einzeln.konto_id, Sum(kontos_eingezahlt_einzeln.[ein]) AS eingezahlt, case when kontos_eingezahlt_einzeln.datum>0 then convert(datetime,convert(nvarchar(7),kontos_eingezahlt_einzeln.datum, 120)+'-01',120) end AS zahlungsmonat
FROM bls INNER JOIN kontos_eingezahlt_einzeln ON bls.Beleg = kontos_eingezahlt_einzeln.det_id
GROUP BY bls.bill_id, bls.bill_datum, bls.Beleg, bls.Betrag, kontos_eingezahlt_einzeln.konto_id, case when kontos_eingezahlt_einzeln.datum>0 then convert(datetime,convert(nvarchar(7),kontos_eingezahlt_einzeln.datum, 120)+'-01',120) end;
GO
/****** Object:  View [dbo].[bks_catalogs_last_valid]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bks_catalogs_last_valid] AS SELECT bks_kataloge.bks_id, Max(bks_kataloge.katalog_id) AS last_catalog_id FROM bks_kataloge INNER JOIN catalogs_germany ON bks_kataloge.katalog_id=catalogs_germany.id GROUP BY bks_kataloge.bks_id
GO
/****** Object:  View [dbo].[bills_storniert_lastschriften]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_storniert_lastschriften]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT bls.bill_id, bls.payment_type
   FROM 
      (bst 
         INNER JOIN abos 
         ON bst.B_ID = abos.bst_id) 
         INNER JOIN ((bls 
         INNER JOIN bank_transactions 
         ON bls.bill_id = bank_transactions.bill_id) 
         INNER JOIN bills_storniert 
         ON bls.bill_id = bills_storniert.bill_id) 
         ON bst.b_det_ID = bls.Beleg
   WHERE (((bank_transactions.state_id) = 228))
   GROUP BY bls.bill_id, bls.payment_type
GO
/****** Object:  View [dbo].[bills_ls_payed_amounts]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_ls_payed_amounts]
AS
SELECT     dbo.bls.bill_id, dbo.bls.Betrag, dbo.bls.payment_type, dbo.bls.raten, dbo.bls.abbezahlt, dbo.bls.payment_day, dbo.bls.rate_type, 
                      dbo.kontos_eingezahlt.summe AS eingezahlt_summe, dbo.bls.Betrag - dbo.kontos_eingezahlt.summe AS restsumme, 
                      dbo.bls.raten - dbo.bls.abbezahlt AS restraten
FROM         dbo.bls INNER JOIN
                      dbo.bills_lastschriften ON dbo.bls.bill_id = dbo.bills_lastschriften.bill_id INNER JOIN
                      dbo.kontos_eingezahlt ON dbo.bls.Beleg = dbo.kontos_eingezahlt.det_id
GROUP BY dbo.bls.bill_id, dbo.bls.Betrag, dbo.bls.payment_type, dbo.bls.raten, dbo.bls.abbezahlt, dbo.bls.payment_day, dbo.bls.rate_type, 
                      dbo.kontos_eingezahlt.summe, dbo.bls.raten - dbo.bls.abbezahlt
HAVING      (dbo.kontos_eingezahlt.summe > 0)
GO
/****** Object:  View [dbo].[bills_ls_valid]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_ls_valid]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT bills_lastschriften.bill_id
   FROM 
      (bills_lastschriften 
         LEFT JOIN bills_payed 
         ON bills_lastschriften.bill_id = bills_payed.bill_id) 
         LEFT JOIN bills_storniert 
         ON bills_lastschriften.bill_id = bills_storniert.bill_id
   WHERE (((bills_payed.bill_id) IS NULL) AND ((bills_storniert.bill_id) IS NULL))
GO
/****** Object:  View [dbo].[abos_laufende_titeln]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_laufende_titeln]
AS
SELECT DISTINCT dbo.abotiteln.id, dbo.abotiteln.ausgabe, dbo.abotiteln.menge, dbo.abotiteln.abos_id, dbo.abos_laufende.bks_id, dbo.abotiteln.status_id
FROM         dbo.abos_laufende INNER JOIN
                      dbo.abotiteln ON dbo.abos_laufende.id = dbo.abotiteln.abos_id
WHERE     (dbo.abotiteln.status_id <> 149) AND (dbo.abotiteln.status_id <> 176) OR
                      (dbo.abotiteln.status_id IS NULL)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos_laufende"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 191
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 6
               Left = 229
               Bottom = 114
               Right = 382
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_laufende_titeln'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_laufende_titeln'
GO
/****** Object:  View [dbo].[abos_lastschriften_entfrierung]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_lastschriften_entfrierung]
AS
SELECT     dbo.abos_mit_bankeinzug.id, dbo.abos.status_id
FROM         dbo.abos_mit_bankeinzug INNER JOIN
                      dbo.abos ON dbo.abos_mit_bankeinzug.id = dbo.abos.id
WHERE     (dbo.abos.status_id = 152)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos_mit_bankeinzug"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 206
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 244
               Bottom = 114
               Right = 409
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_lastschriften_entfrierung'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_lastschriften_entfrierung'
GO
/****** Object:  View [dbo].[abos_orders_new]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_orders_new]
AS
SELECT     dbo.bst.b_det_ID AS det_id, COUNT(dbo.abos.id) AS anzahl_abos
FROM         dbo.abos_erstbestellung INNER JOIN
                      dbo.abos INNER JOIN
                      dbo.bst ON dbo.abos.bst_id = dbo.bst.B_ID ON dbo.abos_erstbestellung.abo_id = dbo.abos.id
GROUP BY dbo.bst.b_det_ID
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos_erstbestellung"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 99
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 245
               Bottom = 114
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 102
               Left = 38
               Bottom = 210
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 1125
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_orders_new'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_orders_new'
GO
/****** Object:  View [dbo].[abos_popularity_einfach]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_popularity_einfach]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT abos_bezahlte_titeln.bks_id, Count(abos_bezahlte_titeln.id) AS Anzahlvonid
   FROM abos_bezahlte_titeln
   GROUP BY abos_bezahlte_titeln.bks_id
GO
/****** Object:  View [dbo].[abotiteln_status_kosten_gewicht]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abotiteln_status_kosten_gewicht]
AS
SELECT     dbo.abotiteln.id AS abotiteln_id, dbo.abos.id AS abos_id, dbo.abotiteln.menge, dbo.abotiteln.ausgabe, dbo.abotiteln.status_id, 
                      dbo.abotiteln.geändert_am, MAX(dbo.store_objects_prices_weights.price) AS Maxvonprice, MAX(dbo.store_objects_prices_weights.weight) 
                      AS Maxvonweight
FROM         dbo.lager LEFT OUTER JOIN
                      dbo.store_objects_prices_weights ON dbo.lager.id = dbo.store_objects_prices_weights.lager_id RIGHT OUTER JOIN
                      dbo.abotiteln INNER JOIN
                      dbo.abos ON dbo.abotiteln.abos_id = dbo.abos.id ON dbo.lager.bks_id = dbo.abos.bks_id
GROUP BY dbo.abos.id, dbo.abotiteln.id, dbo.abotiteln.menge, dbo.abotiteln.ausgabe, dbo.abotiteln.status_id, dbo.abotiteln.geändert_am
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "lager"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "store_objects_prices_weights"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 99
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 102
               Left = 257
               Bottom = 210
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 1065
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abotiteln_status_kosten_gewicht'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abotiteln_status_kosten_gewicht'
GO
/****** Object:  View [dbo].[abotiteln_eingefroren]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abotiteln_eingefroren]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT abos_eingefrorene.bks_id, Count(abotiteln.id) AS Anzahlvonid, abotiteln.ausgabe
   FROM 
      abotiteln 
         INNER JOIN abos_eingefrorene 
         ON abotiteln.abos_id = abos_eingefrorene.id
   GROUP BY abos_eingefrorene.bks_id, abotiteln.ausgabe
GO
/****** Object:  View [dbo].[abos_ww]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_ww]
AS
SELECT     dbo.bks.bks_id, CAST(ROUND(ISNULL(AVG(dbo.abos_dynamik.anzahl / 4.3), 0), 0) AS smallint) AS wachstum, 
                      ISNULL(AVG(dbo.abos_dynamik.anzahl / 4.3), 0) / ISNULL(SUM(dbo.abos_dynamik.anzahl), 0) AS anteil
FROM         dbo.bks LEFT OUTER JOIN
                      dbo.abos_dynamik ON dbo.bks.bks_id = dbo.abos_dynamik.bks_id
WHERE     (dbo.bks.katalog = 'true') AND (dbo.bks.bks_prj_id = 127)
GROUP BY dbo.bks.bks_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bks"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos_dynamik"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 99
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 2175
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_ww'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_ww'
GO
/****** Object:  View [dbo].[abos_verpflichtungen]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_verpflichtungen]
AS
SELECT     dbo.abos.id AS abo_id, dbo.abos.bst_id, COUNT(dbo.abotitel_gesendet.abotitel_id) AS versendet, COALESCE (dbo.bst.Summe / dbo.abos.ausgaben, 0) 
                      AS Verkaufspreis_nach_rabatt, COALESCE (dbo.bst.preis, 0) AS Verkaufspreis, COUNT(dbo.abotitel_gesendet.abotitel_id) 
                      * MAX(COALESCE (dbo.bst.Summe / dbo.abos.ausgaben, 0)) AS [Verpflichung erfüllt], dbo.bst.Summe AS Verpflichtung_gesamt
FROM         dbo.bst INNER JOIN
                      dbo.abos ON dbo.bst.B_ID = dbo.abos.bst_id INNER JOIN
                      dbo.abotitel_gesendet ON dbo.abos.id = dbo.abotitel_gesendet.abo_id
GROUP BY dbo.abos.bst_id, dbo.abos.id, COALESCE (dbo.bst.Summe / dbo.abos.ausgaben, 0), COALESCE (dbo.bst.preis, 0), dbo.bst.Summe
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bst"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abotitel_gesendet"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_verpflichtungen'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_verpflichtungen'
GO
/****** Object:  View [dbo].[abos_verlängerungen_pflege]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_verlängerungen_pflege] AS SELECT abos_erste_letzte_ausgabe.adr_id, abos_erste_letzte_ausgabe.bks_id, Count(abos_erste_letzte_ausgabe.bks_id) AS Anzahlvonbks_id, bks.periodicality FROM abos_erste_letzte_ausgabe INNER JOIN bks ON abos_erste_letzte_ausgabe.bks_id = bks.bks_id GROUP BY abos_erste_letzte_ausgabe.adr_id, abos_erste_letzte_ausgabe.bks_id, bks.periodicality HAVING (((Count(abos_erste_letzte_ausgabe.bks_id))>=2))
GO
/****** Object:  View [dbo].[abos_verlängerungen_anzahl]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_verlängerungen_anzahl]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT abos_verlängerungen.bks_id, bks.titel, bks.subtitel, Count(abos_verlängerungen.bks_id) AS Anzahlvonbks_id
   FROM 
      abos_verlängerungen 
         INNER JOIN bks 
         ON abos_verlängerungen.bks_id = bks.bks_id
   GROUP BY abos_verlängerungen.bks_id, bks.titel, bks.subtitel
GO
/****** Object:  View [dbo].[abos_storniert_und_bezahlt]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_storniert_und_bezahlt]
AS
SELECT     dbo.abos.id, dbo.det.det_ID, dbo.det.det_adr_ID AS adr_id, dbo.abos.status_id, CONVERT(varchar(10), dbo.abos.geändert_am, 104) 
                      AS stornodatum
FROM         dbo.abos INNER JOIN
                      dbo.status_bezahlte_abo_rechnungen ON dbo.abos.id = dbo.status_bezahlte_abo_rechnungen.id INNER JOIN
                      dbo.bst INNER JOIN
                      dbo.det ON dbo.bst.b_det_ID = dbo.det.det_ID ON dbo.abos.bst_id = dbo.bst.B_ID
WHERE     (dbo.abos.status_id = 146)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 102
               Left = 241
               Bottom = 210
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "status_bezahlte_abo_rechnungen"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 99
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_storniert_und_bezahlt'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_storniert_und_bezahlt'
GO
/****** Object:  View [dbo].[abos_trees_closed]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_trees_closed]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT abos_trees.parent_id
   FROM 
      abos_trees 
         INNER JOIN abos 
         ON abos_trees.child_id = abos.id
   WHERE (((abos.status_id) = 146))
GO
/****** Object:  View [dbo].[abos_verlängerbar]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_verlängerbar]
AS
SELECT     dbo.artikelliste.bks_id, dbo.artikelliste.Bezeichnung, dbo.artikelliste.preis, dbo.artikelliste.ArtID, dbo.artikelliste.periodicality, dbo.artikelliste.provision, 
                      dbo.artikelliste.katalog_id, dbo.artikelliste.obj_id, dbo.artikelliste.gewicht
FROM         dbo.artikelliste INNER JOIN
                      dbo.abos ON dbo.artikelliste.bks_id = dbo.abos.bks_id
WHERE     (dbo.abos.status_id = 148) OR
                      (dbo.abos.status_id = 177)
GROUP BY dbo.artikelliste.bks_id, dbo.artikelliste.Bezeichnung, dbo.artikelliste.preis, dbo.artikelliste.ArtID, dbo.artikelliste.periodicality, 
                      dbo.artikelliste.provision, dbo.artikelliste.katalog_id, dbo.artikelliste.obj_id, dbo.artikelliste.gewicht
GO
/****** Object:  View [dbo].[abos_verkauft_trees]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_verkauft_trees]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      abos.adr_id, 
      abos.bks_id, 
      abos_trees.parent_id AS first_abo_id, 
      Max(abos_trees.child_id) AS last_abo_id, 
      Max((
         CASE 
            WHEN subscriptions.open_end = -1 THEN 1
            ELSE 0
         END)) AS OE, 
      (CAST(Min([det_datum]) AS datetime)) AS first_det_datum, 
      (CAST(Max([det_datum]) AS datetime)) AS last_det_datum, 
      Count(abos.id) AS anzahl_abos, 
      Min(det.det_ID) AS first_det_id, 
      Max(det.det_ID) AS last_det_id, 
      (CASE 
         WHEN Max([storno_datum]) < Max([det_datum]) THEN NULL
         ELSE Max([storno_datum])
      END) AS stornodatum, 
      Max(storno_rechnungen.storno_datum) AS Maxvonstorno_datum, 
      Max(det.det_datum) AS Maxvondet_datum, 
      Min(bls.bill_id) AS first_bill_id, 
      Max(bls.bill_id) AS last_bill_id
   FROM 
      (((bls 
         INNER JOIN (subscriptions 
         INNER JOIN det 
         ON subscriptions.det_id = det.det_ID) 
         ON bls.Beleg = det.det_ID) 
         LEFT JOIN storno_rechnungen 
         ON det.det_ID = storno_rechnungen.det_ID) 
         INNER JOIN abos_trees 
         ON subscriptions.abo_id = abos_trees.child_id) 
         INNER JOIN abos 
         ON abos_trees.child_id = abos.id
   GROUP BY abos.adr_id, abos.bks_id, abos_trees.parent_id
GO
/****** Object:  View [dbo].[abos_verkauft_nach_adr_und_bks]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_verkauft_nach_adr_und_bks]
AS
SELECT     dbo.abos.adr_id, dbo.abos.bks_id, MIN(dbo.abos_trees.parent_id) AS first_abo_id, MAX(dbo.abos_trees.child_id) AS last_abo_id, 
                      MAX(CASE WHEN subscriptions.open_end = 1 THEN 1 ELSE 0 END) AS OE, CONVERT(datetime, MIN(COALESCE (dbo.det.det_datum, '1/1/1979'))) 
                      AS first_det_datum, CONVERT(datetime, MAX(COALESCE (dbo.det.det_datum, '1/1/1979'))) AS last_det_datum, COUNT(dbo.abos.id) AS anzahl_abos, 
                      MIN(dbo.det.det_ID) AS first_det_id, MAX(dbo.det.det_ID) AS last_det_id, CASE WHEN MAX([storno_datum]) < MAX([det_datum]) THEN NULL 
                      ELSE MAX([storno_datum]) END AS stornodatum, MAX(dbo.storno_rechnungen.storno_datum) AS Maxvonstorno_datum, MAX(dbo.det.det_datum) 
                      AS Maxvondet_datum, MIN(dbo.bls.bill_id) AS first_bill_id, MAX(dbo.bls.bill_id) AS last_bill_id
FROM         dbo.bls INNER JOIN
                      dbo.subscriptions INNER JOIN
                      dbo.det ON dbo.subscriptions.det_id = dbo.det.det_ID INNER JOIN
                      dbo.abos ON dbo.subscriptions.abo_id = dbo.abos.id ON dbo.bls.Beleg = dbo.det.det_ID LEFT OUTER JOIN
                      dbo.storno_rechnungen ON dbo.det.det_ID = dbo.storno_rechnungen.det_ID LEFT OUTER JOIN
                      dbo.abos_trees ON dbo.abos.id = dbo.abos_trees.parent_id
GROUP BY dbo.abos.adr_id, dbo.abos.bks_id
GO
/****** Object:  View [dbo].[abos_überlappungen]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_überlappungen]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT abos_duplikate.adr_id, abos_duplikate.bks_id
   FROM 
      abos_verlängerungen 
         INNER JOIN abos_duplikate 
         ON (abos_verlängerungen.bks_id = abos_duplikate.bks_id) AND (abos_verlängerungen.adr_id = abos_duplikate.adr_id)
   GROUP BY abos_duplikate.adr_id, abos_duplikate.bks_id
GO
/****** Object:  View [dbo].[abos_trees_new]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_trees_new]
AS
SELECT     TOP (2147483647) dbo.abos.id, dbo.subscriptions_open_end.abo_id AS open_end
FROM         dbo.abos LEFT OUTER JOIN
                      dbo.abos_trees ON dbo.abos.id = dbo.abos_trees.child_id LEFT OUTER JOIN
                      dbo.subscriptions_open_end ON dbo.abos.id = dbo.subscriptions_open_end.abo_id
WHERE     (dbo.abos_trees.child_id IS NULL)
ORDER BY dbo.abos.adr_id, dbo.abos.bks_id, dbo.abos.erstellt_am
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos_trees"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "subscriptions_open_end"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 207
               Right = 191
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_trees_new'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_trees_new'
GO
/****** Object:  View [dbo].[abo_rechnungen_beglichen_korrektur]    Script Date: 02/23/2012 10:49:25 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abo_rechnungen_beglichen_korrektur]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      bls.bill_id, 
      kontos_eingezahlt.det_id, 
      Max(kontos_eingezahlt.letztes_einzahlungsdatum) AS datum, 
      bls.Betrag, 
      kontos_eingezahlt.summe
   FROM 
      bls 
         INNER JOIN (kontos_eingezahlt 
         LEFT JOIN status_bezahlte_rechnungen 
         ON kontos_eingezahlt.det_id = status_bezahlte_rechnungen.ds_det_id) 
         ON bls.Beleg = kontos_eingezahlt.det_id
   WHERE (((kontos_eingezahlt.summe) >= [betrag] - 0.2) AND ((status_bezahlte_rechnungen.ds_det_id) IS NULL))
   GROUP BY bls.bill_id, kontos_eingezahlt.det_id, bls.Betrag, kontos_eingezahlt.summe
GO
/****** Object:  View [dbo].[abos_ablaufdatum]    Script Date: 02/23/2012 10:49:25 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_ablaufdatum] AS SELECT abos_erste_letzte_ausgabe.id, abos_erste_letzte_ausgabe.adr_id, abos_erste_letzte_ausgabe.bks_id, abos_erste_letzte_ausgabe.periodicality, abos_erste_letzte_ausgabe.Letzte_Ausgabe, abos_erscheinungstermine.termin AS ablaufdatum FROM abos_erste_letzte_ausgabe LEFT JOIN abos_erscheinungstermine ON (abos_erste_letzte_ausgabe.Letzte_Ausgabe=abos_erscheinungstermine.ausgabe_flipped) AND (abos_erste_letzte_ausgabe.bks_id=abos_erscheinungstermine.bks_id)
GO
/****** Object:  View [dbo].[abos_abgelaufene]    Script Date: 02/23/2012 10:49:25 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_abgelaufene]
AS
SELECT     dbo.abos.id, COUNT(dbo.abos_ausgelieferte_titeln.menge) AS Anzahlvonmenge, dbo.abos.ausgaben
FROM         dbo.abos INNER JOIN
                      dbo.abos_ausgelieferte_titeln ON dbo.abos.bks_id = dbo.abos_ausgelieferte_titeln.bks_id AND 
                      dbo.abos.id = dbo.abos_ausgelieferte_titeln.abos_id
WHERE     (dbo.abos.status_id = 147) OR
                      (dbo.abos.status_id = 148)
GROUP BY dbo.abos.id, dbo.abos.ausgaben
HAVING      (COUNT(dbo.abos_ausgelieferte_titeln.menge) >= dbo.abos.ausgaben)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos_ausgelieferte_titeln"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_abgelaufene'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_abgelaufene'
GO
/****** Object:  View [dbo].[_abos_stornierte_einstufungen]    Script Date: 02/23/2012 10:49:25 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
/*
*   SSMA warning messages:
*   A2SS0030: View '_abos_stornierte_einstufungen' has a name that might cause problems for the Access application to function correctly against SQL Server.
*/

CREATE VIEW [dbo].[_abos_stornierte_einstufungen]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT det.storniert, abos_laufende.adr_id
   FROM 
      (abos 
         INNER JOIN abos_laufende 
         ON abos.id = abos_laufende.id) 
         INNER JOIN (bst 
         INNER JOIN det 
         ON bst.b_det_ID = det.det_ID) 
         ON abos.bst_id = bst.B_ID
   GROUP BY det.storniert, abos_laufende.adr_id
   HAVING (((det.storniert) IS NOT NULL))
GO
/****** Object:  View [dbo].[_abos_storniert_doch_laufend]    Script Date: 02/23/2012 10:49:25 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
/*
*   SSMA warning messages:
*   A2SS0030: View '_abos_storniert_doch_laufend' has a name that might cause problems for the Access application to function correctly against SQL Server.
*/
CREATE VIEW [dbo].[_abos_storniert_doch_laufend]
AS
SELECT     dbo.abos.id, dbo.abos.adr_id
FROM         dbo.abos INNER JOIN
                      dbo.abos_laufende ON dbo.abos.id = dbo.abos_laufende.id INNER JOIN
                      dbo.bst ON dbo.abos.bst_id = dbo.bst.B_ID INNER JOIN
                      dbo.det ON dbo.bst.b_det_ID = dbo.det.det_ID
WHERE     (dbo.det.storniert IS NOT NULL) AND (dbo.det.Projekt LIKE N'Р%') OR
                      (dbo.det.Projekt LIKE N'Р%') AND (dbo.bst.storniert IS NOT NULL)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos_laufende"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 114
               Left = 241
               Bottom = 222
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'_abos_storniert_doch_laufend'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'_abos_storniert_doch_laufend'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'_abos_storniert_doch_laufend'
GO
/****** Object:  View [dbo].[abos_auslaufend]    Script Date: 02/23/2012 10:49:25 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_auslaufend]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT abos_ausgelieferte_mengen.id, abos_ausgelieferte_mengen.ausgelieferte, abos_ausgelieferte_mengen.ausgaben
   FROM 
      (abos_ausgelieferte_mengen 
         INNER JOIN abos 
         ON abos_ausgelieferte_mengen.id = abos.id) 
         INNER JOIN bks 
         ON abos.bks_id = bks.bks_id
   WHERE (((abos_ausgelieferte_mengen.ausgelieferte) >= abos.ausgaben - ([periodicality] / 12 + 0.5)))
GO
/****** Object:  View [dbo].[abos_ausland]    Script Date: 02/23/2012 10:49:25 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_ausland] AS SELECT abos.id, abos.adr_id FROM abos INNER JOIN adressen_shipment ON abos.adr_id=adressen_shipment.adr_ID WHERE (((adressen_shipment.country) Is Not Null And (adressen_shipment.country)<>'Deutschland') AND ((Len([country]))>0))
GO
/****** Object:  View [dbo].[_abos_falsch_storniert]    Script Date: 02/23/2012 10:49:25 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
/*
*   SSMA warning messages:
*   A2SS0030: View '_abos_falsch_storniert' has a name that might cause problems for the Access application to function correctly against SQL Server.
*/

CREATE VIEW [dbo].[_abos_falsch_storniert]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT det.det_ID
   FROM 
      (det 
         INNER JOIN bst 
         ON det.det_ID = bst.b_det_ID) 
         INNER JOIN (abos 
         INNER JOIN abos_laufende 
         ON abos.id = abos_laufende.id) 
         ON bst.B_ID = abos.bst_id
   WHERE (((det.storniert) IS NOT NULL))
GO
/****** Object:  View [dbo].[_abos_doppelteinträge]    Script Date: 02/23/2012 10:49:25 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
/*
*   SSMA warning messages:
*   A2SS0030: View '_abos_doppelteinträge' has a name that might cause problems for the Access application to function correctly against SQL Server.
*/

CREATE VIEW [dbo].[_abos_doppelteinträge]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT TOP 9223372036854775807 WITH TIES det.det_user, abos_duplikate.adr_id, det.det_datum
   FROM 
      bst 
         INNER JOIN (abos_duplikate 
         INNER JOIN det 
         ON abos_duplikate.adr_id = det.det_adr_ID) 
         ON bst.b_det_ID = det.det_ID
   GROUP BY det.det_user, abos_duplikate.adr_id, det.det_datum
   ORDER BY det.det_user, abos_duplikate.adr_id
GO
/****** Object:  View [dbo].[abos_dubletten]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_dubletten]
AS
SELECT     dbo.abos.id, dbo.abos_duplikate.adr_id, dbo.abos_duplikate.bks_id, dbo.abos_duplikate.ausgabe, dbo.abotiteln.status_id
FROM         dbo.abotiteln INNER JOIN
                      dbo.abos_duplikate INNER JOIN
                      dbo.abos ON dbo.abos_duplikate.bks_id = dbo.abos.bks_id AND dbo.abos_duplikate.adr_id = dbo.abos.adr_id ON 
                      dbo.abotiteln.abos_id = dbo.abos.id AND dbo.abotiteln.ausgabe = dbo.abos_duplikate.ausgabe
WHERE     (dbo.abos.status_id = 147 OR
                      dbo.abos.status_id = 148) AND (dbo.abotiteln.status_id <> 149 AND dbo.abotiteln.status_id <> 154 OR
                      dbo.abotiteln.status_id IS NULL)
GROUP BY dbo.abos_duplikate.adr_id, dbo.abos_duplikate.bks_id, dbo.abos_duplikate.ausgabe, dbo.abos.id, dbo.abotiteln.status_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos_duplikate"
            Begin Extent = 
               Top = 6
               Left = 245
               Bottom = 114
               Right = 432
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_dubletten'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_dubletten'
GO
/****** Object:  View [dbo].[abos_forderungen_nach_monat]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_forderungen_nach_monat]
AS
SELECT     dbo.bst.b_det_ID AS det_id, dbo.abos.bst_id, dbo.abos.id AS abo_id, dbo.abotitel_gesendet.abotitel_id AS versendet, 
                      COALESCE (dbo.bst.Summe / dbo.abos.ausgaben, 0) AS Verkaufspreis_nach_rabatt, COALESCE (dbo.bst.preis, dbo.bst.Summe / dbo.abos.ausgaben) 
                      AS Verkaufspreis, COUNT(dbo.abotitel_gesendet.abotitel_id) * (MAX(COALESCE (dbo.bst.Summe / dbo.abos.ausgaben, 0)) 
                      + MAX(COALESCE (dbo.bst.freight, 0) / dbo.abos.ausgaben)) AS Verpflichung_erfüllt, dbo.bst.Summe + COALESCE (dbo.bst.freight, 0) 
                      AS Verpflichtung_gesamt, dbo.bst.rabatt, dbo.bst.freight, CONVERT(datetime, CONVERT(nvarchar(7), COALESCE (dbo.abotitel_gesendet.geändert_am, 
                      0), 120) + '-01', 120) AS forderungsmonat, dbo.abos.status_id AS abostatus, COALESCE (dbo.bst.freight, 0) / dbo.abos.ausgaben AS porto
FROM         dbo.bst INNER JOIN
                      dbo.abos ON dbo.bst.B_ID = dbo.abos.bst_id INNER JOIN
                      dbo.abotitel_gesendet ON dbo.abos.id = dbo.abotitel_gesendet.abo_id
GROUP BY dbo.bst.b_det_ID, dbo.abos.bst_id, dbo.abos.id, dbo.abotitel_gesendet.abotitel_id, COALESCE (dbo.bst.Summe / dbo.abos.ausgaben, 0), 
                      COALESCE (dbo.bst.preis, dbo.bst.Summe / dbo.abos.ausgaben), dbo.bst.Summe + COALESCE (dbo.bst.freight, 0), dbo.bst.rabatt, dbo.bst.freight, 
                      CONVERT(datetime, CONVERT(nvarchar(7), COALESCE (dbo.abotitel_gesendet.geändert_am, 0), 120) + '-01', 120), dbo.abos.status_id, 
                      COALESCE (dbo.bst.freight, 0) / dbo.abos.ausgaben
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[33] 4[32] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bst"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abotitel_gesendet"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 5265
         Alias = 2505
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_forderungen_nach_monat'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_forderungen_nach_monat'
GO
/****** Object:  View [dbo].[abos_first_det_datum]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_first_det_datum]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT abos_trees.child_id AS abo_id, det.det_ID, det.det_datum
   FROM 
      ((abos_trees 
         INNER JOIN abos 
         ON abos_trees.parent_id = abos.id) 
         INNER JOIN bst 
         ON abos.bst_id = bst.B_ID) 
         INNER JOIN det 
         ON bst.b_det_ID = det.det_ID
   GROUP BY abos_trees.child_id, det.det_ID, det.det_datum
GO
/****** Object:  View [dbo].[abos_erste_letzte_ausgabe_alle2]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_erste_letzte_ausgabe_alle2]
AS
SELECT     TOP (2147483647) WITH TIES dbo.abos.id, dbo.abos.adr_id, dbo.abos.bks_id, dbo.bks.periodicality, MAX(dbo.lager.ausgabe_reverse) 
                      AS Letzte_Ausgabe, MIN(dbo.lager.ausgabe_reverse) AS Erste_Ausgabe, (CASE WHEN subscriptions_abos_open_end.abo_id > 0 THEN 1 ELSE 0 END) 
                      AS OE
FROM         dbo.abotiteln INNER JOIN
                      dbo.abos ON dbo.abotiteln.abos_id = dbo.abos.id INNER JOIN
                      dbo.bks ON dbo.abos.bks_id = dbo.bks.bks_id INNER JOIN
                      dbo.lager ON dbo.abos.bks_id = dbo.lager.bks_id AND dbo.abotiteln.ausgabe = dbo.lager.ausgabe LEFT OUTER JOIN
                      dbo.subscriptions_abos_open_end ON dbo.abos.id = dbo.subscriptions_abos_open_end.abo_id
GROUP BY dbo.abos.adr_id, dbo.abos.id, dbo.abos.bks_id, dbo.bks.periodicality, (CASE WHEN subscriptions_abos_open_end.abo_id > 0 THEN 1 ELSE 0 END)
ORDER BY dbo.abos.adr_id, dbo.abos.id, dbo.abos.bks_id
GO
/****** Object:  View [dbo].[abos_erste_letzte_ausgabe_alle]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_erste_letzte_ausgabe_alle]
AS
SELECT     TOP (2147483647) dbo.abos.id, dbo.abos.adr_id, dbo.abos.bks_id, dbo.bks.periodicality, MAX(dbo.lager.ausgabe_reverse) AS Letzte_Ausgabe, 
                      MIN(dbo.lager.ausgabe_reverse) AS Erste_Ausgabe, (CASE WHEN subscriptions_abos_open_end.abo_id > 0 THEN 1 ELSE 0 END) AS OE
FROM         dbo.abotiteln INNER JOIN
                      dbo.abos ON dbo.abotiteln.abos_id = dbo.abos.id INNER JOIN
                      dbo.bks ON dbo.abos.bks_id = dbo.bks.bks_id INNER JOIN
                      dbo.lager ON dbo.abos.bks_id = dbo.lager.bks_id AND dbo.abotiteln.ausgabe = dbo.lager.ausgabe LEFT OUTER JOIN
                      dbo.subscriptions_abos_open_end ON dbo.abos.id = dbo.subscriptions_abos_open_end.abo_id
GROUP BY dbo.abos.adr_id, dbo.abos.id, dbo.abos.bks_id, dbo.bks.periodicality, (CASE WHEN subscriptions_abos_open_end.abo_id > 0 THEN 1 ELSE 0 END)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 245
               Bottom = 114
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "lager"
            Begin Extent = 
               Top = 114
               Left = 257
               Bottom = 222
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "subscriptions_abos_open_end"
            Begin Extent = 
               Top = 222
               Left = 38
               Bottom = 300
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
     ' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_erste_letzte_ausgabe_alle'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'    Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_erste_letzte_ausgabe_alle'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_erste_letzte_ausgabe_alle'
GO
/****** Object:  View [dbo].[abos_eingefroren_ls]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_eingefroren_ls]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      abos.id, 
      bills_lastschriften.bill_id, 
      abos.erstellt_am, 
      abos.geändert_am, 
      abos.status_id, 
      abos.adr_id
   FROM 
      (bls 
         INNER JOIN bills_lastschriften 
         ON bls.bill_id = bills_lastschriften.bill_id) 
         INNER JOIN ((det 
         INNER JOIN bst 
         ON det.det_ID = bst.b_det_ID) 
         INNER JOIN abos 
         ON bst.B_ID = abos.bst_id) 
         ON bls.Beleg = det.det_ID
   WHERE (((abos.status_id) = 152))
GO
/****** Object:  View [dbo].[abos_gültige_letzte]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_gültige_letzte]
AS
SELECT     MAX(dbo.abos.id) AS abo_id, dbo.abos.adr_id, dbo.abos.bks_id
FROM         dbo.abos INNER JOIN
                      dbo.abos_gültige ON dbo.abos.id = dbo.abos_gültige.abos_id
GROUP BY dbo.abos.adr_id, dbo.abos.bks_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos_gültige"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 445
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_gültige_letzte'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_gültige_letzte'
GO
/****** Object:  View [dbo].[customer_bills]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[customer_bills]
AS
SELECT     TOP (2147483647) dbo.bls.bill_id, dbo.bls.bill_nr, dbo.bls.bill_prj_id, dbo.bls.bill_adr_id, dbo.bls.bill_projekt, dbo.bls.Beleg, dbo.bls.bill_datum, 
                      CAST(dbo.bls.Betrag AS varchar) + ' ' + COALESCE (dbo.projekte.currency_sign, N'') AS Summe, CASE WHEN det.storniert IS NULL THEN NULL 
                      ELSE 'Storniert' END AS storniert, 'Rechnung Nr. ' + COALESCE (dbo.bls.bill_nr, dbo.bls_parts.serial) AS rechnung_nr, 
                      MAX(dbo.detstatus.status_datum) AS datum, CAST(dbo.xb_aktionen_codes.code1 AS varchar) + ' ' + CAST(dbo.xb_aktionen_codes.code2 AS varchar) 
                      AS Zustand, dbo.bls.raten, dbo.bls.abbezahlt, dbo.bls.Betrag, CONVERT(varchar(12), COALESCE (SUM(dbo.kontos.ein), 0)) 
                      + ' ' + COALESCE (dbo.projekte.currency_sign, N'') + ' / ' + CONVERT(varchar(8), dbo.bls.Betrag) + ' ' + COALESCE (dbo.projekte.currency_sign, N'') 
                      + ' (' + CONVERT(varchar(2), COALESCE (dbo.bls.raten, 0)) + ' R.)' AS ratenzustand, dbo.projekte.currency_sign, dbo.bls_parts.serial, 
                      CASE WHEN COALESCE (bls.payment_type, 0) = 226 THEN 1 ELSE 0 END AS einzug, dbo.det.delivery_id, dbo.det.billing_id, dbo.bls.tax, 
                      dbo.bls.currency
FROM         dbo.bls INNER JOIN
                      dbo.det ON dbo.bls.Beleg = dbo.det.det_ID LEFT OUTER JOIN
                      dbo.detstatus_letzter_status ON dbo.bls.Beleg = dbo.detstatus_letzter_status.ds_det_id LEFT OUTER JOIN
                      dbo.detstatus LEFT OUTER JOIN
                      dbo.xb_aktionen_codes ON dbo.detstatus.status_id = dbo.xb_aktionen_codes.co_id ON 
                      dbo.detstatus_letzter_status.Maxvonds_id = dbo.detstatus.ds_id LEFT OUTER JOIN
                      dbo.kontos ON dbo.det.det_ID = dbo.kontos.det_id LEFT OUTER JOIN
                      dbo.projekte ON dbo.bls.bill_prj_id = dbo.projekte.prj_id LEFT OUTER JOIN
                      dbo.bls_parts ON dbo.bls.bill_id = dbo.bls_parts.bill_id
GROUP BY dbo.bls.bill_nr, dbo.bls.bill_prj_id, dbo.bls.bill_adr_id, dbo.bls.bill_projekt, dbo.bls.Beleg, dbo.bls.bill_datum, CAST(dbo.bls.Betrag AS varchar) 
                      + ' ' + COALESCE (dbo.projekte.currency_sign, N''), CASE WHEN det.storniert IS NULL THEN NULL ELSE 'Storniert' END, 
                      CAST(dbo.xb_aktionen_codes.code1 AS varchar) + ' ' + CAST(dbo.xb_aktionen_codes.code2 AS varchar), dbo.bls.bill_id, dbo.bls.raten, 
                      dbo.bls.abbezahlt, dbo.bls.Betrag, dbo.projekte.currency_sign, dbo.bls_parts.serial, CASE WHEN COALESCE (bls.payment_type, 0) 
                      = 226 THEN 1 ELSE 0 END, dbo.det.delivery_id, dbo.det.billing_id, dbo.bls.Betrag, dbo.bls.tax, dbo.bls.currency
ORDER BY dbo.bls.Beleg DESC
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[12] 4[40] 2[10] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bls"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 244
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 6
               Left = 282
               Bottom = 114
               Right = 463
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "detstatus_letzter_status"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 207
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "detstatus"
            Begin Extent = 
               Top = 114
               Left = 245
               Bottom = 222
               Right = 414
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "xb_aktionen_codes"
            Begin Extent = 
               Top = 210
               Left = 38
               Bottom = 318
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "kontos"
            Begin Extent = 
               Top = 222
               Left = 245
               Bottom = 330
               Right = 435
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "projekte"
            Begin Extent = 
               Top = 318
               Left = 38
               Bottom = 426
               Right = 218
            End
           ' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'customer_bills'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N' DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls_parts"
            Begin Extent = 
               Top = 330
               Left = 256
               Bottom = 438
               Right = 437
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 24
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 3555
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 9150
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'customer_bills'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'customer_bills'
GO
/****** Object:  View [dbo].[kontos_einzahlungen_nach_konto]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[kontos_einzahlungen_nach_konto]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      kontos_geldeinzahlungen.det_id, 
      Min(kontos_geldeinzahlungen.datum) AS Minvondatum, 
      Max(kontos_geldeinzahlungen.datum) AS Maxvondatum, 
      Sum((
         CASE 
            WHEN [konto_id] = 10 THEN kontos_geldeinzahlungen.[Ein]
            ELSE 0
         END)) AS eingezahlt_paypal, 
      Sum((
         CASE 
            WHEN [konto_id] BETWEEN 15 AND 16 THEN kontos_geldeinzahlungen.[Ein]
            ELSE 0
         END)) AS eingezahlt_neu, 
      Sum((
         CASE 
            WHEN ([konto_id] BETWEEN 1 AND 9) OR ([konto_id] BETWEEN 11 AND 14) THEN kontos_geldeinzahlungen.[Ein]
            ELSE 0
         END)) AS eingezahlt_alt, 
      Max(kontos_geldeinzahlungen.währung) AS Maxvonwährung
   FROM kontos_geldeinzahlungen
   GROUP BY kontos_geldeinzahlungen.det_id
   HAVING (((kontos_geldeinzahlungen.det_id) > 0))
GO
/****** Object:  View [dbo].[lager_shipped_amounts]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[lager_shipped_amounts]
AS
SELECT     lager_id, COUNT(id) AS shipped
FROM         dbo.store_objects_state_shipped
GROUP BY lager_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "store_objects_state_shipped"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 99
               Right = 384
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'lager_shipped_amounts'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'lager_shipped_amounts'
GO
/****** Object:  View [dbo].[einstufungen_abos]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[einstufungen_abos]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      adr.adr_ID, 
      det.det_datum, 
      Sum((
         CASE 
            WHEN [fächerung] = 'neu' THEN 1
            ELSE 0
         END)) AS Neue, 
      Sum((
         CASE 
            WHEN [fächerung] = 'verlängerung' THEN 1
            ELSE 0
         END)) AS Verlängerungen, 
      Sum((
         CASE 
            WHEN [einstufung] LIKE 'storn%' THEN 1
            ELSE 0
         END)) AS Stornos
   FROM 
      (adr 
         INNER JOIN det 
         ON adr.adr_ID = det.det_adr_ID) 
         INNER JOIN projekte 
         ON det.det_prj_id = projekte.prj_id
   WHERE (
      ((projekte.parent_prj_id) = 127 OR (projekte.parent_prj_id) = 162) AND 
      ((det.Einstufung) = 'bestellung' OR (det.Einstufung) LIKE 'storn%') AND 
      (
      (det.Fächerung) = 'neu' OR 
      (det.Fächerung) = 'verlängerung' OR 
      (det.Fächerung) IS NULL OR 
      (det.Fächerung) = ''))
   GROUP BY adr.adr_ID, det.det_datum
GO
/****** Object:  View [dbo].[det_bestellungen_anzahl_pro_adresse]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[det_bestellungen_anzahl_pro_adresse]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT det_bestellungen.det_adr_ID, Count(det_bestellungen.det_ID) AS anzahl
   FROM det_bestellungen
   GROUP BY det_bestellungen.det_adr_ID
GO
/****** Object:  View [dbo].[det_zahlungserinnerungen_anzahl]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[det_zahlungserinnerungen_anzahl]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT det_zahlungserinnerungen.det_adr_ID, Count(det_zahlungserinnerungen.det_ID) AS anzahl, Min(det_zahlungserinnerungen.det_datum) AS erste, Max(det_zahlungserinnerungen.det_datum) AS letzte
   FROM det_zahlungserinnerungen
   GROUP BY det_zahlungserinnerungen.det_adr_ID
GO
/****** Object:  View [dbo].[det_umtausch_beträge]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[det_umtausch_beträge]
AS
SELECT     dbo.bls.bill_id, dbo.bls.Beleg AS det_id, dbo.bls.bill_adr_id AS adr_id, dbo.bls.bill_datum, dbo.bls.Betrag, dbo.bls.Gebühr, dbo.bls.rabatt, 
                      dbo.bls.gutschrift, dbo.bls.raten, dbo.bls.abbezahlt, SUM(dbo.bst.Summe) AS SummevonSumme, SUM(dbo.bst.freight) AS Summevonfreight
FROM         dbo.bst INNER JOIN
                      dbo.bls INNER JOIN
                      dbo.det_umtausche ON dbo.bls.Beleg = dbo.det_umtausche.det_ID INNER JOIN
                      dbo.det ON dbo.det_umtausche.det_ID = dbo.det.det_ID ON dbo.bst.b_det_ID = dbo.det.det_ID
GROUP BY dbo.bls.bill_id, dbo.bls.Beleg, dbo.bls.bill_adr_id, dbo.bls.bill_datum, dbo.bls.Betrag, dbo.bls.Gebühr, dbo.bls.rabatt, dbo.bls.gutschrift, 
                      dbo.bls.raten, dbo.bls.abbezahlt
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[41] 4[28] 2[13] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bst"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 463
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det_umtausche"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 177
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 114
               Left = 245
               Bottom = 222
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'det_umtausch_beträge'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'det_umtausch_beträge'
GO
/****** Object:  View [dbo].[podpiska_orders_renew]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[podpiska_orders_renew]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      adr.[E-Mail] AS user_mail, 
      podpiska_bills.serial AS order_number_origin, 
      bls_parts.serial AS order_number_new, 
      abos.bks_id, 
      abos.object_id AS unit_id, 
      bst.Monate AS amount, 
      'm' AS amount_type, 
      bst.Summe AS item_sum, 
      bst.freight AS item_freight, 
      bst.preis AS item_price, 
      (CASE 
         WHEN [payment_type] = 226 THEN 1
         ELSE 4
      END) AS payment_method_id, 
      bank_accounts.konto AS payment_account, 
      bank_accounts.blz AS payment_bank_id, 
      bank_accounts.inhaber AS payment_owner, 
      (CASE 
         WHEN subscriptions_open_end.abo_id IS NULL THEN 'false'
         ELSE 'true'
      END) AS open_end, 
      (CASE 
         WHEN adr_1.anrede = 'Firma' THEN adr_1.vorname + ' ' + adr_1.nachname
      END) AS company_name, 
      NULL AS company_ust_id, 
      adr_1.Vorname AS first_name, 
      adr.Nachname AS last_name, 
      adr_1.Strasse AS street, 
      adr_1.country_code AS country_code, 
      adr_1.PLZ AS zip_code, 
      adr_1.Ort AS city, 
      (CASE 
         WHEN adr_1.adr_id <> adr_2.adr_id AND adr_2.anrede = 'Firma' THEN adr_2.vorname + ' ' + adr_2.nachname
      END) AS l_company_name, 
      NULL AS l_company_ust_id, 
      (CASE 
         WHEN adr_1.adr_id <> adr_2.adr_id THEN adr_2.vorname
      END) AS l_first_name, 
      (CASE 
         WHEN adr_1.adr_id <> adr_2.adr_id THEN adr_2.nachname
      END) AS l_last_name, 
      (CASE 
         WHEN adr_1.adr_id <> adr_2.adr_id THEN adr_2.strasse
      END) AS l_street, 
      (CASE 
         WHEN adr_1.adr_id <> adr_2.adr_id THEN adr_2.plz
      END) AS l_zip_code, 
      (CASE 
         WHEN adr_1.adr_id <> adr_2.adr_id THEN adr_2.country_code
      END) AS l_country_code, 
      (CASE 
         WHEN adr_1.adr_id <> adr_2.adr_id THEN adr_2.ort
      END) AS l_city
   FROM 
      (((abos 
         INNER JOIN (bst 
         INNER JOIN ((((((podpiska_bills 
         INNER JOIN (bills_av 
         INNER JOIN bls 
         ON bills_av.bill_id = bls.bill_id) 
         ON podpiska_bills.bill_adr_id = bls.bill_adr_id) 
         LEFT JOIN bills_storniert 
         ON bls.bill_id = bills_storniert.bill_id) 
         INNER JOIN bls_parts 
         ON bls.bill_id = bls_parts.bill_id) 
         INNER JOIN det 
         ON bills_av.det_ID = det.det_ID) 
         INNER JOIN adr 
         ON bls.bill_adr_id = adr.adr_ID) 
         LEFT JOIN bank_accounts 
         ON bls.bank_account_id = bank_accounts.id) 
         ON bst.b_det_ID = det.det_ID) 
         ON abos.bst_id = bst.B_ID) 
         LEFT JOIN subscriptions_open_end 
         ON abos.id = subscriptions_open_end.abo_id) 
         LEFT JOIN adr  AS adr_1 
         ON det.billing_id = adr_1.adr_ID) 
         LEFT JOIN adr  AS adr_2 
         ON det.delivery_id = adr_2.adr_ID
   WHERE (((podpiska_bills.bill_datum) < bls.bill_datum) AND ((bills_storniert.bill_id) IS NULL))
GO
/****** Object:  View [dbo].[outbound_abo_reanimation_ausland]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[outbound_abo_reanimation_ausland] AS SELECT adr.adr_ID FROM ((adr_letzter_kontakt INNER JOIN (((adr LEFT JOIN abos_laufende_und_reservierte ON adr.adr_ID=abos_laufende_und_reservierte.adr_id) LEFT JOIN abos_eingefrorene ON adr.adr_ID=abos_eingefrorene.adr_id) INNER JOIN abos_ausgelieferte_titeln ON adr.adr_ID=abos_ausgelieferte_titeln.adr_id) ON adr_letzter_kontakt.det_adr_ID=adr.adr_ID) INNER JOIN countries_porto_costs ON adr.country_code=countries_porto_costs.country_code) INNER JOIN (abos LEFT JOIN subscriptions_open_end ON abos.id=subscriptions_open_end.abo_id) ON abos_ausgelieferte_titeln.abos_id=abos.id WHERE (((abos_laufende_und_reservierte.adr_id) Is Null) AND ((abos_eingefrorene.adr_id) Is Null) AND ((subscriptions_open_end.id) Is Null) AND ((adr_letzter_kontakt.kontakt)<=getDate()-45) AND ((adr.country_code) Is Null Or (adr.country_code)<>'de') AND ((countries_porto_costs.tarif_id)=26 Or (countries_porto_costs.tarif_id)=28)) GROUP BY adr.adr_ID
GO
/****** Object:  View [dbo].[outbound_abo_reanimation]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[outbound_abo_reanimation] AS SELECT adr.adr_ID FROM ((adr_letzter_kontakt INNER JOIN ((adr LEFT JOIN abos_laufende_und_reservierte ON adr.adr_ID=abos_laufende_und_reservierte.adr_id) LEFT JOIN abos_eingefrorene ON adr.adr_ID=abos_eingefrorene.adr_id) ON adr_letzter_kontakt.det_adr_ID=adr.adr_ID) INNER JOIN abos_ausgelieferte_titeln ON adr.adr_ID=abos_ausgelieferte_titeln.adr_id) INNER JOIN (abos LEFT JOIN subscriptions_open_end ON abos.id=subscriptions_open_end.abo_id) ON abos_ausgelieferte_titeln.abos_id=abos.id WHERE (((abos_laufende_und_reservierte.adr_id) Is Null) AND ((abos_eingefrorene.adr_id) Is Null) AND ((subscriptions_open_end.id) Is Null) AND ((adr_letzter_kontakt.kontakt)<=getDate()-45) AND ((adr.country_code)='de')) GROUP BY adr.adr_ID
GO
/****** Object:  View [dbo].[projekte_abos]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[projekte_abos]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT abo_projekte.prj_id, abo_projekte.parent_prj_id
   FROM abo_projekte
GO
/****** Object:  View [dbo].[store_history_view]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[store_history_view]
AS
SELECT     TOP (2147483647) dbo.store_history_states.vendor_id, CONVERT(datetime, CONVERT(varchar(12), dbo.store_history_states.updated_at, 104), 104) 
                      AS date, dbo.store_history_states.store_states_state_id, dbo.store_object_states.code2, COUNT(dbo.store_history_states.lager_id) AS objects, 
                      dbo.xb_tarife_shops.name
FROM         dbo.store_history_states INNER JOIN
                      dbo.xb_tarife_shops ON dbo.store_history_states.vendor_id = dbo.xb_tarife_shops.shop_id LEFT OUTER JOIN
                      dbo.store_object_states ON dbo.store_history_states.store_states_state_id = dbo.store_object_states.co_id
GROUP BY dbo.store_history_states.vendor_id, CONVERT(datetime, CONVERT(varchar(12), dbo.store_history_states.updated_at, 104), 104), 
                      dbo.store_history_states.store_states_state_id, dbo.store_object_states.code2, dbo.xb_tarife_shops.name
ORDER BY date DESC
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "xb_tarife_shops"
            Begin Extent = 
               Top = 6
               Left = 284
               Bottom = 121
               Right = 466
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "store_object_states"
            Begin Extent = 
               Top = 161
               Left = 443
               Bottom = 276
               Right = 611
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "store_history_states"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 168
               Right = 246
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 2670
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 7140
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'store_history_view'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'store_history_view'
GO
/****** Object:  View [dbo].[status_unbezahlte_rechnungen_zv]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[status_unbezahlte_rechnungen_zv] AS SELECT bls.*, det.Umsatz, bls_parts.serial, det.det_user, kontos_eingezahlt.summe AS eingezahlt FROM (((bls INNER JOIN det ON bls.Beleg = det.det_ID) LEFT JOIN status_bezahlte_rechnungen ON bls.Beleg = status_bezahlte_rechnungen.ds_det_id) LEFT JOIN kontos_eingezahlt ON det.det_ID = kontos_eingezahlt.det_id) LEFT JOIN bls_parts ON bls.bill_id = bls_parts.bill_id WHERE (((det.storniert) Is Null) AND ((status_bezahlte_rechnungen.ds_det_id) Is Null) AND ((bls.Betrag)>1) AND ((Len([bls].[bill_nr]))>0) AND ((bls.bill_datum)>=getDate()-365)) OR (((det.storniert) Is Null) AND ((status_bezahlte_rechnungen.ds_det_id) Is Null) AND ((bls.Betrag)>1) AND ((bls.bill_datum)>=getDate()-365) AND ((Len([serial]))>0))
GO
/****** Object:  View [dbo].[status_unbezahlte_rechnungen]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[status_unbezahlte_rechnungen] AS SELECT bls.*, det.Umsatz, bls_parts.serial, det.det_user, kontos_eingezahlt.summe AS eingezahlt FROM (((bls INNER JOIN det ON bls.Beleg=det.det_ID) LEFT JOIN status_bezahlte_rechnungen ON bls.Beleg=status_bezahlte_rechnungen.ds_det_id) LEFT JOIN kontos_eingezahlt ON det.det_ID=kontos_eingezahlt.det_id) LEFT JOIN bls_parts ON bls.bill_id=bls_parts.bill_id WHERE (((det.storniert) Is Null) And ((status_bezahlte_rechnungen.ds_det_id) Is Null) And ((bls.Betrag)>1) And ((Len(bls.bill_nr))>0)) Or (((det.storniert) Is Null) And ((status_bezahlte_rechnungen.ds_det_id) Is Null) And ((bls.Betrag)>1) And ((Len([serial]))>0))
GO
/****** Object:  View [dbo].[status_teilweise_bezahlte_rechnungen]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[status_teilweise_bezahlte_rechnungen]
AS
SELECT     dbo.bills_ids.bill_id, dbo.det.det_datum, dbo.detstatus.ds_det_id, dbo.detstatus.status_datum, dbo.det.det_user, dbo.det.Umsatz, dbo.bls.bill_nr, 
                      dbo.bls.bill_datum, dbo.detstatus.status_id, dbo.kontos.ein, dbo.kontos.aus, dbo.kontos.datum, dbo.bills_ids.number, dbo.bills_ids.serial, 
                      dbo.bls.Betrag
FROM         dbo.bls INNER JOIN
                      dbo.detstatus INNER JOIN
                      dbo.det ON dbo.detstatus.ds_det_id = dbo.det.det_ID ON dbo.bls.Beleg = dbo.det.det_ID INNER JOIN
                      dbo.kontos ON dbo.det.det_ID = dbo.kontos.det_id INNER JOIN
                      dbo.bills_ids ON dbo.bls.bill_id = dbo.bills_ids.bill_id
WHERE     (dbo.detstatus.status_id = 164)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bls"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 228
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "detstatus"
            Begin Extent = 
               Top = 6
               Left = 266
               Bottom = 114
               Right = 419
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "kontos"
            Begin Extent = 
               Top = 114
               Left = 241
               Bottom = 222
               Right = 415
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bills_ids"
            Begin Extent = 
               Top = 222
               Left = 38
               Bottom = 330
               Right = 191
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
   ' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'status_teilweise_bezahlte_rechnungen'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'   End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'status_teilweise_bezahlte_rechnungen'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'status_teilweise_bezahlte_rechnungen'
GO
/****** Object:  View [dbo].[rechnungen_nach_agenten_mit_status]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[rechnungen_nach_agenten_mit_status]
AS
SELECT     dbo.bls.bill_id, dbo.bls.bill_adr_id AS adr_ID, dbo.xb_user.alternativ_id AS Agent, dbo.det.Einstufung, dbo.bls.Beleg, dbo.bls.Betrag, 
                      dbo.bls.Betrag * COALESCE (dbo.projekte.base_rate, 1) AS Euro_Betrag, dbo.bls.bill_datum AS ausgestellt, 
                      dbo.status_bezahlte_rechnungen.status_datum AS bezahlt, dbo.status_stornierte_rechnungen.det_datum AS storniert, 1 AS ausgestellt_anzahl, 
                      MAX(CASE WHEN status_bezahlte_rechnungen.status_datum > 0 THEN 1 END) AS bezahlt_anzahl, 
                      MAX(CASE WHEN status_stornierte_rechnungen.ursprung > 0 OR
                      det.storniert > 0 THEN 1 END) AS storniert_anzahl, dbo.xb_user.id AS user_id, dbo.bls.bill_nr AS rechnungsnummer, 
                      MAX(CASE WHEN status_bezahlte_rechnungen.status_datum > 0 THEN bls.betrag END) AS bezahlt_geld, 
                      MAX(CASE WHEN status_stornierte_rechnungen.det_datum > 0 THEN bls.betrag END) AS storniert_geld, LEFT(dbo.bls.bill_nr, 1) 
                      AS Rechnungsgruppe_alt, RIGHT(dbo.bls.bill_nr, 2) AS Rechnungsgruppe_neu, dbo.bls_parts.serial AS Maxvonserial
FROM         dbo.xb_user RIGHT OUTER JOIN
                      dbo.det ON dbo.xb_user.KK = dbo.det.det_user INNER JOIN
                      dbo.bls ON dbo.det.det_ID = dbo.bls.Beleg LEFT OUTER JOIN
                      dbo.adr ON dbo.det.det_adr_ID = dbo.adr.adr_ID LEFT OUTER JOIN
                      dbo.status_bezahlte_rechnungen ON dbo.bls.Beleg = dbo.status_bezahlte_rechnungen.ds_det_id LEFT OUTER JOIN
                      dbo.status_stornierte_rechnungen ON dbo.bls.Beleg = dbo.status_stornierte_rechnungen.ursprung LEFT OUTER JOIN
                      dbo.projekte ON dbo.bls.bill_prj_id = dbo.projekte.prj_id LEFT OUTER JOIN
                      dbo.bls_parts ON dbo.bls.bill_id = dbo.bls_parts.bill_id
GROUP BY dbo.bls.bill_id, dbo.bls.bill_adr_id, dbo.xb_user.alternativ_id, dbo.det.Einstufung, dbo.bls.Beleg, dbo.bls.Betrag, 
                      dbo.bls.Betrag * COALESCE (dbo.projekte.base_rate, 1), dbo.bls.bill_datum, dbo.status_bezahlte_rechnungen.status_datum, 
                      dbo.status_stornierte_rechnungen.det_datum, dbo.xb_user.id, dbo.bls.bill_nr, LEFT(dbo.bls.bill_nr, 1), RIGHT(dbo.bls.bill_nr, 2), dbo.bls_parts.serial
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "xb_user"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 121
               Right = 220
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 6
               Left = 258
               Bottom = 121
               Right = 440
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls"
            Begin Extent = 
               Top = 126
               Left = 38
               Bottom = 241
               Right = 245
            End
            DisplayFlags = 280
            TopColumn = 5
         End
         Begin Table = "adr"
            Begin Extent = 
               Top = 126
               Left = 283
               Bottom = 241
               Right = 465
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "status_bezahlte_rechnungen"
            Begin Extent = 
               Top = 246
               Left = 38
               Bottom = 361
               Right = 206
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "status_stornierte_rechnungen"
            Begin Extent = 
               Top = 246
               Left = 244
               Bottom = 361
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "projekte"
            Begin Extent = 
               Top = 366
               Left = 38
               Bottom = 481
               Right = 219
            End
   ' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'rechnungen_nach_agenten_mit_status'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'         DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls_parts"
            Begin Extent = 
               Top = 366
               Left = 257
               Bottom = 481
               Right = 439
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 2460
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'rechnungen_nach_agenten_mit_status'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'rechnungen_nach_agenten_mit_status'
GO
/****** Object:  View [dbo].[rechnungen_beglichen_korrektur]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[rechnungen_beglichen_korrektur]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      bls.bill_id, 
      bls.bill_datum, 
      bls.Betrag, 
      bills_payed_amounts.eingezahlt, 
      bls.Beleg AS det_id, 
      bills_payed_amounts.letztes_einzahlungsdatum AS datum
   FROM 
      (bls 
         INNER JOIN bills_payed_amounts 
         ON bls.bill_id = bills_payed_amounts.bill_id) 
         LEFT JOIN bills_payed 
         ON bls.bill_id = bills_payed.bill_id
   WHERE (
      ((bls.Betrag) > 0) AND 
      ((bills_payed_amounts.eingezahlt) >= bls.betrag - 0.2) AND 
      ((bills_payed.bill_id) IS NULL))
GO
/****** Object:  View [dbo].[status_teilweise_bezahlte_rechnungen_ersteinzahlung]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[status_teilweise_bezahlte_rechnungen_ersteinzahlung]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      status_teilweise_bezahlte_rechnungen.bill_id, 
      status_teilweise_bezahlte_rechnungen.ds_det_id, 
      status_teilweise_bezahlte_rechnungen.bill_nr, 
      status_teilweise_bezahlte_rechnungen.bill_datum, 
      Min(status_teilweise_bezahlte_rechnungen.datum) AS Ersteinzahlung, 
      Sum(status_teilweise_bezahlte_rechnungen.[ein]) AS eingezahlt, 
      status_teilweise_bezahlte_rechnungen.Betrag
   FROM status_teilweise_bezahlte_rechnungen
   GROUP BY 
      status_teilweise_bezahlte_rechnungen.bill_id, 
      status_teilweise_bezahlte_rechnungen.ds_det_id, 
      status_teilweise_bezahlte_rechnungen.bill_nr, 
      status_teilweise_bezahlte_rechnungen.bill_datum, 
      status_teilweise_bezahlte_rechnungen.Betrag
GO
/****** Object:  View [dbo].[store_order_expotrade]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[store_order_expotrade]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      store_vendors.lager_id, 
      Sum((
         CASE 
            WHEN [new] > 0 THEN [new]
            ELSE [ordered]
         END)) - Sum([ordered]) + (CASE 
         WHEN Sum((
            CASE 
               WHEN [new] > 0 THEN [new]
               ELSE [ordered]
            END)) - Sum([ordered]) > 50 THEN Min([wachstum])
         ELSE 0
      END) AS Bestellung, 
      Sum(store_objects_amounts.new) AS neu, 
      Sum(store_objects_amounts.canceled) AS storniert, 
      Sum(store_objects_amounts.delivered) AS ausgeliefert, 
      Sum(store_objects_amounts.shipped) AS eingeliefert, 
      Sum([ordered]) AS bestätigt, 
      Sum(store_objects_amounts.purchased) AS eingekauft, 
      lager.name, 
      lager.ausgabe, 
      store_vendors.foreign_name, 
      store_vendors.foreign_code, 
      store_vendors.foreign_code2
   FROM 
      store_objects_amounts 
         INNER JOIN (store_vendors 
         INNER JOIN (lager 
         INNER JOIN abos_ww 
         ON lager.bks_id = abos_ww.bks_id) 
         ON store_vendors.lager_id = lager.id) 
         ON store_objects_amounts.lager_id = lager.id
   WHERE (((store_vendors.vendor_id) = 12))
   GROUP BY 
      store_vendors.lager_id, 
      lager.name, 
      lager.ausgabe, 
      store_vendors.foreign_name, 
      store_vendors.foreign_code, 
      store_vendors.foreign_code2
   HAVING (((Sum((
      CASE 
         WHEN [new] > 0 THEN [new]
         ELSE [ordered]
      END)) - Sum([ordered]) + (
      CASE 
         WHEN Sum((
            CASE 
               WHEN [new] > 0 THEN [new]
               ELSE [ordered]
            END)) - Sum([ordered]) > 50 THEN Min([wachstum])
         ELSE 0
      END)) > 0))
GO
/****** Object:  View [dbo].[ob_erledigt_aktualisierung]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[ob_erledigt_aktualisierung]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      xb_outbound.ob_ID, 
      xb_outbound.ob_prj_ID, 
      xb_outbound.ob_prj_name, 
      xb_outbound.ob_adr_ID, 
      xb_outbound.erledigt AS [xb_outbound_erledigt], 
      xb_outbound.created_at, 
      xb_outbound.updated_at, 
      user_letzte_einstufung.Erledigt AS [user_letzte_einstufung_Erledigt], 
      user_letzte_einstufung.det_datum
   FROM 
      xb_outbound 
         INNER JOIN user_letzte_einstufung 
         ON (user_letzte_einstufung.det_adr_ID = xb_outbound.ob_adr_ID) AND (xb_outbound.ob_user = user_letzte_einstufung.KK)
   WHERE (((xb_outbound.erledigt) IS NULL) AND ((user_letzte_einstufung.Erledigt) = 'ja'))
GO
/****** Object:  View [dbo].[neuer_mailing_pool]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[neuer_mailing_pool]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      adr.adr_ID, 
      adr.Anrede, 
      adr.Vorname, 
      adr.Nachname, 
      adr.Strasse, 
      adr.PLZ, 
      adr.Ort, 
      adr.Land, 
      adr.[E-Mail], 
      adr.Tel, 
      adr.Tel2
   FROM 
      ((((adr 
         INNER JOIN xb_outbound 
         ON adr.adr_ID = xb_outbound.ob_adr_ID) 
         INNER JOIN (bls 
         LEFT JOIN bills_payed_amounts 
         ON bls.bill_id = bills_payed_amounts.bill_id) 
         ON xb_outbound.ob_adr_ID = bls.bill_adr_id) 
         INNER JOIN bls_parts 
         ON bls.bill_id = bls_parts.bill_id) 
         LEFT JOIN bills_storniert 
         ON bls.bill_id = bills_storniert.bill_id) 
         INNER JOIN countries_porto_costs 
         ON adr.country_code = countries_porto_costs.country_code
   WHERE (
      ((xb_outbound.ob_prj_ID) = 218) AND 
      ((xb_outbound.erledigt) IS NULL OR (xb_outbound.erledigt) <> 'ja') AND 
      ((countries_porto_costs.tarif_id) = 26))
   GROUP BY 
      adr.adr_ID, 
      adr.Anrede, 
      adr.Vorname, 
      adr.Nachname, 
      adr.Strasse, 
      adr.PLZ, 
      adr.Ort, 
      adr.Land, 
      adr.[E-Mail], 
      adr.Tel, 
      adr.Tel2
GO
/****** Object:  View [dbo].[lager_store_auslieferung_fehlende]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[lager_store_auslieferung_fehlende] AS SELECT lager_short.*, [shipped]-coalesce([delivering],0) AS ist FROM (lager_shipped_amounts INNER JOIN lager_short ON lager_shipped_amounts.lager_id = lager_short.id) LEFT JOIN abos_in_versand ON (lager_short.ausgabe = abos_in_versand.ausgabe) AND (lager_short.bks_id = abos_in_versand.bks_id) WHERE ((([shipped]-coalesce([delivering],0))>0))
GO
/****** Object:  View [dbo].[lager_store_auslieferung]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[lager_store_auslieferung] AS SELECT lager.* FROM lager INNER JOIN lager_shipped_amounts ON lager.id=lager_shipped_amounts.lager_id WHERE eingeliefert=-1
GO
/****** Object:  View [dbo].[projekte_letzte_serials]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[projekte_letzte_serials]
AS
SELECT     dbo.projekte.prj_id, dbo.projekte.parent_prj_id, dbo.projekte.[group], dbo.zahlengruppen_serials.last_serial, dbo.zahlengruppen_serials.last_bill_nr, 
                      dbo.projekte.currency
FROM         dbo.projekte LEFT OUTER JOIN
                      dbo.zahlengruppen_serials ON dbo.projekte.rechnungsgruppe = dbo.zahlengruppen_serials.rechnungsgruppe
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "projekte"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 202
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "zahlengruppen_serials"
            Begin Extent = 
               Top = 6
               Left = 240
               Bottom = 99
               Right = 492
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'projekte_letzte_serials'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'projekte_letzte_serials'
GO
/****** Object:  View [dbo].[bills_new]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_new] AS SELECT bills_full.* FROM bills_full LEFT JOIN bills_av ON bills_full.bill_id = bills_av.bill_id WHERE (((bills_full.Betrag)>1) AND ((bills_av.bill_id) Is Null)) OR (((bills_full.Betrag)=0) AND ((bills_av.bill_id) Is Null) AND ((bills_full.Summe)=0))
GO
/****** Object:  View [dbo].[podpiska_orders_payments]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[podpiska_orders_payments]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT bls_parts.serial AS order_number, bills_payed_amounts.eingezahlt AS payment_amount, bills_payed_amounts.letztes_einzahlungsdatum AS payment_date
   FROM 
      (bls 
         INNER JOIN bls_parts 
         ON bls.bill_id = bls_parts.bill_id) 
         INNER JOIN bills_payed_amounts 
         ON bls.bill_id = bills_payed_amounts.bill_id
   WHERE (((bills_payed_amounts.eingezahlt) > 0) AND ((bls_parts.serial) LIKE 'R%'))
   GROUP BY bls_parts.serial, bills_payed_amounts.eingezahlt, bills_payed_amounts.letztes_einzahlungsdatum
GO
/****** Object:  View [dbo].[podpiska_orders_payment_reminders]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[podpiska_orders_payment_reminders]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT bls_parts.serial AS order_number
   FROM 
      (((bls 
         LEFT JOIN bills_storniert 
         ON bls.bill_id = bills_storniert.bill_id) 
         LEFT JOIN bills_payed_amounts 
         ON bls.bill_id = bills_payed_amounts.bill_id) 
         INNER JOIN det 
         ON bls.Beleg = det.det_ID) 
         INNER JOIN bls_parts 
         ON bls.bill_id = bls_parts.bill_id
   WHERE (
      ((bills_payed_amounts.eingezahlt) = 0 OR (bills_payed_amounts.eingezahlt) IS NULL) AND 
      ((bills_storniert.bill_id) IS NULL) AND 
      ((det.det_user) = 'site') AND 
      ((bls.bill_datum) <= (getdate() - 45)) AND 
      ((bls.Betrag) > 0))
GO
/****** Object:  View [dbo].[det_zahlungserinnerungen_anzahlen]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create view [dbo].[det_zahlungserinnerungen_anzahlen] 
as
SELECT     det_zahlungserinnerungen.det_adr_ID, SUM(CASE WHEN det_zahlungserinnerungen.det_datum > bls.bill_datum AND 
                      det_zahlungserinnerungen.det_datum < bills_payed_amounts.letztes_einzahlungsdatum THEN 1 ELSE 0 END) AS [ZE nutzvoll], 
                      det_zahlungserinnerungen_anzahl.anzahl AS [ZE gesamt]
FROM         bls INNER JOIN
                      det_zahlungserinnerungen ON bls.bill_adr_id = det_zahlungserinnerungen.det_adr_ID INNER JOIN
                      det_zahlungserinnerungen_anzahl ON det_zahlungserinnerungen.det_adr_ID = det_zahlungserinnerungen_anzahl.det_adr_ID LEFT OUTER JOIN
                      bills_payed_amounts ON bls.bill_id = bills_payed_amounts.bill_id
GROUP BY det_zahlungserinnerungen.det_adr_ID, det_zahlungserinnerungen_anzahl.anzahl
GO
/****** Object:  View [dbo].[lager_erschienen_und_nicht_ausgeliefert]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[lager_erschienen_und_nicht_ausgeliefert]
AS
SELECT     dbo.lager.id AS lager_id, dbo.abos_erscheinungstermine.termin, dbo.lager.bks_id, dbo.lager.ausgabe, COUNT(dbo.abos_laufende_titeln.id) 
                      AS amount
FROM         dbo.abos_laufende_titeln INNER JOIN
                      dbo.lager INNER JOIN
                      dbo.abos_erscheinungstermine ON dbo.lager.bks_id = dbo.abos_erscheinungstermine.bks_id AND 
                      dbo.lager.ausgabe = dbo.abos_erscheinungstermine.ausgabe LEFT OUTER JOIN
                      dbo.lager_nicht_kaufbar ON dbo.lager.id = dbo.lager_nicht_kaufbar.id ON dbo.abos_laufende_titeln.bks_id = dbo.lager.bks_id AND 
                      dbo.abos_laufende_titeln.ausgabe = dbo.lager.ausgabe
WHERE     ((CASE WHEN (lager_nicht_kaufbar.id IS NULL) THEN 1 ELSE 0 END) = 1)
GROUP BY dbo.abos_erscheinungstermine.termin, dbo.lager.id, dbo.lager.bks_id, dbo.lager.ausgabe
HAVING      (dbo.abos_erscheinungstermine.termin <= CONVERT(datetime, CONVERT(varchar(100), GETDATE(), 104), 104) - 45)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos_laufende_titeln"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "lager"
            Begin Extent = 
               Top = 6
               Left = 245
               Bottom = 114
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos_erscheinungstermine"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 213
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "lager_nicht_kaufbar"
            Begin Extent = 
               Top = 114
               Left = 251
               Bottom = 207
               Right = 420
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or =' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'lager_erschienen_und_nicht_ausgeliefert'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N' 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'lager_erschienen_und_nicht_ausgeliefert'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'lager_erschienen_und_nicht_ausgeliefert'
GO
/****** Object:  View [dbo].[lager_details]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[lager_details]
AS
SELECT     TOP (2147483647) dbo.lager.id, dbo.lager.bks_id, dbo.lager.name, dbo.lager.ausgabe, dbo.lager.ist, dbo.lager.eingeliefert, 
                      SUM(CASE WHEN dbo.[abotiteln].[status_id] <> 149 OR
                      dbo.[abotiteln].[status_id] IS NULL THEN dbo.[abotiteln].[menge] ELSE 0 END) AS bestellt, 
                      SUM(CASE WHEN dbo.[abotiteln].[status_id] = 149 THEN dbo.[abotiteln].[menge] ELSE 0 END) AS ausgeliefert, 
                      SUM(CASE WHEN dbo.abotiteln.status_id = 150 THEN dbo.abotiteln.menge ELSE 0 END) AS [in verzug], 
                      SUM(CASE WHEN dbo.abotiteln.status_id = 173 THEN dbo.abotiteln.menge ELSE 0 END) AS kaufstorno, 
                      SUM(CASE WHEN dbo.[abotiteln].[status_id] = 207 THEN dbo.[abotiteln].[menge] ELSE 0 END) AS reserviert, dbo.lager.erstellt_am, 
                      dbo.lager.geändert_am, dbo.lager.status_id, dbo.abotiteln_eingefroren.Anzahlvonid AS eingefroren
FROM         dbo.lager INNER JOIN
                      dbo.abos_gültige INNER JOIN
                      dbo.abotiteln ON dbo.abos_gültige.abotiteln_id = dbo.abotiteln.id ON dbo.lager.ausgabe = dbo.abos_gültige.ausgabe AND 
                      dbo.lager.bks_id = dbo.abos_gültige.bks_id LEFT OUTER JOIN
                      dbo.abotiteln_eingefroren ON dbo.lager.ausgabe = dbo.abotiteln_eingefroren.ausgabe AND dbo.lager.bks_id = dbo.abotiteln_eingefroren.bks_id
GROUP BY dbo.lager.id, dbo.lager.bks_id, dbo.lager.name, dbo.lager.ausgabe, dbo.lager.ist, dbo.lager.eingeliefert, dbo.lager.erstellt_am, 
                      dbo.lager.geändert_am, dbo.lager.status_id, dbo.abotiteln_eingefroren.Anzahlvonid, dbo.lager.ausgabe_reverse
ORDER BY dbo.lager.ausgabe_reverse
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[27] 4[34] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "lager"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos_gültige"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 445
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 6
               Left = 483
               Bottom = 114
               Right = 652
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abotiteln_eingefroren"
            Begin Extent = 
               Top = 6
               Left = 690
               Bottom = 99
               Right = 859
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1425
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'lager_details'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'lager_details'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'lager_details'
GO
/****** Object:  View [dbo].[bks_zu_kaufstorno]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bks_zu_kaufstorno] AS SELECT abos.bks_id, abotiteln.ausgabe FROM abos_laufende_titeln INNER JOIN ((abotiteln INNER JOIN abos ON abotiteln.abos_id=abos.id) INNER JOIN lager ON (abos.bks_id=lager.bks_id) AND (abotiteln.ausgabe=lager.ausgabe)) ON abos_laufende_titeln.id=abotiteln.id WHERE (((abotiteln.status_id)<>173 Or (abotiteln.status_id) Is Null) AND ((lager.status_id)=173)) GROUP BY abos.bks_id, abotiteln.ausgabe
GO
/****** Object:  View [dbo].[bills_with_bt_cancelations]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_with_bt_cancelations]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT bls.bill_id, Count(bank_transactions_canelled.bill_id) AS anzahl
   FROM 
      bls 
         INNER JOIN bank_transactions_canelled 
         ON bls.bill_id = bank_transactions_canelled.bill_id
   GROUP BY bls.bill_id
GO
/****** Object:  View [dbo].[abos_auslaufend_letzte]    Script Date: 02/23/2012 10:49:25 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_auslaufend_letzte] AS SELECT abos_auslaufend.id, abos_auslaufend.ausgelieferte, abos_auslaufend.ausgaben FROM abos_auslaufend INNER JOIN abos_gültige_letzte ON abos_auslaufend.id = abos_gültige_letzte.abo_id
GO
/****** Object:  View [dbo].[abos_trees_computed]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_trees_computed]
AS
SELECT     TOP (2147483647) dbo.abos.id, dbo.abos.adr_id, dbo.abos.bks_id, dbo.det.det_datum, dbo.bills_storniert.bill_id AS storniert, 
                      dbo.abos_erste_letzte_ausgabe_alle.Erste_Ausgabe, dbo.abos_erste_letzte_ausgabe_alle.Letzte_Ausgabe
FROM         dbo.bst INNER JOIN
                      dbo.bls INNER JOIN
                      dbo.det ON dbo.bls.Beleg = dbo.det.det_ID ON dbo.bst.b_det_ID = dbo.det.det_ID INNER JOIN
                      dbo.abos ON dbo.bst.B_ID = dbo.abos.bst_id LEFT OUTER JOIN
                      dbo.bills_storniert ON dbo.bls.bill_id = dbo.bills_storniert.bill_id INNER JOIN
                      dbo.abos_erste_letzte_ausgabe_alle ON dbo.abos.id = dbo.abos_erste_letzte_ausgabe_alle.id
ORDER BY dbo.abos.adr_id, dbo.abos.bks_id, dbo.det.det_datum
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bst"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 431
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 114
               Left = 241
               Bottom = 222
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bills_storniert"
            Begin Extent = 
               Top = 222
               Left = 38
               Bottom = 300
               Right = 191
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos_erste_letzte_ausgabe_alle"
            Begin Extent = 
               Top = 222
               Left = 229
               Bottom = 330
               Right = 387
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_trees_computed'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_trees_computed'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_trees_computed'
GO
/****** Object:  View [dbo].[abos_gültige_letzte_ausgabe]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_gültige_letzte_ausgabe]
AS
SELECT     dbo.abos_gültige_letzte.abo_id, dbo.abos_gültige_letzte.adr_id, dbo.abos_gültige_letzte.bks_id, 
                      dbo.abos_erste_letzte_ausgabe_alle.Letzte_Ausgabe, dbo.abos_erste_letzte_ausgabe_alle.periodicality, dbo.abos_erscheinungstermine.termin, 
                      CASE WHEN subscriptions_abos_open_end.abo_id IS NOT NULL THEN 1 ELSE 0 END AS OE
FROM         dbo.abos_gültige_letzte INNER JOIN
                      dbo.abos_erste_letzte_ausgabe_alle ON dbo.abos_gültige_letzte.abo_id = dbo.abos_erste_letzte_ausgabe_alle.id LEFT OUTER JOIN
                      dbo.abos_erscheinungstermine ON dbo.abos_erste_letzte_ausgabe_alle.bks_id = dbo.abos_erscheinungstermine.bks_id AND 
                      dbo.abos_erste_letzte_ausgabe_alle.Letzte_Ausgabe = dbo.abos_erscheinungstermine.ausgabe LEFT OUTER JOIN
                      dbo.subscriptions_abos_open_end ON dbo.abos_gültige_letzte.abo_id = dbo.subscriptions_abos_open_end.abo_id
GROUP BY dbo.abos_gültige_letzte.adr_id, dbo.abos_gültige_letzte.abo_id, dbo.abos_gültige_letzte.bks_id, 
                      dbo.abos_erste_letzte_ausgabe_alle.Letzte_Ausgabe, dbo.abos_erste_letzte_ausgabe_alle.periodicality, dbo.abos_erscheinungstermine.termin, 
                      CASE WHEN subscriptions_abos_open_end.abo_id IS NOT NULL THEN 1 ELSE 0 END
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos_gültige_letzte"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 99
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos_erste_letzte_ausgabe_alle"
            Begin Extent = 
               Top = 6
               Left = 245
               Bottom = 114
               Right = 419
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos_erscheinungstermine"
            Begin Extent = 
               Top = 6
               Left = 457
               Bottom = 114
               Right = 632
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "subscriptions_abos_open_end"
            Begin Extent = 
               Top = 6
               Left = 670
               Bottom = 84
               Right = 839
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_gültige_letzte_ausgabe'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_gültige_letzte_ausgabe'
GO
/****** Object:  View [dbo].[abos_tauschbar]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_tauschbar]
AS
SELECT     dbo.abos_laufende.id, dbo.abos_laufende.adr_id, dbo.abos_laufende.bks_id, dbo.abos_laufende.bst_id, dbo.abos_laufende.status_id
FROM         dbo.bills_payed_amounts INNER JOIN
                      dbo.bls ON dbo.bills_payed_amounts.bill_id = dbo.bls.bill_id INNER JOIN
                      dbo.bst ON dbo.bls.Beleg = dbo.bst.b_det_ID INNER JOIN
                      dbo.abos_laufende ON dbo.bst.B_ID = dbo.abos_laufende.bst_id
WHERE     (dbo.bills_payed_amounts.eingezahlt > 0)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bls"
            Begin Extent = 
               Top = 6
               Left = 280
               Bottom = 114
               Right = 470
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos_laufende"
            Begin Extent = 
               Top = 114
               Left = 241
               Bottom = 222
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bills_payed_amounts"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 242
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_tauschbar'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_tauschbar'
GO
/****** Object:  View [dbo].[abos_payed_amounts]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_payed_amounts]
AS
SELECT     dbo.abos.id, dbo.bls.bill_id, dbo.abos.adr_id, dbo.abos.object_id, dbo.abos.ausgaben, dbo.bls.Betrag, dbo.bls.payment_type, dbo.bls.raten, 
                      CONVERT(float, COALESCE (dbo.bills_payed_amounts.eingezahlt, 0)) AS eingezahlt_geld, COALESCE (dbo.bills_payed_amounts.eingezahlt, 0) 
                      / CASE WHEN Round(bls.betrag, 2) = 0 THEN [anzahl_abos] ELSE bls.betrag END AS anteil_eingezahlt, dbo.bst.Summe / dbo.abos.ausgaben AS preis, 
                      COALESCE (dbo.bst.freight, 0) / dbo.abos.ausgaben AS porto, CONVERT(int, COALESCE (dbo.abos_gesendet.gesendet, 0)) AS versendet, 
                      (dbo.bst.Summe + COALESCE (dbo.bst.freight, 0)) / CASE WHEN [sum_summe] > 0 THEN [sum_summe] + COALESCE ([sum_freight], 0) 
                      ELSE 1 END AS abo_anteil, dbo.bills_payed_amounts.verrechnet
FROM         dbo.bills_payed_amounts INNER JOIN
                      dbo.bls ON dbo.bills_payed_amounts.bill_id = dbo.bls.bill_id INNER JOIN
                      dbo.abos INNER JOIN
                      dbo.bst ON dbo.abos.bst_id = dbo.bst.B_ID ON dbo.bls.Beleg = dbo.bst.b_det_ID LEFT OUTER JOIN
                      dbo.abos_gesendet ON dbo.abos.id = dbo.abos_gesendet.id INNER JOIN
                      dbo.bills_abos_anzahlen ON dbo.bls.bill_id = dbo.bills_abos_anzahlen.bill_id
GROUP BY dbo.abos.id, dbo.bls.bill_id, dbo.abos.adr_id, dbo.abos.object_id, dbo.abos.ausgaben, dbo.bls.Betrag, dbo.bls.payment_type, dbo.bls.raten, 
                      dbo.bills_payed_amounts.verrechnet, CONVERT(float, COALESCE (dbo.bills_payed_amounts.eingezahlt, 0)), 
                      COALESCE (dbo.bills_payed_amounts.eingezahlt, 0) / CASE WHEN Round(bls.betrag, 2) = 0 THEN [anzahl_abos] ELSE bls.betrag END, 
                      dbo.bst.Summe / dbo.abos.ausgaben, COALESCE (dbo.bst.freight, 0) / dbo.abos.ausgaben, CONVERT(int, COALESCE (dbo.abos_gesendet.gesendet, 0)), 
                      (dbo.bst.Summe + COALESCE (dbo.bst.freight, 0)) / CASE WHEN [sum_summe] > 0 THEN [sum_summe] + COALESCE ([sum_freight], 0) ELSE 1 END
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bills_payed_amounts"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 258
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls"
            Begin Extent = 
               Top = 6
               Left = 296
               Bottom = 114
               Right = 502
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 540
               Bottom = 114
               Right = 721
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 6
               Left = 759
               Bottom = 114
               Right = 940
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos_gesendet"
            Begin Extent = 
               Top = 6
               Left = 978
               Bottom = 84
               Right = 1147
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bills_abos_anzahlen"
            Begin Extent = 
               Top = 84
               Left = 978
               Bottom = 192
               Right = 1147
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_payed_amounts'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_payed_amounts'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_payed_amounts'
GO
/****** Object:  View [dbo].[abos_orders_resume]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_orders_resume]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT bst.b_det_ID AS det_id, Count(abos.id) AS anzahl_abos
   FROM 
      (bst 
         INNER JOIN abos 
         ON bst.B_ID = abos.bst_id) 
         LEFT JOIN abos_orders_new 
         ON bst.b_det_ID = abos_orders_new.det_id
   WHERE (((abos_orders_new.det_id) IS NULL))
   GROUP BY bst.b_det_ID
GO
/****** Object:  View [dbo].[abos_oe_extended]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_oe_extended]
AS
SELECT     dbo.subscriptions_open_end_last.abo_id, dbo.det.det_ID, dbo.bls.bill_id, dbo.abos.ausgaben, dbo.bks.periodicality, dbo.bst.rabatt, dbo.bst.freight, 
                      dbo.bls.raten, dbo.bst.b_art_id, dbo.bls.abbezahlt, dbo.bls.payment_type, dbo.bls.rate_type, dbo.bls.payment_day, DATEADD(month, 1, 
                      dbo.bt_bill_last_due_date.[Letztes Einzugsdatum]) AS new_date, dbo.abos.adr_id, dbo.bst.Menge, dbo.bst.Monate, dbo.bst.warengruppe, dbo.bst.code, 
                      dbo.abos.bks_id, LTRIM(RTRIM(COALESCE (dbo.bks.titel, '') + ' ' + COALESCE (dbo.bks.subtitel, ''))) AS titel, dbo.bst.preis, dbo.bst.amount, 
                      dbo.bls.bank_account_id, dbo.bks.gewicht AS item_weight, dbo.bls.currency AS currency_code, dbo.adr.country_code, dbo.bst.Summe, 
                      dbo.bks_kataloge.katalog_id, dbo.objects.prj_id AS obj_prj_id, dbo.det.delivery_id, dbo.det.billing_id, dbo.bks_kataloge.preis AS katalog_preis, 
                      dbo.bls.bill_prj_id, dbo.bls.payment_type_original
FROM         dbo.adr INNER JOIN
                      dbo.subscriptions_open_end_last LEFT OUTER JOIN
                      dbo.abos LEFT OUTER JOIN
                      dbo.bks ON dbo.abos.bks_id = dbo.bks.bks_id LEFT OUTER JOIN
                      dbo.bst ON dbo.abos.bst_id = dbo.bst.B_ID ON dbo.subscriptions_open_end_last.abo_id = dbo.abos.id INNER JOIN
                      dbo.det LEFT OUTER JOIN
                      dbo.bls ON dbo.det.det_ID = dbo.bls.Beleg LEFT OUTER JOIN
                      dbo.bt_bill_last_due_date ON dbo.bls.bill_id = dbo.bt_bill_last_due_date.bill_id ON dbo.subscriptions_open_end_last.last_det_id = dbo.det.det_ID ON 
                      dbo.adr.adr_ID = dbo.det.det_adr_ID LEFT OUTER JOIN
                      dbo.bks_kataloge ON dbo.abos.object_id = dbo.bks_kataloge.id LEFT OUTER JOIN
                      dbo.objects ON dbo.bks_kataloge.katalog_id = dbo.objects.id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[41] 4[28] 2[13] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "adr"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "subscriptions_open_end_last"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 84
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 84
               Left = 241
               Bottom = 192
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 192
               Left = 241
               Bottom = 300
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 222
               Left = 38
               Bottom = 330
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls"
            Begin Extent = 
               Top = 300
               Left = 241
               Bottom = 408
               Right = 431
            End
            DisplayFlags = 280
    ' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_oe_extended'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'        TopColumn = 0
         End
         Begin Table = "bt_bill_last_due_date"
            Begin Extent = 
               Top = 330
               Left = 38
               Bottom = 408
               Right = 222
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks_kataloge"
            Begin Extent = 
               Top = 408
               Left = 38
               Bottom = 516
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "objects"
            Begin Extent = 
               Top = 408
               Left = 241
               Bottom = 516
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 3975
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_oe_extended'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_oe_extended'
GO
/****** Object:  View [dbo].[bills_raten_abbezahlt_corrupt]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_raten_abbezahlt_corrupt] AS SELECT bills_payed_amounts.bill_id, bills_payed_amounts.Betrag, bills_payed_amounts.raten, bills_payed_amounts.abbezahlt, bills_payed_amounts.eingezahlt,dbo.fnVal(([eingezahlt]+0.5)*[raten]/[betrag]) AS eingezahlt_berechnet, bills_payed_amounts.det_id, bills_payed_amounts.letztes_einzahlungsdatum, bills_payed_amounts.bill_datum FROM bills_payed_amounts LEFT JOIN bills_payed ON bills_payed_amounts.bill_id=bills_payed.bill_id WHERE (((bills_payed_amounts.raten)=[abbezahlt]) AND ((bills_payed.bill_id) Is Null))
GO
/****** Object:  View [dbo].[bills_postfaktum]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_postfaktum] AS SELECT bills_full.* FROM bills_full INNER JOIN det_einstufungen ON bills_full.det_id = det_einstufungen.det_ID WHERE (((bills_full.Betrag)>1) AND ((det_einstufungen.Einstufung)='stornierung')) OR (((bills_full.Betrag)=0) AND ((det_einstufungen.Einstufung)='stornierung') AND ((bills_full.Summe)=0))
GO
/****** Object:  View [dbo].[bills_payment_amounts]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_payment_amounts]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      bls.bill_id, 
      bls.Beleg, 
      bls.Betrag, 
      bls.Gebühr, 
      bills_payed_amounts.eingezahlt, 
      bills_payed.bill_id AS bezahlt, 
      bls.Beleg AS det_id, 
      bls.bill_adr_id, 
      bills_payed_amounts.verrechnet
   FROM 
      (bls 
         LEFT JOIN bills_payed_amounts 
         ON bls.bill_id = bills_payed_amounts.bill_id) 
         LEFT JOIN bills_payed 
         ON bls.bill_id = bills_payed.bill_id
   GROUP BY 
      bls.bill_id, 
      bls.Beleg, 
      bls.Betrag, 
      bls.Gebühr, 
      bills_payed_amounts.eingezahlt, 
      bills_payed.bill_id, 
      bls.Beleg, 
      bls.bill_adr_id, 
      bills_payed_amounts.verrechnet
GO
/****** Object:  View [dbo].[bills_ls_transactions_recalculate_dates]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_ls_transactions_recalculate_dates]
AS
SELECT     TOP (100) PERCENT dbo.bills_transactions.bill_id, MIN(dbo.bills_transactions.due_at) AS old_due_at, MIN(dbo.abos_ausgelieferte_titeln.geändert_am) 
                      AS new_due_at, dbo.bls.bill_adr_id, dbo.bls.Beleg, dbo.bls.payment_day
FROM         dbo.abos INNER JOIN
                      dbo.bst ON dbo.abos.bst_id = dbo.bst.B_ID INNER JOIN
                      dbo.bills_transactions INNER JOIN
                      dbo.bls ON dbo.bills_transactions.bill_id = dbo.bls.bill_id ON dbo.bst.b_det_ID = dbo.bls.Beleg LEFT OUTER JOIN
                      dbo.bank_transactions_requested ON dbo.bls.bill_id = dbo.bank_transactions_requested.bill_id INNER JOIN
                      dbo.abos_ausgelieferte_titeln ON dbo.abos.id = dbo.abos_ausgelieferte_titeln.abos_id LEFT OUTER JOIN
                      dbo.kontos_ein ON dbo.bls.Beleg = dbo.kontos_ein.det_id INNER JOIN
                      dbo.det ON dbo.bls.Beleg = dbo.det.det_ID
WHERE     (dbo.abos.status_id <> 146) AND (dbo.bank_transactions_requested.bill_id IS NULL) AND (dbo.bls.payment_type = 226) AND 
                      (dbo.kontos_ein.summe IS NULL)
GROUP BY dbo.bills_transactions.bill_id, dbo.bls.bill_adr_id, dbo.bls.Beleg, dbo.bls.payment_day
HAVING      (MIN(dbo.bills_transactions.due_at) < MIN(dbo.abos_ausgelieferte_titeln.geändert_am)) AND (MAX(dbo.det.storniert) IS NULL) OR
                      (MIN(dbo.bills_transactions.due_at) > DATEADD(m, 2, MIN(dbo.abos_ausgelieferte_titeln.geändert_am)))
ORDER BY dbo.bills_transactions.bill_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[50] 4[22] 2[11] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4[38] 2[25] 3) )"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 3
   End
   Begin DiagramPane = 
      PaneHidden = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos"
            Begin Extent = 
               Top = 294
               Left = 1061
               Bottom = 405
               Right = 1242
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 309
               Left = 798
               Bottom = 417
               Right = 979
            End
            DisplayFlags = 280
            TopColumn = 25
         End
         Begin Table = "bills_transactions"
            Begin Extent = 
               Top = 114
               Left = 816
               Bottom = 222
               Right = 985
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls"
            Begin Extent = 
               Top = 44
               Left = 477
               Bottom = 325
               Right = 683
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bank_transactions_requested"
            Begin Extent = 
               Top = 24
               Left = 94
               Bottom = 128
               Right = 263
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos_ausgelieferte_titeln"
            Begin Extent = 
               Top = 309
               Left = 1279
               Bottom = 417
               Right = 1448
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "kontos_ein"
            Begin Extent = 
               Top = 146
               Left = 92
               Bottom = 254
       ' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bills_ls_transactions_recalculate_dates'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'        Right = 312
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 282
               Left = 104
               Bottom = 390
               Right = 285
            End
            DisplayFlags = 280
            TopColumn = 18
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 2130
         Alias = 1965
         Table = 4215
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bills_ls_transactions_recalculate_dates'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bills_ls_transactions_recalculate_dates'
GO
/****** Object:  View [dbo].[bills_ls_transactions_corrupt]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_ls_transactions_corrupt]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT 
      bls.bill_adr_id, 
      bls.bill_id, 
      bls.Betrag, 
      Sum(isnull([amount], 0)) AS Summe_Raten, 
      Sum((
         CASE 
            WHEN bank_transactions.state_id = 230 THEN [amount]
            ELSE 0
         END)) AS Summe_Eingezogen, 
      (CAST(isnull([summe], 0) AS float)) AS Summe_Eingezahlt, 
      kontos_ein.verrechnet, 
      bls.raten, 
      bls.abbezahlt
   FROM 
      ((((bank_transactions 
         INNER JOIN bls 
         ON bank_transactions.bill_id = bls.bill_id) 
         LEFT JOIN bank_transactions_canelled 
         ON bank_transactions.id = bank_transactions_canelled.id) 
         LEFT JOIN bills_storniert 
         ON bls.bill_id = bills_storniert.bill_id) 
         LEFT JOIN kontos_ein 
         ON bls.Beleg = kontos_ein.det_id) 
         LEFT JOIN bills_payed 
         ON bls.bill_id = bills_payed.bill_id
   WHERE (
      ((bank_transactions_canelled.id) IS NULL) AND 
      ((bills_storniert.bill_id) IS NULL) AND 
      ((bills_payed.bill_id) IS NULL))
   GROUP BY 
      bls.bill_adr_id, 
      bls.bill_id, 
      bls.Betrag, 
      (CAST(isnull([summe], 0) AS float)), 
      kontos_ein.verrechnet, 
      bls.raten, 
      bls.abbezahlt
   HAVING (((Sum(isnull([amount], 0))) NOT BETWEEN [bls].[betrag] - 0.1 AND [bls].[betrag] + 0.1))
GO
/****** Object:  View [dbo].[bills_for_bank_transactions_new]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_for_bank_transactions_new]
AS
SELECT     dbo.bls.bill_id, dbo.bls.bank_account_id, dbo.bls.bill_adr_id AS adr_id, dbo.bls.bill_datum, dbo.bls.Betrag, dbo.bls.raten, dbo.bls.rate_type, 
                      dbo.bls.payment_day, dbo.bls.Betrag - dbo.bills_payed_amounts.eingezahlt AS restbetrag, dbo.bls.raten - dbo.bls.abbezahlt AS restraten, 
                      dbo.bills_payed_amounts.eingezahlt, dbo.kontos_aus.id AS konto_id
FROM         dbo.bls INNER JOIN
                      dbo.bills_lastschriften ON dbo.bls.bill_id = dbo.bills_lastschriften.bill_id LEFT OUTER JOIN
                      dbo.bills_payed_amounts ON dbo.bls.bill_id = dbo.bills_payed_amounts.bill_id LEFT OUTER JOIN
                      dbo.bank_transactions ON dbo.bls.bill_id = dbo.bank_transactions.bill_id LEFT OUTER JOIN
                      dbo.kontos_aus ON dbo.bls.Beleg = dbo.kontos_aus.det_id LEFT OUTER JOIN
                      dbo.bills_storniert ON dbo.bls.bill_id = dbo.bills_storniert.bill_id
WHERE     (dbo.bls.abbezahlt <> dbo.bls.raten) AND (dbo.bank_transactions.konto_id IS NULL) AND (dbo.bills_storniert.bill_id IS NULL)
GROUP BY dbo.bls.bill_id, dbo.bls.bank_account_id, dbo.bls.bill_adr_id, dbo.bls.bill_datum, dbo.bls.Betrag, dbo.bls.raten, dbo.bls.rate_type, 
                      dbo.bls.payment_day, dbo.bls.Betrag - dbo.bills_payed_amounts.eingezahlt, dbo.bls.raten - dbo.bls.abbezahlt, dbo.bills_payed_amounts.eingezahlt, 
                      dbo.kontos_aus.id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bls"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 244
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bills_lastschriften"
            Begin Extent = 
               Top = 6
               Left = 282
               Bottom = 69
               Right = 451
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bank_transactions"
            Begin Extent = 
               Top = 72
               Left = 282
               Bottom = 180
               Right = 451
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "kontos_aus"
            Begin Extent = 
               Top = 222
               Left = 38
               Bottom = 330
               Right = 228
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bills_storniert"
            Begin Extent = 
               Top = 180
               Left = 296
               Bottom = 258
               Right = 465
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bills_payed_amounts"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 258
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bills_for_bank_transactions_new'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bills_for_bank_transactions_new'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bills_for_bank_transactions_new'
GO
/****** Object:  View [dbo].[bills_abos_bezahlt]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create view [dbo].[bills_abos_bezahlt] as
SELECT     bls.bill_adr_id, COUNT(bls.bill_id) AS anzahl, COUNT(DISTINCT bills_payed_amounts.letztes_einzahlungsdatum) AS bezahlt
FROM         bls INNER JOIN
                      abo_projekte ON bls.bill_prj_id = abo_projekte.prj_id LEFT OUTER JOIN
                      bills_payed_amounts ON bls.bill_id = bills_payed_amounts.bill_id
WHERE     (bls.Betrag > 0)
GROUP BY bls.bill_adr_id
GO
/****** Object:  View [dbo].[bills_full_grouped]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_full_grouped] AS SELECT bills_full.bill_id, Count(bills_full.bill_id) AS objekte FROM bills_full GROUP BY bills_full.bill_id
GO
/****** Object:  View [dbo].[bank_transactions_dates]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bank_transactions_dates] AS SELECT bank_transactions.bill_id, Min(bank_transactions_1.due_at) AS Erster_Termin, Min(bank_transactions_2.updated_at) AS Erste_Buchung, Max(bank_transactions_2.updated_at) AS Letzte_Buchung FROM (((bank_transactions LEFT JOIN bank_transactions_payed ON bank_transactions.id=bank_transactions_payed.id) LEFT JOIN bank_transactions_initial ON bank_transactions.id=bank_transactions_initial.id) LEFT JOIN bank_transactions AS bank_transactions_1 ON bank_transactions_initial.id=bank_transactions_1.id) LEFT JOIN bank_transactions AS bank_transactions_2 ON bank_transactions_payed.id=bank_transactions_2.id GROUP BY bank_transactions.bill_id
GO
/****** Object:  View [dbo].[bills]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills] AS SELECT bills_full.* FROM bills_full WHERE (((Betrag)>1)) OR (((Summe)=0) AND ((Betrag)=0))
GO
/****** Object:  View [dbo].[bank_transactions_requestable_on_date]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bank_transactions_requestable_on_date] AS SELECT bills_transactions.id, bills_transactions.bill_id, bills_transactions.due_at, bills_transactions.amount, bls.payment_day FROM (abos RIGHT JOIN ((bills_payed RIGHT JOIN ((((bls INNER JOIN bst ON bls.Beleg = bst.b_det_ID) INNER JOIN bills_transactions ON bls.bill_id = bills_transactions.bill_id) INNER JOIN bank_transactions_initial ON bills_transactions.id = bank_transactions_initial.id) LEFT JOIN bills_storniert ON bls.bill_id = bills_storniert.bill_id) ON bills_payed.bill_id = bls.bill_id) INNER JOIN bank_accounts_valid ON bls.bank_account_id = bank_accounts_valid.id) ON abos.bst_id = bst.B_ID) LEFT JOIN abos_verpflichtungen ON abos.id = abos_verpflichtungen.abo_id WHERE (((bills_storniert.bill_id) Is Null) AND ((bills_payed.bill_id) Is Null) AND ((abos_verpflichtungen.[Verpflichung erfüllt]) Is Not Null) AND ((bills_transactions.amount)>0)) OR (((bills_storniert.bill_id) Is Null) AND ((bills_payed.bill_id) Is Null) AND ((bills_transactions.amount)>0) AND ((abos.id) Is Null)) GROUP BY bills_transactions.id, bills_transactions.bill_id, bills_transactions.due_at, bills_transactions.amount, bls.payment_day
GO
/****** Object:  View [dbo].[bank_transactions_requestable]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bank_transactions_requestable] AS SELECT bills_transactions.id, bills_transactions.bill_id, bills_transactions.due_at, bills_transactions.amount, bls.payment_day FROM (abos RIGHT JOIN ((bills_payed RIGHT JOIN ((((bls INNER JOIN bst ON bls.Beleg = bst.b_det_ID) INNER JOIN bills_transactions ON bls.bill_id = bills_transactions.bill_id) INNER JOIN bank_transactions_initial ON bills_transactions.id = bank_transactions_initial.id) LEFT JOIN bills_storniert ON bls.bill_id = bills_storniert.bill_id) ON bills_payed.bill_id = bls.bill_id) INNER JOIN bank_accounts_valid ON bls.bank_account_id = bank_accounts_valid.id) ON abos.bst_id = bst.B_ID) LEFT JOIN abos_verpflichtungen ON abos.id = abos_verpflichtungen.abo_id WHERE (((bills_storniert.bill_id) Is Null) AND ((bills_payed.bill_id) Is Null) AND ((abos_verpflichtungen.[Verpflichung erfüllt]) Is Not Null) AND ((bills_transactions.amount)>0) AND ((bls.payment_type)=226)) OR (((bills_storniert.bill_id) Is Null) AND ((bills_payed.bill_id) Is Null) AND ((bills_transactions.amount)>0) AND ((bls.payment_type)=226) AND ((abos.id) Is Null)) GROUP BY bills_transactions.id, bills_transactions.bill_id, bills_transactions.due_at, bills_transactions.amount, bls.payment_day
GO
/****** Object:  View [dbo].[adr_last_payed_bst_id]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adr_last_payed_bst_id]
AS
SELECT     MAX(dbo.bst.B_ID) AS last_bst_id, dbo.bls.bill_adr_id AS adr_id, dbo.bst.b_bks_id AS bks_id
FROM         dbo.bst INNER JOIN
                      dbo.bls INNER JOIN
                      dbo.bills_payed_amounts ON dbo.bls.bill_id = dbo.bills_payed_amounts.bill_id INNER JOIN
                      dbo.det ON dbo.bls.Beleg = dbo.det.det_ID ON dbo.bst.b_det_ID = dbo.det.det_ID
WHERE     (dbo.bills_payed_amounts.eingezahlt > 0)
GROUP BY dbo.bls.bill_adr_id, dbo.bst.b_bks_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bst"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 114
               Right = 463
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 114
               Left = 296
               Bottom = 222
               Right = 477
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bills_payed_amounts"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 258
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adr_last_payed_bst_id'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adr_last_payed_bst_id'
GO
/****** Object:  View [dbo].[adressen_rechnungen_summen]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adressen_rechnungen_summen]
AS
SELECT     adr_id, SUM(betrag) AS summe_euro, SUM(CASE WHEN [betrag] > 0 THEN 1 ELSE 0 END) AS rechnungen_anzahl, 
                      SUM(CASE WHEN [betrag] < 0 THEN 1 ELSE 0 END) AS stornorechnungen_anzahl, MAX(bezahlt_datum) AS letztes_zahlungsdatum, 
                      MAX(ausgestellt_datum) AS letztes_ausstellungsdatum, MIN(bezahlt_datum) AS erstes_zahlungsdatum, MIN(ausgestellt_datum) 
                      AS erstes_ausstellungsdatum, SUM(CASE WHEN [bezahlt_datum] > '1/1/1979' THEN [betrag] ELSE 0 END) AS summe_bezahlt
FROM         dbo.adressen_rechnungen
GROUP BY adr_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[41] 4[34] 2[7] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "adressen_rechnungen"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 222
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_rechnungen_summen'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_rechnungen_summen'
GO
/****** Object:  View [dbo].[abos_zur_einfrierung]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_zur_einfrierung]
AS
SELECT     dbo.abos.id, dbo.abos.adr_id
FROM         dbo.abotiteln INNER JOIN
                      dbo.abos ON dbo.abotiteln.abos_id = dbo.abos.id INNER JOIN
                      dbo.bst ON dbo.abos.bst_id = dbo.bst.B_ID LEFT OUTER JOIN
                      dbo.bls ON dbo.bst.b_det_ID = dbo.bls.Beleg LEFT OUTER JOIN
                      dbo.bills_payed_amounts ON dbo.bls.bill_id = dbo.bills_payed_amounts.bill_id LEFT OUTER JOIN
                      dbo.abos_ausland ON dbo.abos.id = dbo.abos_ausland.id LEFT OUTER JOIN
                      dbo.abos_internet ON dbo.abos.id = dbo.abos_internet.id INNER JOIN
                      dbo.bks ON dbo.abos.bks_id = dbo.bks.bks_id INNER JOIN
                      dbo.abos_laufende ON dbo.abos.id = dbo.abos_laufende.id LEFT OUTER JOIN
                      dbo.abos_ausgelieferte_mengen ON dbo.abos.id = dbo.abos_ausgelieferte_mengen.id
WHERE     (dbo.abos_ausgelieferte_mengen.ausgelieferte >= 1) AND (dbo.bls.payment_type = 227 OR
                      dbo.bls.payment_type = 0) AND (dbo.bills_payed_amounts.eingezahlt = 0 OR
                      dbo.bills_payed_amounts.eingezahlt IS NULL) AND (dbo.bls.Betrag > 1) AND 
                      (dbo.bills_payed_amounts.raten <> dbo.bills_payed_amounts.abbezahlt) OR
                      (dbo.bls.payment_type = 227 OR
                      dbo.bls.payment_type = 0) AND (dbo.bills_payed_amounts.eingezahlt = 0 OR
                      dbo.bills_payed_amounts.eingezahlt IS NULL) AND (dbo.bls.Betrag > 1) AND (dbo.abos_internet.id IS NOT NULL) OR
                      (dbo.bls.payment_type = 227 OR
                      dbo.bls.payment_type = 0) AND (dbo.bills_payed_amounts.eingezahlt = 0 OR
                      dbo.bills_payed_amounts.eingezahlt IS NULL) AND (dbo.bls.Betrag > 1) AND (dbo.abos_ausland.id IS NOT NULL)
GROUP BY dbo.abos.adr_id, dbo.abos.id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 245
               Bottom = 114
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls"
            Begin Extent = 
               Top = 114
               Left = 257
               Bottom = 222
               Right = 463
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos_ausland"
            Begin Extent = 
               Top = 222
               Left = 296
               Bottom = 300
               Right = 465
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos_internet"
            Begin Extent = 
               Top = 300
               Left = 296
               Bottom = 378
               Right = 465
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks"
            Begin Extent = 
               Top = 330
               Left = 38
               Bottom = 438
               Right = 219
            End
            DisplayFlags = 280
 ' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_zur_einfrierung'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'           TopColumn = 0
         End
         Begin Table = "abos_laufende"
            Begin Extent = 
               Top = 378
               Left = 257
               Bottom = 486
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos_ausgelieferte_mengen"
            Begin Extent = 
               Top = 438
               Left = 38
               Bottom = 531
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bills_payed_amounts"
            Begin Extent = 
               Top = 222
               Left = 38
               Bottom = 330
               Right = 258
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_zur_einfrierung'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_zur_einfrierung'
GO
/****** Object:  View [dbo].[xb_bestellungen_vk]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_bestellungen_vk]
AS
SELECT     dbo.xb_bestellungen.bill_id, dbo.xb_bestellungen.bill_nr, dbo.xb_bestellungen.bill_prj_id, dbo.xb_bestellungen.bill_adr_id, 
                      dbo.xb_bestellungen.Firma, dbo.xb_bestellungen.Person, dbo.xb_bestellungen.Strasse, dbo.xb_bestellungen.Ort, dbo.xb_bestellungen.Land, 
                      dbo.xb_bestellungen.Re_Nummer, dbo.xb_bestellungen.Re_Datum, dbo.xb_bestellungen.Re_Betrag, dbo.xb_bestellungen.Versendet, 
                      dbo.xb_bestellungen.VKZ, dbo.xb_bestellungen.Beleg, dbo.xb_bestellungen.det_ID, dbo.xb_bestellungen.currency, 
                      dbo.xb_bestellungen.kontonummer, dbo.xb_bestellungen.blz, dbo.xb_bestellungen.bank, dbo.xb_bestellungen.Be_Nummer, 
                      dbo.xb_bestellungen.porto, dbo.xb_bestellungen.payment_type, dbo.xb_bestellungen.rate_type, dbo.xb_bestellungen.payment_day, 
                      dbo.xb_bestellungen.Storniert, dbo.xb_bestellungen.Zahlungsdatum
FROM         dbo.xb_bestellungen INNER JOIN
                      dbo.xb_projekte ON dbo.xb_bestellungen.bill_prj_id = dbo.xb_projekte.prj_id
WHERE     (dbo.xb_projekte.parent_prj_id = 208)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "xb_bestellungen"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 23
         End
         Begin Table = "xb_projekte"
            Begin Extent = 
               Top = 6
               Left = 245
               Bottom = 114
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_bestellungen_vk'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_bestellungen_vk'
GO
/****** Object:  View [dbo].[store_sync_abos]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[store_sync_abos]
AS
SELECT     TOP (100) PERCENT dbo.lager.id AS l_id, dbo.abotiteln.id AS at_id
FROM         dbo.abotiteln INNER JOIN
                      dbo.lager ON dbo.abotiteln.ausgabe = dbo.lager.ausgabe INNER JOIN
                      dbo.abos_laufende_titeln ON dbo.abotiteln.id = dbo.abos_laufende_titeln.id AND dbo.lager.bks_id = dbo.abos_laufende_titeln.bks_id LEFT OUTER JOIN
                      dbo.store_objects ON dbo.abos_laufende_titeln.id = dbo.store_objects.abotitel_id
WHERE     (dbo.store_objects.abotitel_id IS NULL)
GROUP BY dbo.lager.id, dbo.abotiteln.id, dbo.abos_laufende_titeln.abos_id
ORDER BY dbo.abos_laufende_titeln.abos_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "lager"
            Begin Extent = 
               Top = 6
               Left = 245
               Bottom = 114
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos_laufende_titeln"
            Begin Extent = 
               Top = 6
               Left = 464
               Bottom = 114
               Right = 633
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "store_objects"
            Begin Extent = 
               Top = 6
               Left = 671
               Bottom = 114
               Right = 852
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'store_sync_abos'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'store_sync_abos'
GO
/****** Object:  View [dbo].[store_vendor_orders]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[store_vendor_orders]
AS
SELECT     TOP (2147483647) dbo.store_vendors.id, dbo.store_vendors.bks_id, dbo.store_vendors.vendor_id, dbo.store_vendors.lager_id, 
                      dbo.store_vendors.foreign_id, dbo.store_vendors.foreign_code, dbo.store_vendors.foreign_code2, dbo.store_vendors.foreign_name, 
                      dbo.store_vendors.price, dbo.store_vendors.shipping_at, dbo.store_vendors.created_at, dbo.store_vendors.updated_at, dbo.store_vendors.banned, 
                      dbo.store_vendors.currency, dbo.store_vendors.SSMA_TimeStamp, dbo.store_vendor_orders_view.id AS Expr1, 
                      dbo.store_vendor_orders_view.bks_id AS Expr2, dbo.store_vendor_orders_view.name, dbo.store_vendor_orders_view.ausgabe, 
                      dbo.store_vendor_orders_view.ausgabe_reverse, dbo.store_vendor_orders_view.erstellt_am, dbo.store_vendor_orders_view.new, 
                      dbo.store_vendor_orders_view.delivered, dbo.store_vendor_orders_view.ordered, dbo.store_vendor_orders_view.purchased, 
                      dbo.store_vendor_orders_view.shipped, dbo.store_vendor_orders_view.canceled, dbo.store_vendor_orders_view.requested, 
                      dbo.store_vendor_orders_view.status_id, dbo.store_vendor_orders_view.geändert_am, dbo.abos_ww.wachstum, DATEDIFF(day, 
                      COALESCE (dbo.store_vendors.shipping_at, GETDATE()), GETDATE()) / 7 AS wbl, 
                      dbo.store_vendor_orders_view.bks_id AS store_vendor_orders_view_bks_id, dbo.vendors.name AS vname
FROM         dbo.store_vendors RIGHT OUTER JOIN
                      dbo.vendors ON dbo.store_vendors.vendor_id = dbo.vendors.shop_id LEFT OUTER JOIN
                      dbo.store_vendor_orders_view ON dbo.store_vendors.lager_id = dbo.store_vendor_orders_view.id LEFT OUTER JOIN
                      dbo.abos_ww ON dbo.store_vendor_orders_view.bks_id = dbo.abos_ww.bks_id
WHERE     (dbo.store_vendor_orders_view.bks_id > 0)
ORDER BY dbo.store_vendor_orders_view.name, dbo.store_vendor_orders_view.ausgabe_reverse
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "store_vendors"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "vendors"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 84
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "store_vendor_orders_view"
            Begin Extent = 
               Top = 84
               Left = 241
               Bottom = 192
               Right = 405
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos_ww"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 207
               Right = 191
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'store_vendor_orders'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'store_vendor_orders'
GO
/****** Object:  View [dbo].[xb_abos_bestellungen_schweiz_gross]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_abos_bestellungen_schweiz_gross]
AS
SELECT     dbo.xb_abos_bestellungen.bill_adr_id, dbo.xb_abos_bestellungen.Firma, dbo.xb_abos_bestellungen.Person, dbo.xb_abos_bestellungen.Strasse, 
                      dbo.xb_abos_bestellungen.Ort, dbo.xb_abos_bestellungen.Land, dbo.xb_abos_bestellungen.Re_Nummer, dbo.xb_abos_bestellungen.Re_Datum, 
                      dbo.xb_abos_bestellungen.Re_Betrag, dbo.xb_abos_bestellungen.Versendet, dbo.xb_abos_bestellungen.VKZ, 
                      dbo.xb_abos_bestellungen.kontonummer, dbo.xb_abos_bestellungen.Beleg AS det_id, dbo.xb_abos_bestellungen.currency, 
                      dbo.xb_abos_bestellungen.payment_type, dbo.xb_abos_bestellungen.Zahlungsdatum, dbo.xb_abos_bestellungen.Storniert
FROM         dbo.bestellungen_gross_alle INNER JOIN
                      dbo.xb_abos_bestellungen ON dbo.bestellungen_gross_alle.b_det_ID = dbo.xb_abos_bestellungen.det_ID
GROUP BY dbo.xb_abos_bestellungen.bill_adr_id, dbo.xb_abos_bestellungen.Firma, dbo.xb_abos_bestellungen.Person, dbo.xb_abos_bestellungen.Strasse, 
                      dbo.xb_abos_bestellungen.Ort, dbo.xb_abos_bestellungen.Land, dbo.xb_abos_bestellungen.Re_Nummer, dbo.xb_abos_bestellungen.Re_Datum, 
                      dbo.xb_abos_bestellungen.Re_Betrag, dbo.xb_abos_bestellungen.Versendet, dbo.xb_abos_bestellungen.VKZ, 
                      dbo.xb_abos_bestellungen.kontonummer, dbo.xb_abos_bestellungen.Beleg, dbo.xb_abos_bestellungen.currency, 
                      dbo.xb_abos_bestellungen.payment_type, dbo.xb_abos_bestellungen.Zahlungsdatum, dbo.xb_abos_bestellungen.Storniert
HAVING      (dbo.xb_abos_bestellungen.Land = 'schweiz') OR
                      (dbo.xb_abos_bestellungen.Land = 'swiss')
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bestellungen_gross_alle"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 91
               Right = 208
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "xb_abos_bestellungen"
            Begin Extent = 
               Top = 6
               Left = 246
               Bottom = 333
               Right = 416
            End
            DisplayFlags = 280
            TopColumn = 8
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abos_bestellungen_schweiz_gross'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abos_bestellungen_schweiz_gross'
GO
/****** Object:  View [dbo].[xb_abos_bestellungen_schweiz]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_abos_bestellungen_schweiz]
AS
SELECT     dbo.xb_abos_bestellungen.bill_adr_id, dbo.xb_abos_bestellungen.Firma, dbo.xb_abos_bestellungen.Person, dbo.xb_abos_bestellungen.Strasse, 
                      dbo.xb_abos_bestellungen.Ort, dbo.xb_abos_bestellungen.Land, dbo.xb_abos_bestellungen.Re_Nummer, dbo.xb_abos_bestellungen.Re_Datum, 
                      dbo.xb_abos_bestellungen.Re_Betrag, dbo.xb_abos_bestellungen.Versendet, dbo.xb_abos_bestellungen.VKZ, 
                      dbo.xb_abos_bestellungen.kontonummer, dbo.xb_abos_bestellungen.Beleg AS det_id, dbo.xb_abos_bestellungen.currency, 
                      dbo.xb_abos_bestellungen.payment_type, dbo.xb_abos_bestellungen.Storniert, dbo.xb_abos_bestellungen.Zahlungsdatum
FROM         dbo.xb_abos_bestellungen LEFT OUTER JOIN
                      dbo.bills_av ON dbo.xb_abos_bestellungen.det_ID = dbo.bills_av.det_ID
WHERE     (dbo.bills_av.det_ID IS NULL)
GROUP BY dbo.xb_abos_bestellungen.bill_adr_id, dbo.xb_abos_bestellungen.Firma, dbo.xb_abos_bestellungen.Person, dbo.xb_abos_bestellungen.Strasse, 
                      dbo.xb_abos_bestellungen.Ort, dbo.xb_abos_bestellungen.Land, dbo.xb_abos_bestellungen.Re_Nummer, dbo.xb_abos_bestellungen.Re_Datum, 
                      dbo.xb_abos_bestellungen.Re_Betrag, dbo.xb_abos_bestellungen.Versendet, dbo.xb_abos_bestellungen.VKZ, 
                      dbo.xb_abos_bestellungen.kontonummer, dbo.xb_abos_bestellungen.Beleg, dbo.xb_abos_bestellungen.currency, 
                      dbo.xb_abos_bestellungen.payment_type, dbo.xb_abos_bestellungen.Storniert, dbo.xb_abos_bestellungen.Zahlungsdatum
HAVING      (dbo.xb_abos_bestellungen.Land = 'Schweiz') OR
                      (dbo.xb_abos_bestellungen.Land = 'swiss')
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "xb_abos_bestellungen"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 121
               Right = 208
            End
            DisplayFlags = 280
            TopColumn = 22
         End
         Begin Table = "bills_av"
            Begin Extent = 
               Top = 6
               Left = 246
               Bottom = 106
               Right = 414
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abos_bestellungen_schweiz'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abos_bestellungen_schweiz'
GO
/****** Object:  View [dbo].[xb_abos_bestellungen_lastschrift]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_abos_bestellungen_lastschrift]
AS
SELECT     dbo.xb_abos_bestellungen.bill_adr_id, dbo.xb_abos_bestellungen.Firma, dbo.xb_abos_bestellungen.Person, dbo.xb_abos_bestellungen.Strasse, 
                      dbo.xb_abos_bestellungen.Ort, dbo.xb_abos_bestellungen.Land, dbo.xb_abos_bestellungen.Re_Nummer, dbo.xb_abos_bestellungen.Re_Datum, 
                      dbo.xb_abos_bestellungen.Re_Betrag, dbo.xb_abos_bestellungen.Versendet, dbo.xb_abos_bestellungen.VKZ, 
                      dbo.xb_abos_bestellungen.kontonummer, dbo.xb_abos_bestellungen.Beleg AS det_id, dbo.xb_abos_bestellungen.blz, 
                      dbo.xb_abos_bestellungen.bank, dbo.xb_abos_bestellungen.porto, dbo.xb_abos_bestellungen.Be_Nummer, 
                      (CASE WHEN [rate_type] = 2 THEN 'раз в полугодие' ELSE (CASE WHEN [rate_type] = 4 THEN 'раз в квартал' ELSE (CASE WHEN [rate_type] = 3 THEN 'раз в 4 месяца' ELSE
                       'раз в месяц' END) END) END) AS ratenmodus, dbo.xb_abos_bestellungen.payment_type, dbo.xb_abos_bestellungen.Storniert, 
                      dbo.xb_abos_bestellungen.Zahlungsdatum
FROM         dbo.xb_abos_bestellungen INNER JOIN
                      dbo.bills_lastschriften ON dbo.xb_abos_bestellungen.bill_id = dbo.bills_lastschriften.bill_id
GROUP BY dbo.xb_abos_bestellungen.bill_adr_id, dbo.xb_abos_bestellungen.Firma, dbo.xb_abos_bestellungen.Person, dbo.xb_abos_bestellungen.Strasse, 
                      dbo.xb_abos_bestellungen.Ort, dbo.xb_abos_bestellungen.Land, dbo.xb_abos_bestellungen.Re_Nummer, dbo.xb_abos_bestellungen.Re_Datum, 
                      dbo.xb_abos_bestellungen.Re_Betrag, dbo.xb_abos_bestellungen.Versendet, dbo.xb_abos_bestellungen.VKZ, 
                      dbo.xb_abos_bestellungen.kontonummer, dbo.xb_abos_bestellungen.Beleg, dbo.xb_abos_bestellungen.blz, dbo.xb_abos_bestellungen.bank, 
                      dbo.xb_abos_bestellungen.porto, dbo.xb_abos_bestellungen.Be_Nummer, 
                      (CASE WHEN [rate_type] = 2 THEN 'раз в полугодие' ELSE (CASE WHEN [rate_type] = 4 THEN 'раз в квартал' ELSE (CASE WHEN [rate_type] = 3 THEN 'раз в 4 месяца' ELSE
                       'раз в месяц' END) END) END), dbo.xb_abos_bestellungen.payment_type, dbo.xb_abos_bestellungen.Storniert, dbo.xb_abos_bestellungen.Zahlungsdatum
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "xb_abos_bestellungen"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 365
               Right = 208
            End
            DisplayFlags = 280
            TopColumn = 6
         End
         Begin Table = "bills_lastschriften"
            Begin Extent = 
               Top = 6
               Left = 246
               Bottom = 76
               Right = 414
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abos_bestellungen_lastschrift'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abos_bestellungen_lastschrift'
GO
/****** Object:  View [dbo].[xb_abos_bestellungen_internet]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_abos_bestellungen_internet]
AS
SELECT     bill_adr_id, Firma, Person, Strasse, Ort, Land, Re_Nummer, Re_Datum, Re_Betrag, Versendet, VKZ, kontonummer, Beleg AS det_id, blz, bank, 
                      payment_type, Storniert, Zahlungsdatum
FROM         dbo.xb_abos_bestellungen
WHERE     (RIGHT(Be_Nummer, 2) = 'RP')
GROUP BY bill_adr_id, Firma, Person, Strasse, Ort, Land, Re_Nummer, Re_Datum, Re_Betrag, Versendet, VKZ, kontonummer, Beleg, blz, bank, payment_type, 
                      Storniert, Zahlungsdatum
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "xb_abos_bestellungen"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 359
               Right = 208
            End
            DisplayFlags = 280
            TopColumn = 6
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abos_bestellungen_internet'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abos_bestellungen_internet'
GO
/****** Object:  View [dbo].[xb_abos_bestellungen_inland]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_abos_bestellungen_inland]
AS
SELECT     dbo.xb_abos_bestellungen.bill_adr_id, dbo.xb_abos_bestellungen.Firma, dbo.xb_abos_bestellungen.Person, dbo.xb_abos_bestellungen.Strasse, 
                      dbo.xb_abos_bestellungen.Ort, dbo.xb_abos_bestellungen.Re_Nummer, dbo.xb_abos_bestellungen.Re_Datum, 
                      dbo.xb_abos_bestellungen.Re_Betrag, dbo.xb_abos_bestellungen.Versendet, dbo.xb_abos_bestellungen.VKZ, 
                      dbo.xb_abos_bestellungen.kontonummer, dbo.xb_abos_bestellungen.Beleg AS det_id, dbo.xb_abos_bestellungen.blz, 
                      dbo.xb_abos_bestellungen.bank, dbo.xb_abos_bestellungen.payment_type, dbo.xb_abos_bestellungen.Storniert, 
                      dbo.xb_abos_bestellungen.Zahlungsdatum
FROM         dbo.xb_abos_bestellungen INNER JOIN
                      dbo.bestellungen_klein_bis_mittel ON dbo.xb_abos_bestellungen.Beleg = dbo.bestellungen_klein_bis_mittel.b_det_ID LEFT OUTER JOIN
                      dbo.bills_av ON dbo.xb_abos_bestellungen.det_ID = dbo.bills_av.det_ID
WHERE     (dbo.xb_abos_bestellungen.Land IS NULL OR
                      dbo.xb_abos_bestellungen.Land = 'Deutschland' OR
                      dbo.xb_abos_bestellungen.Land = 'Germany') AND (dbo.bills_av.det_ID IS NULL)
GROUP BY dbo.xb_abos_bestellungen.bill_adr_id, dbo.xb_abos_bestellungen.Firma, dbo.xb_abos_bestellungen.Person, dbo.xb_abos_bestellungen.Strasse, 
                      dbo.xb_abos_bestellungen.Ort, dbo.xb_abos_bestellungen.Re_Nummer, dbo.xb_abos_bestellungen.Re_Datum, 
                      dbo.xb_abos_bestellungen.Re_Betrag, dbo.xb_abos_bestellungen.Versendet, dbo.xb_abos_bestellungen.VKZ, 
                      dbo.xb_abos_bestellungen.kontonummer, dbo.xb_abos_bestellungen.Beleg, dbo.xb_abos_bestellungen.blz, dbo.xb_abos_bestellungen.bank, 
                      dbo.xb_abos_bestellungen.payment_type, dbo.xb_abos_bestellungen.Storniert, dbo.xb_abos_bestellungen.Zahlungsdatum
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "xb_abos_bestellungen"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 313
               Right = 208
            End
            DisplayFlags = 280
            TopColumn = 10
         End
         Begin Table = "bestellungen_klein_bis_mittel"
            Begin Extent = 
               Top = 6
               Left = 246
               Bottom = 91
               Right = 416
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bills_av"
            Begin Extent = 
               Top = 96
               Left = 246
               Bottom = 196
               Right = 414
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abos_bestellungen_inland'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abos_bestellungen_inland'
GO
/****** Object:  View [dbo].[xb_abos_bestellungen_gross]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_abos_bestellungen_gross]
AS
SELECT     dbo.xb_abos_bestellungen.bill_adr_id, dbo.xb_abos_bestellungen.Firma, dbo.xb_abos_bestellungen.Person, dbo.xb_abos_bestellungen.Strasse, 
                      dbo.xb_abos_bestellungen.Ort, dbo.xb_abos_bestellungen.Land, dbo.xb_abos_bestellungen.Re_Nummer, dbo.xb_abos_bestellungen.Re_Datum, 
                      dbo.xb_abos_bestellungen.Re_Betrag, dbo.xb_abos_bestellungen.Versendet, dbo.xb_abos_bestellungen.VKZ, 
                      dbo.xb_abos_bestellungen.kontonummer, dbo.xb_abos_bestellungen.Beleg AS det_id, dbo.xb_abos_bestellungen.blz, 
                      dbo.xb_abos_bestellungen.bank, dbo.xb_abos_bestellungen.payment_type, dbo.xb_abos_bestellungen.Storniert, 
                      dbo.xb_abos_bestellungen.Zahlungsdatum
FROM         dbo.xb_abos_bestellungen INNER JOIN
                      dbo.bestellungen_gross ON dbo.xb_abos_bestellungen.Beleg = dbo.bestellungen_gross.b_det_ID LEFT OUTER JOIN
                      dbo.bills_av ON dbo.xb_abos_bestellungen.det_ID = dbo.bills_av.det_ID
WHERE     (dbo.bills_av.det_ID IS NULL)
GROUP BY dbo.xb_abos_bestellungen.bill_adr_id, dbo.xb_abos_bestellungen.Firma, dbo.xb_abos_bestellungen.Person, dbo.xb_abos_bestellungen.Strasse, 
                      dbo.xb_abos_bestellungen.Ort, dbo.xb_abos_bestellungen.Land, dbo.xb_abos_bestellungen.Re_Nummer, dbo.xb_abos_bestellungen.Re_Datum, 
                      dbo.xb_abos_bestellungen.Re_Betrag, dbo.xb_abos_bestellungen.Versendet, dbo.xb_abos_bestellungen.VKZ, 
                      dbo.xb_abos_bestellungen.kontonummer, dbo.xb_abos_bestellungen.Beleg, dbo.xb_abos_bestellungen.blz, dbo.xb_abos_bestellungen.bank, 
                      dbo.xb_abos_bestellungen.payment_type, dbo.xb_abos_bestellungen.Storniert, dbo.xb_abos_bestellungen.Zahlungsdatum
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "xb_abos_bestellungen"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 344
               Right = 208
            End
            DisplayFlags = 280
            TopColumn = 7
         End
         Begin Table = "bestellungen_gross"
            Begin Extent = 
               Top = 6
               Left = 246
               Bottom = 91
               Right = 416
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bills_av"
            Begin Extent = 
               Top = 96
               Left = 246
               Bottom = 196
               Right = 414
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abos_bestellungen_gross'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abos_bestellungen_gross'
GO
/****** Object:  View [dbo].[xb_abos_bestellungen_av]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_abos_bestellungen_av]
AS
SELECT     dbo.xb_abos_bestellungen.bill_adr_id, dbo.xb_abos_bestellungen.Firma, dbo.xb_abos_bestellungen.Person, dbo.xb_abos_bestellungen.Strasse, 
                      dbo.xb_abos_bestellungen.Ort, dbo.xb_abos_bestellungen.Re_Nummer, dbo.xb_abos_bestellungen.Re_Datum, 
                      dbo.xb_abos_bestellungen.Re_Betrag, dbo.xb_abos_bestellungen.Versendet, dbo.xb_abos_bestellungen.VKZ, 
                      dbo.xb_abos_bestellungen.kontonummer, dbo.xb_abos_bestellungen.Beleg AS det_id, dbo.xb_abos_bestellungen.blz, 
                      dbo.xb_abos_bestellungen.bank, dbo.xb_abos_bestellungen.payment_type, dbo.xb_abos_bestellungen.Storniert, 
                      dbo.xb_abos_bestellungen.Zahlungsdatum
FROM         dbo.xb_abos_bestellungen INNER JOIN
                      dbo.bills_av ON dbo.xb_abos_bestellungen.det_ID = dbo.bills_av.det_ID
GROUP BY dbo.xb_abos_bestellungen.bill_adr_id, dbo.xb_abos_bestellungen.Firma, dbo.xb_abos_bestellungen.Person, dbo.xb_abos_bestellungen.Strasse, 
                      dbo.xb_abos_bestellungen.Ort, dbo.xb_abos_bestellungen.Re_Nummer, dbo.xb_abos_bestellungen.Re_Datum, 
                      dbo.xb_abos_bestellungen.Re_Betrag, dbo.xb_abos_bestellungen.Versendet, dbo.xb_abos_bestellungen.VKZ, 
                      dbo.xb_abos_bestellungen.kontonummer, dbo.xb_abos_bestellungen.Beleg, dbo.xb_abos_bestellungen.blz, dbo.xb_abos_bestellungen.bank, 
                      dbo.xb_abos_bestellungen.payment_type, dbo.xb_abos_bestellungen.Storniert, dbo.xb_abos_bestellungen.Zahlungsdatum
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "xb_abos_bestellungen"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 341
               Right = 208
            End
            DisplayFlags = 280
            TopColumn = 8
         End
         Begin Table = "bills_av"
            Begin Extent = 
               Top = 6
               Left = 246
               Bottom = 106
               Right = 414
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abos_bestellungen_av'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abos_bestellungen_av'
GO
/****** Object:  View [dbo].[xb_abos_bestellungen_ausland]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_abos_bestellungen_ausland]
AS
SELECT     dbo.xb_abos_bestellungen.bill_adr_id, dbo.xb_abos_bestellungen.Firma, dbo.xb_abos_bestellungen.Person, dbo.xb_abos_bestellungen.Strasse, 
                      dbo.xb_abos_bestellungen.Ort, dbo.xb_abos_bestellungen.Land, dbo.xb_abos_bestellungen.Re_Nummer, dbo.xb_abos_bestellungen.Re_Datum, 
                      dbo.xb_abos_bestellungen.Re_Betrag, dbo.xb_abos_bestellungen.Versendet, dbo.xb_abos_bestellungen.VKZ, 
                      dbo.xb_abos_bestellungen.kontonummer, dbo.xb_abos_bestellungen.Beleg AS det_id, dbo.xb_abos_bestellungen.blz, 
                      dbo.xb_abos_bestellungen.bank, dbo.xb_abos_bestellungen.porto, dbo.xb_abos_bestellungen.Be_Nummer, 
                      dbo.xb_abos_bestellungen.payment_type, dbo.xb_abos_bestellungen.Storniert, dbo.xb_abos_bestellungen.Zahlungsdatum
FROM         dbo.countries_costs RIGHT OUTER JOIN
                      dbo.bestellungen_klein_bis_mittel INNER JOIN
                      dbo.xb_abos_bestellungen ON dbo.bestellungen_klein_bis_mittel.b_det_ID = dbo.xb_abos_bestellungen.Beleg INNER JOIN
                      dbo.countries ON dbo.xb_abos_bestellungen.Land = dbo.countries.deutsch ON 
                      dbo.countries_costs.country_code = dbo.countries.alpha2 LEFT OUTER JOIN
                      dbo.xb_abos_bestellungen_internet ON dbo.xb_abos_bestellungen.det_ID = dbo.xb_abos_bestellungen_internet.det_id LEFT OUTER JOIN
                      dbo.bills_av ON dbo.xb_abos_bestellungen.det_ID = dbo.bills_av.det_ID
WHERE     (dbo.countries.iso <> 276) AND (dbo.countries.iso <> 756) AND (CAST(RIGHT(ISNULL(dbo.xb_abos_bestellungen.Re_Nummer, ''), 2) AS varchar) 
                      <> 'SP') AND (dbo.xb_abos_bestellungen_internet.det_id IS NULL) AND (dbo.bills_av.det_ID IS NULL)
GROUP BY dbo.xb_abos_bestellungen.bill_adr_id, dbo.xb_abos_bestellungen.Firma, dbo.xb_abos_bestellungen.Person, dbo.xb_abos_bestellungen.Strasse, 
                      dbo.xb_abos_bestellungen.Ort, dbo.xb_abos_bestellungen.Land, dbo.xb_abos_bestellungen.Re_Nummer, dbo.xb_abos_bestellungen.Re_Datum, 
                      dbo.xb_abos_bestellungen.Re_Betrag, dbo.xb_abos_bestellungen.Versendet, dbo.xb_abos_bestellungen.VKZ, 
                      dbo.xb_abos_bestellungen.kontonummer, dbo.xb_abos_bestellungen.Beleg, dbo.xb_abos_bestellungen.blz, dbo.xb_abos_bestellungen.bank, 
                      dbo.xb_abos_bestellungen.porto, dbo.xb_abos_bestellungen.Be_Nummer, dbo.xb_abos_bestellungen.payment_type, 
                      dbo.xb_abos_bestellungen.Storniert, dbo.xb_abos_bestellungen.Zahlungsdatum
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "countries_costs"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 121
               Right = 220
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bestellungen_klein_bis_mittel"
            Begin Extent = 
               Top = 6
               Left = 258
               Bottom = 91
               Right = 428
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "xb_abos_bestellungen"
            Begin Extent = 
               Top = 96
               Left = 258
               Bottom = 211
               Right = 688
            End
            DisplayFlags = 280
            TopColumn = 22
         End
         Begin Table = "countries"
            Begin Extent = 
               Top = 126
               Left = 38
               Bottom = 241
               Right = 210
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bills_av"
            Begin Extent = 
               Top = 246
               Left = 38
               Bottom = 346
               Right = 206
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "xb_abos_bestellungen_internet"
            Begin Extent = 
               Top = 216
               Left = 248
               Bottom = 331
               Right = 667
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
   ' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abos_bestellungen_ausland'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'   Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abos_bestellungen_ausland'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abos_bestellungen_ausland'
GO
/****** Object:  View [dbo].[adressen_bonität]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adressen_bonität]
AS
SELECT     TOP (2147483647) dbo.adr.adr_ID, COUNT(dbo.bills_payed.bill_id) AS bezahlt, SUM(CASE WHEN [bills_storniert].[bill_id] IS NOT NULL AND 
                      [bills_payment_amounts].[eingezahlt] = 0 THEN 1 ELSE 0 END) AS storniert, SUM(CASE WHEN [bills_payment_amounts].[eingezahlt] > 0 AND 
                      [bills_payed].[bill_id] IS NULL AND [bills_storniert].[bill_id] IS NULL THEN 1 ELSE 0 END) AS teilweise_bezahlt, COUNT(dbo.bls.bill_id) AS rechnungen, 
                      SUM(CASE WHEN [bills_payment_amounts].[eingezahlt] = 0 AND [bills_payed].[bill_id] IS NULL AND [bills_storniert].[bill_id] IS NULL AND 
                      [bls].[bill_datum] < (getDate() - 30) THEN 1 ELSE 0 END) AS nichtbezahlt_30, dbo.det_zahlungserinnerungen_anzahl.anzahl AS Zahlungserinnerungen, 
                      dbo.det_zahlungserinnerungen_anzahl.letzte AS Letzte_Zahllungserinnerung, COUNT(dbo.bls.bill_id) - COUNT(dbo.bills_payed.bill_id) 
                      - COUNT(dbo.bills_storniert.bill_id) - SUM(CASE WHEN [bills_payment_amounts].[eingezahlt] > 0 AND [bills_payed].[bill_id] IS NULL AND 
                      [bills_storniert].[bill_id] IS NULL THEN 1 ELSE 0 END) AS Score, SUM(CASE WHEN [bills_payment_amounts].[eingezahlt] >= 0 AND 
                      [bills_payed].[bill_id] IS NULL AND [bills_storniert].[bill_id] IS NULL AND [bls].[bill_datum] < (getDate() - 30) 
                      THEN [bls].[betrag] - [eingezahlt] ELSE 0 END) AS Nichtbezahlt_Summe
FROM         dbo.bls LEFT OUTER JOIN
                      dbo.bills_storniert ON dbo.bls.bill_id = dbo.bills_storniert.bill_id LEFT OUTER JOIN
                      dbo.bills_payment_amounts ON dbo.bls.bill_id = dbo.bills_payment_amounts.bill_id LEFT OUTER JOIN
                      dbo.bills_payed ON dbo.bls.bill_id = dbo.bills_payed.bill_id INNER JOIN
                      dbo.adr ON dbo.bls.bill_adr_id = dbo.adr.adr_ID LEFT OUTER JOIN
                      dbo.det_zahlungserinnerungen_anzahl ON dbo.adr.adr_ID = dbo.det_zahlungserinnerungen_anzahl.det_adr_ID
GROUP BY dbo.adr.adr_ID, dbo.det_zahlungserinnerungen_anzahl.anzahl, dbo.det_zahlungserinnerungen_anzahl.letzte
ORDER BY Score DESC, Nichtbezahlt_Summe DESC
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bls"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 244
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bills_storniert"
            Begin Extent = 
               Top = 6
               Left = 282
               Bottom = 84
               Right = 451
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bills_payment_amounts"
            Begin Extent = 
               Top = 84
               Left = 282
               Bottom = 192
               Right = 451
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bills_payed"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 192
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "adr"
            Begin Extent = 
               Top = 192
               Left = 38
               Bottom = 300
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det_zahlungserinnerungen_anzahl"
            Begin Extent = 
               Top = 192
               Left = 257
               Bottom = 300
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_bonität'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_bonität'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_bonität'
GO
/****** Object:  View [dbo].[artikelliste_lagerreste]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[artikelliste_lagerreste]
AS
SELECT     TOP (2147483647) dbo.Artikel.bks_id, dbo.Artikel.Bezeichnung + '' + dbo.lager.ausgabe AS title, dbo.Artikel.Preis, dbo.Artikel.ArtID, 
                      dbo.bks.periodicality, dbo.lager.ausgabe, dbo.lager.ist - dbo.lager_details.bestellt - dbo.lager_details.reserviert AS amount, dbo.lager.id AS lager_id, 
                      dbo.lager.ist - dbo.lager_details.bestellt - dbo.lager_details.reserviert AS Ausdr1
FROM         dbo.Artikel INNER JOIN
                      dbo.bks ON dbo.Artikel.bks_id = dbo.bks.bks_id INNER JOIN
                      dbo.lager ON dbo.bks.bks_id = dbo.lager.bks_id LEFT OUTER JOIN
                      dbo.abos_in_versand ON dbo.lager.ausgabe = dbo.abos_in_versand.ausgabe AND dbo.lager.bks_id = dbo.abos_in_versand.bks_id INNER JOIN
                      dbo.lager_details ON dbo.lager.id = dbo.lager_details.id
WHERE     (dbo.lager.ist - dbo.lager_details.bestellt - dbo.lager_details.reserviert > 0) AND (dbo.Artikel.aktiv = 1) AND (dbo.Artikel.AufID = 127) AND 
                      (dbo.abos_in_versand.bks_id IS NULL) AND (dbo.lager.eingeliefert = 1)
ORDER BY title
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "Artikel"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bks"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 406
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "lager"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos_in_versand"
            Begin Extent = 
               Top = 114
               Left = 241
               Bottom = 207
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "lager_details"
            Begin Extent = 
               Top = 210
               Left = 241
               Bottom = 318
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         ' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'artikelliste_lagerreste'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'artikelliste_lagerreste'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'artikelliste_lagerreste'
GO
/****** Object:  View [dbo].[bills_new_av_old]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_new_av_old] AS SELECT bills_full.*, bst.preis AS previous_price FROM (bills_full INNER JOIN bills_av ON bills_full.bill_id=bills_av.bill_id) INNER JOIN (bst AS bst_1 LEFT JOIN (adr_last_payed_bst_id LEFT JOIN bst ON adr_last_payed_bst_id.last_bst_id=bst.B_ID) ON (bst_1.b_bks_id=adr_last_payed_bst_id.bks_id) AND (bst_1.b_adr_ID=adr_last_payed_bst_id.adr_id)) ON bills_full.det_id=bst_1.b_det_ID WHERE (((bills_full.Betrag)>1)) OR (((bills_full.Betrag)=0) AND ((bst.Summe)=0))
GO
/****** Object:  View [dbo].[bills_ls_amounts]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_ls_amounts] AS SELECT bls.bill_id, bls.bill_adr_id, bls.bill_datum, bls.Betrag, bills_payed.bill_id AS bezahlt, bills_storniert.bill_id AS bill_storniert, bank_accounts_valid.id AS valid_bank_account, bank_transactions_sums.gebucht, bank_transactions_sums.ungebucht, bank_transactions_sums.beglichen, bank_transactions_sums.storniert, bills_lastschriften.bill_id AS BE, bls.payment_type_original AS UR_BE, bank_transactions_dates.Erster_Termin, bank_transactions_dates.Erste_Buchung, bank_transactions_dates.Letzte_Buchung FROM (((((bls LEFT JOIN bills_lastschriften ON bls.bill_id = bills_lastschriften.bill_id) LEFT JOIN bills_storniert ON bls.bill_id = bills_storniert.bill_id) LEFT JOIN bank_accounts_valid ON bls.bank_account_id = bank_accounts_valid.id) LEFT JOIN bank_transactions_sums ON bls.bill_id = bank_transactions_sums.bill_id) LEFT JOIN bank_transactions_dates ON bls.bill_id = bank_transactions_dates.bill_id) LEFT JOIN bills_payed ON bls.bill_id = bills_payed.bill_id WHERE (((bls.payment_type_original)=226)) OR (((bills_lastschriften.bill_id)>0))
GO
/****** Object:  View [dbo].[abos_mit_ratenzahlung]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_mit_ratenzahlung]
AS
SELECT     dbo.abos.status_id, ROUND(dbo.abos_payed_amounts.anteil_eingezahlt * dbo.abos.ausgaben - 0.25, 0) AS abbezahlte, 
                      dbo.abos_ausgelieferte_mengen.ausgelieferte, dbo.abos.ausgaben, dbo.abos.id, dbo.bls.payment_type, dbo.abos_payed_amounts.abo_anteil, 
                      dbo.abos_payed_amounts.anteil_eingezahlt, dbo.abos_payed_amounts.eingezahlt_geld, dbo.bls.Betrag
FROM         dbo.abos INNER JOIN
                      dbo.abos_ausgelieferte_mengen ON dbo.abos.id = dbo.abos_ausgelieferte_mengen.id INNER JOIN
                      dbo.bst ON dbo.abos.bst_id = dbo.bst.B_ID INNER JOIN
                      dbo.bls ON dbo.bst.b_det_ID = dbo.bls.Beleg INNER JOIN
                      dbo.abos_payed_amounts ON dbo.abos.id = dbo.abos_payed_amounts.id
WHERE     (dbo.bls.raten > 1)
GROUP BY dbo.abos.status_id, ROUND(dbo.abos_payed_amounts.anteil_eingezahlt * dbo.abos.ausgaben - 0.25, 0), 
                      dbo.abos_ausgelieferte_mengen.ausgelieferte, dbo.abos.ausgaben, dbo.abos.id, dbo.bls.payment_type, dbo.abos_payed_amounts.abo_anteil, 
                      dbo.abos_payed_amounts.anteil_eingezahlt, dbo.abos_payed_amounts.eingezahlt_geld, dbo.bls.Betrag
HAVING      (dbo.abos.status_id = 147) OR
                      (dbo.abos.status_id = 148) OR
                      (dbo.abos.status_id = 152)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos_ausgelieferte_mengen"
            Begin Extent = 
               Top = 6
               Left = 257
               Bottom = 99
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 6
               Left = 464
               Bottom = 114
               Right = 645
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls"
            Begin Extent = 
               Top = 6
               Left = 683
               Bottom = 114
               Right = 889
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos_payed_amounts"
            Begin Extent = 
               Top = 6
               Left = 927
               Bottom = 114
               Right = 1104
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
    ' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_mit_ratenzahlung'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'     Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_mit_ratenzahlung'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_mit_ratenzahlung'
GO
/****** Object:  View [dbo].[abos_haltbarkeiten_trees]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create view [dbo].[abos_haltbarkeiten_trees]
as
SELECT abos_verkauft_trees.adr_id, abos_verkauft_trees.bks_id, abos_verkauft_trees.first_abo_id, abos_verkauft_trees.last_abo_id, abos_verkauft_trees.first_det_datum, abos_verkauft_trees.first_det_id, abos_verkauft_trees.OE, abos_letzte_ausgabe.Letzte_Ausgabe, convert(datetime,coalesce([stornodatum],case when [letzte_ausgabe] Is Null then [last_det_datum] else dbo.get_abotermin(bks.bks_id,[letzte_ausgabe]) end )) AS Termin, abos_verkauft_trees.Maxvonstorno_datum AS storno_datum, case when coalesce([eingezahlt_geld],0)=0 And abos_payed_amounts.betrag<>0 then 1 else 0 end AS bestellung, abos_verkauft_trees.last_det_datum, bls.payment_type_original, abos.ausgaben/bks.periodicality AS first_duration
FROM ((((bks INNER JOIN abos_verkauft_trees ON bks.bks_id = abos_verkauft_trees.bks_id) LEFT JOIN abos ON abos_verkauft_trees.first_abo_id = abos.id) LEFT JOIN bls ON abos_verkauft_trees.first_bill_id = bls.bill_id) LEFT JOIN abos_letzte_ausgabe ON abos_verkauft_trees.last_abo_id = abos_letzte_ausgabe.id) LEFT JOIN abos_payed_amounts ON abos_letzte_ausgabe.id = abos_payed_amounts.id;
GO
/****** Object:  View [dbo].[abos_haltbarkeiten]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create view [dbo].[abos_haltbarkeiten]
as
SELECT     abos_verkauft_nach_adr_und_bks.adr_id, abos_verkauft_nach_adr_und_bks.bks_id, abos_verkauft_nach_adr_und_bks.first_abo_id, 
                      abos_verkauft_nach_adr_und_bks.first_det_datum, abos_verkauft_nach_adr_und_bks.first_det_id, abos_verkauft_nach_adr_und_bks.OE, 
                      abos_erste_letzte_ausgabe_alle.Letzte_Ausgabe, CONVERT(datetime, COALESCE (abos_verkauft_nach_adr_und_bks.stornodatum, 
                      dbo.get_abotermin(bks.bks_id, abos_erste_letzte_ausgabe_alle.Letzte_Ausgabe))) AS Termin, 
                      abos_verkauft_nach_adr_und_bks.Maxvonstorno_datum AS storno_datum, CASE WHEN COALESCE ([eingezahlt_geld], 0) = 0 AND 
                      abos_payed_amounts.betrag <> 0 THEN 1 ELSE 0 END AS bestellung, abos_verkauft_nach_adr_und_bks.last_det_datum, bls.payment_type_original, 
                      abos.ausgaben / bks_1.periodicality AS first_duration, abos_verkauft_nach_adr_und_bks.anzahl_abos, CASE WHEN abos_laufende.id IS NULL 
                      THEN 0 ELSE 1 END AS laufend
FROM         abos_verkauft_nach_adr_und_bks INNER JOIN
                      abos_erste_letzte_ausgabe_alle ON abos_verkauft_nach_adr_und_bks.last_abo_id = abos_erste_letzte_ausgabe_alle.id INNER JOIN
                      bks ON abos_verkauft_nach_adr_und_bks.bks_id = bks.bks_id INNER JOIN
                      bls ON abos_verkauft_nach_adr_und_bks.first_bill_id = bls.bill_id LEFT OUTER JOIN
                      abos_payed_amounts ON abos_erste_letzte_ausgabe_alle.id = abos_payed_amounts.id LEFT OUTER JOIN
                      abos ON abos_verkauft_nach_adr_und_bks.first_abo_id = abos.id LEFT OUTER JOIN
                      bks AS bks_1 ON abos.bks_id = bks_1.bks_id LEFT OUTER JOIN
                      abos_laufende ON abos_verkauft_nach_adr_und_bks.last_abo_id = abos_laufende.id
GO
/****** Object:  View [dbo].[det_last_payed_bks_id]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[det_last_payed_bks_id] AS SELECT bst_1.b_det_ID, bst_1.b_bks_id, bst.preis AS previous_price FROM bst AS bst_1 INNER JOIN (adr_last_payed_bst_id INNER JOIN bst ON adr_last_payed_bst_id.last_bst_id=bst.B_ID) ON (bst_1.b_bks_id=adr_last_payed_bst_id.bks_id) AND (bst_1.b_adr_ID=adr_last_payed_bst_id.adr_id)
GO
/****** Object:  View [dbo].[lager_details_view]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[lager_details_view]
AS
SELECT     TOP (2147483647) dbo.lager.id, dbo.lager.bks_id, dbo.lager.name, dbo.lager.ausgabe, dbo.lager.ist, dbo.lager.eingekauft, dbo.lager.eingeliefert, 
                      dbo.abotitel_versendet.Summevonmenge AS Versendet, dbo.lager_details.[in verzug], dbo.lager.erstellt_am, dbo.lager.geändert_am, 
                      dbo.lager.status_id, dbo.lager_details.bestellt, dbo.lager_details.eingefroren, dbo.lager_details.ausgeliefert, dbo.lager_details.reserviert, 
                      dbo.lager.ausgabe_reverse
FROM         dbo.lager LEFT OUTER JOIN
                      dbo.lager_details ON dbo.lager.id = dbo.lager_details.id LEFT OUTER JOIN
                      dbo.abotitel_versendet ON dbo.lager_details.ausgabe = dbo.abotitel_versendet.ausgabe AND 
                      dbo.lager_details.bks_id = dbo.abotitel_versendet.bks_id
ORDER BY dbo.lager.ausgabe_reverse DESC
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "lager"
            Begin Extent = 
               Top = 113
               Left = 30
               Bottom = 221
               Right = 195
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "lager_details"
            Begin Extent = 
               Top = 127
               Left = 307
               Bottom = 235
               Right = 460
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abotitel_versendet"
            Begin Extent = 
               Top = 62
               Left = 594
               Bottom = 155
               Right = 758
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'lager_details_view'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'lager_details_view'
GO
/****** Object:  View [dbo].[oe_autoverlängerung]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[oe_autoverlängerung]
AS
SELECT     MAX(dbo.abos.id) AS abo_id, dbo.abos.adr_id, dbo.abos.bks_id
FROM         dbo.abos INNER JOIN
                      dbo.subscriptions_open_end ON dbo.abos.id = dbo.subscriptions_open_end.abo_id LEFT OUTER JOIN
                      dbo.abos_abgelaufen ON dbo.abos.adr_id = dbo.abos_abgelaufen.adr_id AND dbo.abos.bks_id = dbo.abos_abgelaufen.bks_id LEFT OUTER JOIN
                      dbo.abos_laufende LEFT OUTER JOIN
                      dbo.abos_auslaufend_letzte ON dbo.abos_laufende.id = dbo.abos_auslaufend_letzte.id ON dbo.abos.adr_id = dbo.abos_laufende.adr_id AND 
                      dbo.abos.bks_id = dbo.abos_laufende.bks_id LEFT OUTER JOIN
                      dbo.abos_stornierte ON dbo.abos.id = dbo.abos_stornierte.id LEFT OUTER JOIN
                      dbo.abos_eingefrorene ON dbo.abos.id = dbo.abos_eingefrorene.id INNER JOIN
                      dbo.bks ON dbo.abos.bks_id = dbo.bks.bks_id
WHERE     (dbo.abos_stornierte.id IS NULL) AND (dbo.abos_eingefrorene.id IS NULL) AND (dbo.abos_abgelaufen.id IS NOT NULL) AND 
                      (dbo.abos_laufende.id IS NULL) OR
                      (dbo.abos_stornierte.id IS NULL) AND (dbo.abos_eingefrorene.id IS NULL) AND (dbo.abos_auslaufend_letzte.id IS NOT NULL)
GROUP BY dbo.abos.adr_id, dbo.abos.bks_id
GO
/****** Object:  View [dbo].[store_lager_details_view]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[store_lager_details_view]
AS
SELECT     TOP (2147483647) dbo.lager.id, dbo.lager.bks_id, dbo.lager.name, dbo.lager.ausgabe, dbo.lager.ist, dbo.lager.eingekauft, dbo.lager.reserviert, 
                      dbo.lager.eingeliefert, dbo.abotitel_versendet.Summevonmenge AS Versendet, dbo.lager_details.[in verzug], dbo.lager.erstellt_am, 
                      dbo.lager.geändert_am, dbo.lager.status_id, dbo.lager_details.bestellt, dbo.lager_details.eingefroren, dbo.lager_details.ausgeliefert
FROM         dbo.lager LEFT OUTER JOIN
                      dbo.lager_details ON dbo.lager.id = dbo.lager_details.id LEFT OUTER JOIN
                      dbo.abotitel_versendet ON dbo.lager_details.bks_id = dbo.abotitel_versendet.bks_id AND 
                      dbo.lager_details.ausgabe = dbo.abotitel_versendet.ausgabe
ORDER BY dbo.lager.ausgabe % 100 * 100 + dbo.lager.ausgabe / 100 DESC
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "lager"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 203
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "lager_details"
            Begin Extent = 
               Top = 6
               Left = 241
               Bottom = 114
               Right = 394
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abotitel_versendet"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 207
               Right = 202
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'store_lager_details_view'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'store_lager_details_view'
GO
/****** Object:  View [dbo].[status_bezahlte_und_teilweise_bezahlte_rechnungen]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[status_bezahlte_und_teilweise_bezahlte_rechnungen]
AS 
   
   /*
   *   Generated by SQL Server Migration Assistant for Access.
   *   Contact accssma@microsoft.com or visit http://www.microsoft.com/sql/migration for more information.
   */
   SELECT bls.bill_id, bls.bill_nr, status_teilweise_bezahlte_rechnungen_ersteinzahlung.Ersteinzahlung, status_bezahlte_rechnungen.status_datum AS Begleichung
   FROM 
      (bls 
         LEFT JOIN status_bezahlte_rechnungen 
         ON bls.Beleg = status_bezahlte_rechnungen.ds_det_id) 
         LEFT JOIN status_teilweise_bezahlte_rechnungen_ersteinzahlung 
         ON bls.Beleg = status_teilweise_bezahlte_rechnungen_ersteinzahlung.ds_det_id
   GROUP BY bls.bill_id, bls.bill_nr, status_teilweise_bezahlte_rechnungen_ersteinzahlung.Ersteinzahlung, status_bezahlte_rechnungen.status_datum
   HAVING (((status_teilweise_bezahlte_rechnungen_ersteinzahlung.Ersteinzahlung) IS NOT NULL)) OR (((status_bezahlte_rechnungen.status_datum) IS NOT NULL))
GO
/****** Object:  View [dbo].[rechnungen_zur_stornierung]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[rechnungen_zur_stornierung] AS SELECT det.det_ID, det.det_user, det.det_prj_id, det.Thema, det.Projekt, det.det_datum, det.det_adr_ID FROM ((det INNER JOIN bls ON det.det_ID=bls.Beleg) LEFT JOIN status_bezahlte_und_teilweise_bezahlte_rechnungen ON bls.bill_id=status_bezahlte_und_teilweise_bezahlte_rechnungen.bill_id) LEFT JOIN kontos_ein ON det.det_ID=kontos_ein.det_id WHERE (((status_bezahlte_und_teilweise_bezahlte_rechnungen.bill_id) Is Null) AND ((det.storniert) Is Null) AND ((kontos_ein.summe)<=0 Or (kontos_ein.summe) Is Null)) GROUP BY det.det_ID, det.det_user, det.det_prj_id, det.Thema, det.Projekt, det.det_datum, det.det_adr_ID HAVING (((det.det_datum)>='1/1/2008'))
GO
/****** Object:  View [dbo].[st_abohaltbarkeiten]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[st_abohaltbarkeiten]
AS
SELECT     TOP (100) PERCENT CONVERT(varchar(7), first_det_datum, 120) AS [Monat Zugang], COUNT(bks_id) AS [Zugang Menge], 
                      SUM(CASE WHEN [termin] <= ([first_det_datum] + 30) AND [oe] = 0 THEN 1 ELSE 0 END) AS [Abgang 1 Monat], SUM(CASE WHEN ([termin] BETWEEN 
                      [first_det_datum] + 31 AND [first_det_datum] + 59) AND [oe] = 0 THEN 1 ELSE 0 END) AS [2 Monate], SUM(CASE WHEN ([termin] BETWEEN 
                      [first_det_datum] + 60 AND [first_det_datum] + 88) AND [oe] = 0 THEN 1 ELSE 0 END) AS [3 Monate], SUM(CASE WHEN ([termin] BETWEEN 
                      [first_det_datum] + 89 AND [first_det_datum] + 117) AND [oe] = 0 THEN 1 ELSE 0 END) AS [4 Monate], SUM(CASE WHEN ([termin] BETWEEN 
                      [first_det_datum] + 118 AND [first_det_datum] + 146) AND [oe] = 0 THEN 1 ELSE 0 END) AS [5 Monate], SUM(CASE WHEN ([termin] BETWEEN 
                      [first_det_datum] + 147 AND [first_det_datum] + 175) AND [oe] = 0 THEN 1 ELSE 0 END) AS [6 Monate], SUM(CASE WHEN ([termin] BETWEEN 
                      [first_det_datum] + 176 AND [first_det_datum] + 204) AND [oe] = 0 THEN 1 ELSE 0 END) AS [7 Monate], SUM(CASE WHEN ([termin] BETWEEN 
                      [first_det_datum] + 205 AND [first_det_datum] + 233) AND [oe] = 0 THEN 1 ELSE 0 END) AS [8 Monate], SUM(CASE WHEN ([termin] BETWEEN 
                      [first_det_datum] + 234 AND [first_det_datum] + 262) AND [oe] = 0 THEN 1 ELSE 0 END) AS [9 Monate], SUM(CASE WHEN ([termin] BETWEEN 
                      [first_det_datum] + 263 AND [first_det_datum] + 291) AND [oe] = 0 THEN 1 ELSE 0 END) AS [10 Monate], SUM(CASE WHEN ([termin] BETWEEN 
                      [first_det_datum] + 292 AND [first_det_datum] + 320) AND [oe] = 0 THEN 1 ELSE 0 END) AS [11 Monate], SUM(CASE WHEN ([termin] BETWEEN 
                      [first_det_datum] + 321 AND [first_det_datum] + 349) AND [oe] = 0 THEN 1 ELSE 0 END) AS [12 Monate], SUM(CASE WHEN ([termin] BETWEEN 
                      [first_det_datum] + 350 AND [first_det_datum] + 524) AND [oe] = 0 THEN 1 ELSE 0 END) AS [13-18 Monate], SUM(CASE WHEN ([termin] BETWEEN 
                      [first_det_datum] + 525 AND [first_det_datum] + 699) AND [oe] = 0 THEN 1 ELSE 0 END) AS [19-24 Monate], 
                      SUM(CASE WHEN [termin] >= ([first_det_datum] + 700) AND [oe] = 0 THEN 1 ELSE 0 END) AS [Über 24 Monate], SUM(OE) AS [Im Bestand]
FROM         dbo.abos_haltbarkeiten
GROUP BY CONVERT(varchar(7), first_det_datum, 120)
ORDER BY [Monat Zugang]
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos_haltbarkeiten"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 244
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'st_abohaltbarkeiten'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'st_abohaltbarkeiten'
GO
/****** Object:  View [dbo].[lager_restlieferungen]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[lager_restlieferungen] AS SELECT lager_details_view.id, lager_details_view.ausgabe_reverse, lager_details_view.ausgeliefert, lager_details_view.bks_id, lager_details_view.bestellt, lager_details_view.[ist], lager_details_view.eingeliefert FROM lager_details_view WHERE (((lager_details_view.ausgeliefert)>0) AND ((lager_details_view.bestellt)>0) AND ((lager_details_view.[ist])=0))
GO
/****** Object:  View [dbo].[lager_kaufstorniert_ohne_aboaktualisierung]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[lager_kaufstorniert_ohne_aboaktualisierung] AS SELECT lager_details_view.id AS lager_id, lager_details_view.bks_id, lager_details_view.ausgabe FROM lager_details_view WHERE (((lager_details_view.status_id)=173) AND ((lager_details_view.bestellt)>0)) GROUP BY lager_details_view.id, lager_details_view.bks_id, lager_details_view.ausgabe
GO
/****** Object:  View [dbo].[lager_ausgelieferte]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[lager_ausgelieferte] AS SELECT lager_details_view.id, lager_details_view.ausgabe_reverse, lager_details_view.ausgeliefert, lager_details_view.bks_id, lager_details_view.bestellt, lager_details_view.[ist], lager_details_view.eingeliefert FROM lager_details_view WHERE (((lager_details_view.ausgeliefert)>[lager_details_view].[bestellt]) AND ((lager_details_view.bestellt)>0))
GO
/****** Object:  View [dbo].[lager_details_view_mit_termin]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create view [dbo].[lager_details_view_mit_termin]
as
SELECT lager_details_view.*, abos_erscheinungstermine.termin
FROM lager_details_view LEFT JOIN abos_erscheinungstermine ON (lager_details_view.ausgabe = abos_erscheinungstermine.ausgabe) AND (lager_details_view.bks_id = abos_erscheinungstermine.bks_id);
GO
/****** Object:  View [dbo].[abos_bezahlte_nach_adr_und_bks]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_bezahlte_nach_adr_und_bks]
AS
SELECT     MIN(dbo.abos.id) AS first_abo_id, MAX(dbo.abos.id) AS last_abo_id, dbo.abos.adr_id, dbo.abos.bks_id, 
                      MAX(CASE WHEN subscriptions.open_end = 1 THEN 1 ELSE 0 END) AS OE, MIN(dbo.det.det_datum) AS first_det_datum, MAX(dbo.det.det_datum) 
                      AS last_det_datum, COUNT(dbo.abos.id) AS anzahl_abos, MIN(dbo.det.det_ID) AS first_det_id, MAX(dbo.det.det_ID) AS last_det_id
FROM         dbo.status_bezahlte_und_teilweise_bezahlte_rechnungen INNER JOIN
                      dbo.bls ON dbo.status_bezahlte_und_teilweise_bezahlte_rechnungen.bill_id = dbo.bls.bill_id INNER JOIN
                      dbo.subscriptions INNER JOIN
                      dbo.det ON dbo.subscriptions.det_id = dbo.det.det_ID INNER JOIN
                      dbo.abos ON dbo.subscriptions.abo_id = dbo.abos.id ON dbo.bls.Beleg = dbo.det.det_ID
GROUP BY dbo.abos.adr_id, dbo.abos.bks_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "status_bezahlte_und_teilweise_bezahlte_rechnungen"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls"
            Begin Extent = 
               Top = 6
               Left = 245
               Bottom = 114
               Right = 451
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "subscriptions"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 114
               Left = 257
               Bottom = 222
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 222
               Left = 38
               Bottom = 330
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 1380
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_bezahlte_nach_adr_und_bks'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_bezahlte_nach_adr_und_bks'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_bezahlte_nach_adr_und_bks'
GO
/****** Object:  View [dbo].[abos_zur_stornierung]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_zur_stornierung]
AS
SELECT     dbo.det.det_ID, dbo.det.det_user, dbo.det.det_prj_id, dbo.det.Thema, dbo.det.Projekt, dbo.det.det_datum, dbo.det.det_adr_ID
FROM         dbo.bls INNER JOIN
                      dbo.abos LEFT OUTER JOIN
                      dbo.abos_laufende ON dbo.abos.id = dbo.abos_laufende.id INNER JOIN
                      dbo.bst ON dbo.abos.bst_id = dbo.bst.B_ID INNER JOIN
                      dbo.det ON dbo.bst.b_det_ID = dbo.det.det_ID INNER JOIN
                      dbo.abos_eingefrorene ON dbo.abos.id = dbo.abos_eingefrorene.id ON dbo.bls.Beleg = dbo.det.det_ID LEFT OUTER JOIN
                      dbo.status_bezahlte_und_teilweise_bezahlte_rechnungen ON 
                      dbo.bls.bill_id = dbo.status_bezahlte_und_teilweise_bezahlte_rechnungen.bill_id
WHERE     (dbo.abos_eingefrorene.id IS NOT NULL) AND (dbo.status_bezahlte_und_teilweise_bezahlte_rechnungen.bill_id IS NULL) AND 
                      (dbo.det.storniert IS NULL) AND (dbo.bls.payment_type <> 226)
GROUP BY dbo.det.det_ID, dbo.det.det_user, dbo.det.det_prj_id, dbo.det.Thema, dbo.det.Projekt, dbo.det.det_datum, dbo.det.det_adr_ID
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bls"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 244
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 282
               Bottom = 114
               Right = 463
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos_laufende"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 114
               Left = 245
               Bottom = 222
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 222
               Left = 38
               Bottom = 330
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos_eingefrorene"
            Begin Extent = 
               Top = 222
               Left = 257
               Bottom = 330
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "status_bezahlte_und_teilweise_bezahlte_rechnungen"
            Begin Extent = 
               Top = 330
               Left = 38
               Bottom = 438
               Right = 207
      ' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_zur_stornierung'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'      End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_zur_stornierung'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_zur_stornierung'
GO
/****** Object:  View [dbo].[abos_priorities]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_priorities]
AS
SELECT     TOP (2147483647) dbo.abos_laufende_titeln.abos_id, CASE WHEN [ersteinzahlung] IS NOT NULL OR
                      [begleichung] IS NOT NULL THEN 1000 ELSE CASE WHEN [payment_type] = 226 THEN 500 ELSE 0 END END AS pay_priority, CONVERT(datetime, 
                      COALESCE (COALESCE (dbo.status_bezahlte_und_teilweise_bezahlte_rechnungen.Ersteinzahlung, 
                      dbo.status_bezahlte_und_teilweise_bezahlte_rechnungen.Begleichung), GETDATE() + 100)) AS bezahlt_am, 
                      SUM(CASE WHEN abotiteln.status_id = 150 THEN 100 ELSE 0 END) AS send_priority, dbo.abos.adr_id, dbo.abos_laufende_titeln.bks_id, 
                      SUM(CASE WHEN [abotiteln].[status_id] = 150 OR
                      [abotiteln].[status_id] = 156 OR
                      [abotiteln].[status_id] = 173 THEN 100 ELSE 0 END) AS damage_priority
FROM         dbo.abos_laufende_titeln INNER JOIN
                      dbo.abos ON dbo.abos_laufende_titeln.abos_id = dbo.abos.id INNER JOIN
                      dbo.abotiteln ON dbo.abos_laufende_titeln.id = dbo.abotiteln.id INNER JOIN
                      dbo.bst ON dbo.abos.bst_id = dbo.bst.B_ID INNER JOIN
                      dbo.bls ON dbo.bst.b_det_ID = dbo.bls.Beleg LEFT OUTER JOIN
                      dbo.status_bezahlte_und_teilweise_bezahlte_rechnungen ON 
                      dbo.bls.bill_id = dbo.status_bezahlte_und_teilweise_bezahlte_rechnungen.bill_id
GROUP BY dbo.abos_laufende_titeln.abos_id, CASE WHEN [ersteinzahlung] IS NOT NULL OR
                      [begleichung] IS NOT NULL THEN 1000 ELSE CASE WHEN [payment_type] = 226 THEN 500 ELSE 0 END END, CONVERT(datetime, 
                      COALESCE (COALESCE (dbo.status_bezahlte_und_teilweise_bezahlte_rechnungen.Ersteinzahlung, 
                      dbo.status_bezahlte_und_teilweise_bezahlte_rechnungen.Begleichung), GETDATE() + 100)), dbo.abos.adr_id, dbo.abos_laufende_titeln.bks_id
ORDER BY pay_priority DESC, bezahlt_am
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[41] 4[39] 2[1] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos_laufende_titeln"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 245
               Bottom = 114
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 6
               Left = 464
               Bottom = 114
               Right = 633
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 6
               Left = 671
               Bottom = 114
               Right = 852
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 244
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "status_bezahlte_und_teilweise_bezahlte_rechnungen"
            Begin Extent = 
               Top = 114
               Left = 282
               Bottom = 222
               Right = 451
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 1' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_priorities'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'2
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_priorities'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_priorities'
GO
/****** Object:  View [dbo].[bills_wo_bill_nr]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_wo_bill_nr]
AS
SELECT     TOP (2147483647) dbo.bls.bill_id, dbo.bls.Betrag, dbo.bls.abbezahlt, dbo.bls.raten, dbo.bls_parts.serial, dbo.bls.bill_prj_id, dbo.bls.Beleg, 
                      dbo.bls.bill_projekt, dbo.status_bezahlte_und_teilweise_bezahlte_rechnungen.Ersteinzahlung AS bezahlt, dbo.bls.bill_nr, 
                      dbo.storno_rechnungen.ursprungs_rechnungsnummer
FROM         dbo.bls LEFT OUTER JOIN
                      dbo.bls_parts ON dbo.bls.bill_id = dbo.bls_parts.bill_id LEFT OUTER JOIN
                      dbo.status_bezahlte_und_teilweise_bezahlte_rechnungen ON 
                      dbo.bls.bill_id = dbo.status_bezahlte_und_teilweise_bezahlte_rechnungen.bill_id LEFT OUTER JOIN
                      dbo.storno_rechnungen ON dbo.bls.bill_id = dbo.storno_rechnungen.storno_id
WHERE     (dbo.bls.bill_id > 73357) AND (dbo.bls.Betrag > 0) AND (dbo.status_bezahlte_und_teilweise_bezahlte_rechnungen.Ersteinzahlung IS NULL) AND 
                      (dbo.bls.bill_nr IS NULL) AND (dbo.storno_rechnungen.ursprungs_rechnungsnummer IS NULL) AND (dbo.bls_parts.bill_id IS NULL) OR
                      (dbo.bls.bill_id > 73357) AND (dbo.bls.Betrag > 0) AND (dbo.status_bezahlte_und_teilweise_bezahlte_rechnungen.Ersteinzahlung IS NOT NULL) AND 
                      (dbo.bls.bill_nr IS NULL) AND (dbo.bls_parts.bill_id IS NOT NULL) OR
                      (dbo.bls.bill_id > 73357) AND (dbo.bls.Betrag < 0) AND (dbo.bls.bill_nr IS NULL) AND 
                      (dbo.storno_rechnungen.ursprungs_rechnungsnummer IS NOT NULL) OR
                      (dbo.bls.bill_id > 73357) AND (dbo.bls.Betrag > 0) AND (dbo.status_bezahlte_und_teilweise_bezahlte_rechnungen.Ersteinzahlung IS NOT NULL) AND 
                      (dbo.bls.bill_nr IS NULL)
ORDER BY dbo.bls.bill_id
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bls"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 228
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls_parts"
            Begin Extent = 
               Top = 6
               Left = 266
               Bottom = 114
               Right = 431
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "status_bezahlte_und_teilweise_bezahlte_rechnungen"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 191
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "storno_rechnungen"
            Begin Extent = 
               Top = 114
               Left = 229
               Bottom = 222
               Right = 451
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bills_wo_bill_nr'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'bills_wo_bill_nr'
GO
/****** Object:  View [dbo].[bills_new_av]    Script Date: 02/23/2012 10:49:27 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[bills_new_av] AS SELECT bills_full.*, det_last_payed_bks_id.previous_price FROM (bills_full INNER JOIN bills_av ON bills_full.bill_id=bills_av.bill_id) LEFT JOIN det_last_payed_bks_id ON (bills_full.det_id=det_last_payed_bks_id.b_det_ID) AND (bills_full.bks_id=det_last_payed_bks_id.b_bks_id) WHERE (((bills_full.Betrag)>1 Or (bills_full.Betrag)=0))
GO
/****** Object:  View [dbo].[Bestandsstruktur_Objektsicht]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create view [dbo].[Bestandsstruktur_Objektsicht]
as
SELECT     bks.bks_id, dbo.TRIM(bks.titel + N' ' + coalesce(bks.subtitel,N' ')) AS titel, MAX(CASE WHEN [laufend] > 0 THEN 1 ELSE 0 END) AS [Kunde aktiv], 
                      SUM(abos_haltbarkeiten.laufend) AS [Abos aktiv], SUM(CASE WHEN [laufend] > 0 AND [OE] = 0 THEN 1 ELSE 0 END) AS [davon mit Kündigung], 
                      bks.periodicality AS Heftfolge
FROM         bks INNER JOIN
                      abos_haltbarkeiten ON bks.bks_id = abos_haltbarkeiten.bks_id INNER JOIN
                      adr ON abos_haltbarkeiten.adr_id = adr.adr_ID
GROUP BY bks.bks_id, dbo.TRIM(bks.titel + N' ' + coalesce(bks.subtitel,N' ')), bks.periodicality
GO
/****** Object:  View [dbo].[Bestandsstruktur_Kundensicht]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create view [dbo].[Bestandsstruktur_Kundensicht]
as
SELECT abos_haltbarkeiten.adr_id, Max(case when [laufend]>0 then 1 else 0 end) AS [Kunde aktiv], Sum(abos_haltbarkeiten.laufend) AS [Abos aktiv], Sum(case when [laufend]>0 And [OE]=0 then 1 else 0 end) AS [davon mit Kündigung], bks.periodicality AS Heftfolge
FROM bks INNER JOIN abos_haltbarkeiten ON bks.bks_id = abos_haltbarkeiten.bks_id
GROUP BY abos_haltbarkeiten.adr_id, bks.periodicality;
GO
/****** Object:  View [dbo].[xb_abos_erinnerungen]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_abos_erinnerungen]
AS
SELECT     dbo.adressen_billing.company AS Firma, 'Sehr geehrte' + (CASE WHEN [client] LIKE '%Herr%' THEN 'r' ELSE '' END) 
                      + ' ' + dbo.adressen_billing.client + ', ' AS Ansprache, dbo.adressen_billing.client AS Person, dbo.bls.Beleg, dbo.bls.bill_nr, dbo.det.det_datum, 
                      dbo.bls.Betrag, dbo.bls.gutschrift, dbo.adressen_billing.country AS Land, CASE WHEN bls.bill_nr IS NULL 
                      THEN bls_parts.serial ELSE bls.bill_nr END AS auftragsnummer, dbo.adressen_billing.address AS Strasse, dbo.adressen_billing.city AS Ort, 
                      dbo.det.det_adr_ID, dbo.bls.bill_datum, dbo.projektkonten.prj_blz, dbo.projektkonten.prj_konto, dbo.projektkonten.prj_bank, dbo.projektkonten.prj_iban, 
                      dbo.projektkonten.prj_bic AS bic, CASE WHEN [currency] = 'EUR' THEN '€' ELSE [currency] END AS curr, dbo.bls.bill_id, dbo.bls.Beleg AS det_id, NULL 
                      AS versendet, dbo.bst.Artikel AS titel
FROM         dbo.projektkonten RIGHT OUTER JOIN
                      dbo.adr_letzte_einstufung INNER JOIN
                      dbo.adressen_billing INNER JOIN
                      dbo.det ON dbo.adressen_billing.det_ID = dbo.det.det_ID INNER JOIN
                      dbo.bls ON dbo.det.det_ID = dbo.bls.Beleg ON dbo.adr_letzte_einstufung.det_adr_ID = dbo.adressen_billing.adr_ID INNER JOIN
                      dbo.bst ON dbo.det.det_ID = dbo.bst.b_det_ID LEFT OUTER JOIN
                      dbo.status_bezahlte_und_teilweise_bezahlte_rechnungen ON dbo.bls.bill_id = dbo.status_bezahlte_und_teilweise_bezahlte_rechnungen.bill_id ON 
                      dbo.projektkonten.prj_id = dbo.bls.bill_prj_id LEFT OUTER JOIN
                      dbo.bls_parts ON dbo.bls.bill_id = dbo.bls_parts.bill_id
WHERE     (dbo.det.storniert IS NULL) AND (dbo.adr_letzte_einstufung.kontakt <= DATEADD(ww, - 3, CURRENT_TIMESTAMP)) AND (dbo.bls.payment_type <> 226) 
                      AND (dbo.status_bezahlte_und_teilweise_bezahlte_rechnungen.Ersteinzahlung IS NULL) AND 
                      (dbo.status_bezahlte_und_teilweise_bezahlte_rechnungen.bill_id IS NULL)
GROUP BY dbo.adressen_billing.company, 'Sehr geehrte' + CASE WHEN [client] LIKE 'Herr%' THEN 'r' END + ' ' + dbo.adressen_billing.client + ', ', 
                      dbo.adressen_billing.client, dbo.bls.Beleg, dbo.bls.bill_nr, dbo.det.det_datum, dbo.bls.Betrag, dbo.bls.gutschrift, dbo.adressen_billing.country, 
                      dbo.adressen_billing.address, dbo.adressen_billing.city, dbo.det.det_adr_ID, dbo.bls.bill_datum, dbo.projektkonten.prj_blz, 
                      dbo.projektkonten.prj_konto, dbo.projektkonten.prj_bank, dbo.projektkonten.prj_iban, dbo.projektkonten.prj_bic, dbo.bls.bill_id, dbo.bls_parts.serial, 
                      dbo.bls.currency, dbo.bst.Artikel
HAVING      (NOT (dbo.bst.Artikel LIKE N'Rück%') AND NOT (dbo.bst.Artikel LIKE N'%Ausg.%'))
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[51] 4[11] 2[11] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bls_parts"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 121
               Right = 220
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "adr_letzte_einstufung"
            Begin Extent = 
               Top = 6
               Left = 258
               Bottom = 91
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "adressen_billing"
            Begin Extent = 
               Top = 142
               Left = 140
               Bottom = 257
               Right = 308
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 256
               Left = 464
               Bottom = 371
               Right = 646
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bls"
            Begin Extent = 
               Top = 24
               Left = 654
               Bottom = 139
               Right = 861
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "status_bezahlte_und_teilweise_bezahlte_rechnungen"
            Begin Extent = 
               Top = 59
               Left = 966
               Bottom = 174
               Right = 1134
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "projektkonten"
            Begin Extent = 
               Top = 110
               Left = 410
               Bottom = 225
           ' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abos_erinnerungen'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'    Right = 578
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 246
               Left = 774
               Bottom = 361
               Right = 956
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 26
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 2310
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 3660
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abos_erinnerungen'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_abos_erinnerungen'
GO
/****** Object:  View [dbo].[store_sync_abos_amounts]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create view [dbo].[store_sync_abos_amounts]
as
SELECT  top 999999999999999999   store_objects_amounts.requested, store_objects_amounts.delivered, store_objects_amounts.ordered, store_objects_amounts.shipped, 
                      store_objects_amounts.new, lager_details_view_mit_termin.id AS lager_id, lager_details_view_mit_termin.bestellt, 
                      lager_details_view_mit_termin.eingefroren, (CASE WHEN (COALESCE ([ordered], 0) + COALESCE ([requested], 0) = 0) AND 
                      [new] > [bestellt] THEN [bestellt] - [new] ELSE (COALESCE ([bestellt], 0) + COALESCE ([ausgeliefert], 0)) - CASE WHEN COALESCE ([ordered], 0) 
                      > COALESCE ([requested], 0) THEN [ordered] ELSE COALESCE ([requested], 0) END END) AS amount, CASE WHEN CASE WHEN COALESCE ([new], 0) 
                      > 0 THEN CASE WHEN COALESCE ([ordered], 0) > COALESCE ([requested], 0) THEN [ordered] ELSE COALESCE ([requested], 0) 
                      END + [new] ELSE CASE WHEN COALESCE ([ordered], 0) > COALESCE ([requested], 0) THEN [ordered] ELSE COALESCE ([requested], 0) 
                      END END < COALESCE ([bestellt], 0) + COALESCE ([ausgeliefert], 0) THEN CAST(1 AS bit) ELSE CAST(0 AS bit) END AS neue_positionen, 
                      CASE WHEN CASE WHEN COALESCE ([new], 0) > 0 THEN CASE WHEN COALESCE ([ordered], 0) > COALESCE ([requested], 0) 
                      THEN [ordered] ELSE COALESCE ([requested], 0) END + [new] ELSE CASE WHEN COALESCE ([ordered], 0) > COALESCE ([requested], 0) 
                      THEN [ordered] ELSE COALESCE ([requested], 0) END END > (COALESCE ([bestellt], 0) + COALESCE ([ausgeliefert], 0)) THEN CAST(1 AS bit) 
                      ELSE CAST(0 AS bit) END AS überflüssige_position, 
                      lager_details_view_mit_termin.bestellt + lager_details_view_mit_termin.ausgeliefert AS lager_summe
FROM         lager_details_view_mit_termin LEFT OUTER JOIN
                      store_objects_amounts ON lager_details_view_mit_termin.id = store_objects_amounts.lager_id
WHERE     (lager_details_view_mit_termin.termin IS NULL) AND (store_objects_amounts.new > 0) OR
                      (lager_details_view_mit_termin.termin <= DATEADD(m, 6, GETDATE())) OR
                      (lager_details_view_mit_termin.termin IS NULL) OR
                      (lager_details_view_mit_termin.termin <= DATEADD(m, 6, GETDATE())) OR
                      ((CASE WHEN COALESCE ([new] , 0) > 0 THEN CASE WHEN COALESCE ([ordered] , 0) > COALESCE ([requested] , 0) THEN [ordered] ELSE COALESCE ([requested] ,0) END + [new] ELSE CASE WHEN COALESCE ([ordered] , 0) > COALESCE ([requested] , 0) THEN [ordered] ELSE COALESCE ([requested] , 0) END END) > (COALESCE ([bestellt] , 0) + COALESCE ([ausgeliefert] , 0))) OR
                      (CASE WHEN COALESCE ([new] , 0) > 0 THEN CASE WHEN COALESCE ([ordered] , 0) > COALESCE ([requested] , 0) 
                      THEN [ordered] ELSE COALESCE ([requested] , 0) END + [new] ELSE CASE WHEN COALESCE ([ordered] , 0) > COALESCE ([requested] , 0) 
                      THEN [ordered] ELSE COALESCE ([requested] , 0) END END < COALESCE ([bestellt] , 0) + COALESCE ([ausgeliefert] , 0))
GROUP BY store_objects_amounts.requested, store_objects_amounts.delivered, store_objects_amounts.ordered, store_objects_amounts.shipped, 
                      store_objects_amounts.new, lager_details_view_mit_termin.id, lager_details_view_mit_termin.bestellt, lager_details_view_mit_termin.eingefroren, 
                      lager_details_view_mit_termin.bestellt + lager_details_view_mit_termin.ausgeliefert, (CASE WHEN (COALESCE ([ordered], 0) + COALESCE ([requested], 
                      0) = 0) AND [new] > [bestellt] THEN [bestellt] - [new] ELSE (COALESCE ([bestellt], 0) + COALESCE ([ausgeliefert], 0)) - CASE WHEN COALESCE ([ordered], 
                      0) > COALESCE ([requested], 0) THEN [ordered] ELSE COALESCE ([requested], 0) END END), CASE WHEN CASE WHEN COALESCE ([new], 0) 
                      > 0 THEN CASE WHEN COALESCE ([ordered], 0) > COALESCE ([requested], 0) THEN [ordered] ELSE COALESCE ([requested], 0) 
                      END + [new] ELSE CASE WHEN COALESCE ([ordered], 0) > COALESCE ([requested], 0) THEN [ordered] ELSE COALESCE ([requested], 0) 
                      END END < COALESCE ([bestellt], 0) + COALESCE ([ausgeliefert], 0) THEN CAST(1 AS bit) ELSE CAST(0 AS bit) END, 
                      CASE WHEN CASE WHEN COALESCE ([new], 0) > 0 THEN CASE WHEN COALESCE ([ordered], 0) > COALESCE ([requested], 0) 
                      THEN [ordered] ELSE COALESCE ([requested], 0) END + [new] ELSE CASE WHEN COALESCE ([ordered], 0) > COALESCE ([requested], 0) 
                      THEN [ordered] ELSE COALESCE ([requested], 0) END END > (COALESCE ([bestellt], 0) + COALESCE ([ausgeliefert], 0)) THEN CAST(1 AS bit) 
                      ELSE CAST(0 AS bit) END
HAVING      (store_objects_amounts.new > 0)
ORDER BY amount DESC
GO
/****** Object:  View [dbo].[xb_aboverwaltung_auslieferung_liste]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_aboverwaltung_auslieferung_liste]
AS
SELECT     TOP (2147483647) dbo.adressen_shipment.adr_ID, CONVERT(int, dbo.abotiteln.id) AS abotitel_id, dbo.bst.b_det_ID AS Bestellnummer, 
                      dbo.abos.bks_id, dbo.adressen_shipment.company AS Firma, dbo.adressen_shipment.client AS Person, dbo.adressen_shipment.address AS Strasse, 
                      dbo.adressen_shipment.city AS Ort, dbo.adressen_shipment.country AS Land, dbo.abos.bezeichnung, dbo.fnTranslit(dbo.abos.bezeichnung, 'en') 
                      AS translit, dbo.abotiteln.ausgabe AS Ausgaben_nr, '' AS Versendet, 90990 AS VKZ, dbo.abotiteln.ausgabe, dbo.abotiteln.menge
FROM         dbo.abos_priorities RIGHT OUTER JOIN
                      dbo.det INNER JOIN
                      dbo.bst ON dbo.det.det_ID = dbo.bst.b_det_ID INNER JOIN
                      dbo.abos INNER JOIN
                      dbo.abotiteln ON dbo.abos.id = dbo.abotiteln.abos_id ON dbo.bst.B_ID = dbo.abos.bst_id ON dbo.abos_priorities.abos_id = dbo.abos.id INNER JOIN
                      dbo.adressen_shipment ON dbo.det.det_ID = dbo.adressen_shipment.det_ID
WHERE     (dbo.abotiteln.status_id = 154) AND (dbo.abotiteln.geändert_am BETWEEN DATEADD(hh, - 48, GETDATE()) AND DATEADD(hh, 8, GETDATE()))
GROUP BY dbo.adressen_shipment.adr_ID, dbo.bst.b_det_ID, dbo.abos.bks_id, dbo.adressen_shipment.company, dbo.adressen_shipment.client, 
                      dbo.adressen_shipment.address, dbo.adressen_shipment.city, dbo.adressen_shipment.country, dbo.abos.bezeichnung, dbo.abos.bezeichnung, 
                      dbo.abotiteln.ausgabe, dbo.abotiteln.ausgabe, dbo.abotiteln.menge, dbo.abos.erstellt_am, CONVERT(int, dbo.abotiteln.id)
ORDER BY dbo.abos.bezeichnung, Ausgaben_nr, dbo.abos.erstellt_am
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos_priorities"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 212
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det"
            Begin Extent = 
               Top = 6
               Left = 250
               Bottom = 114
               Right = 431
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 114
               Left = 257
               Bottom = 222
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 222
               Left = 38
               Bottom = 330
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "adressen_shipment"
            Begin Extent = 
               Top = 222
               Left = 245
               Bottom = 330
               Right = 414
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 18
         Width = 284
         Width = 1500
         Width = 15' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_aboverwaltung_auslieferung_liste'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'00
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 2520
         Alias = 1260
         Table = 1620
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 4470
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_aboverwaltung_auslieferung_liste'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_aboverwaltung_auslieferung_liste'
GO
/****** Object:  View [dbo].[xb_aboverwaltung_auslieferung_alle]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_aboverwaltung_auslieferung_alle]
AS
SELECT     TOP (2147483647) dbo.abotiteln.id AS abotitel_id, dbo.abos.id AS abo_id, dbo.abos.bks_id, dbo.abos.bezeichnung, dbo.abotiteln.ausgabe, 
                      dbo.abotiteln.status_id, dbo.abos_priorities.pay_priority, dbo.abos_priorities.damage_priority, CONVERT(datetime, 
                      COALESCE (dbo.abos_priorities.bezahlt_am, GETDATE() + 100)) AS payment_date, dbo.abos.erstellt_am, dbo.abotiteln.menge, dbo.abos.adr_id
FROM         dbo.abos_laufende_und_reservierte INNER JOIN
                      dbo.abos INNER JOIN
                      dbo.abotiteln ON dbo.abos.id = dbo.abotiteln.abos_id LEFT OUTER JOIN
                      dbo.abos_priorities ON dbo.abos.id = dbo.abos_priorities.abos_id ON dbo.abos_laufende_und_reservierte.id = dbo.abotiteln.id
WHERE     (dbo.abotiteln.status_id <> 149) OR
                      (dbo.abotiteln.status_id IS NULL)
GROUP BY dbo.abos.id, dbo.abotiteln.id, dbo.abos.bks_id, dbo.abos.bezeichnung, dbo.abotiteln.ausgabe, dbo.abotiteln.status_id, 
                      dbo.abos_priorities.pay_priority, dbo.abos_priorities.damage_priority, CONVERT(datetime, COALESCE (dbo.abos_priorities.bezahlt_am, GETDATE() 
                      + 100)), dbo.abos.erstellt_am, dbo.abotiteln.menge, dbo.abos.adr_id
ORDER BY dbo.abos_priorities.pay_priority DESC, dbo.abos_priorities.damage_priority DESC, payment_date, dbo.abos.erstellt_am
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos_laufende_und_reservierte"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 6
               Left = 245
               Bottom = 114
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abotiteln"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 207
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos_priorities"
            Begin Extent = 
               Top = 114
               Left = 245
               Bottom = 222
               Right = 419
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_aboverwaltung_auslieferung_alle'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_aboverwaltung_auslieferung_alle'
GO
/****** Object:  View [dbo].[adressen_abotitel_anzahlen]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create view [dbo].[adressen_abotitel_anzahlen] as 
SELECT     adr_id, COUNT(bks_id) AS titelanzahl
FROM         abos_bezahlte_nach_adr_und_bks
GROUP BY adr_id
GO
/****** Object:  View [dbo].[adressen_bonität_abos]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[adressen_bonität_abos]
AS
SELECT     TOP (2147483647) dbo.adr.adr_ID, COUNT(dbo.bills_payed.bill_id) AS bezahlt, SUM(CASE WHEN [bills_storniert].[bill_id] IS NOT NULL AND 
                      [bills_payed_amounts].[eingezahlt] = 0 THEN 1 ELSE 0 END) AS storniert, SUM(CASE WHEN [bills_payed_amounts].[eingezahlt] > 0 AND 
                      [bills_payed].[bill_id] IS NULL AND [bills_storniert].[bill_id] IS NULL THEN 1 ELSE 0 END) AS teilweise_bezahlt, COUNT(dbo.bls.bill_id) AS rechnungen, 
                      SUM(CASE WHEN [bills_payed_amounts].[eingezahlt] = 0 AND [bills_payed].[bill_id] IS NULL AND [bills_storniert].[bill_id] IS NULL AND 
                      [bls].[bill_datum] < (getDate() - 30) THEN 1 ELSE 0 END) AS nichtbezahlt_30, dbo.det_zahlungserinnerungen_anzahl.anzahl AS Zahlungserinnerungen, 
                      dbo.det_zahlungserinnerungen_anzahl.letzte AS Letzte_Zahllungserinnerung, SUM(CASE WHEN [bills_payed].[bill_id] IS NULL AND 
                      [bills_storniert].[bill_id] IS NULL AND letztes_einzahlungsdatum IS NULL THEN [bls].[betrag] - [eingezahlt] ELSE 0 END) AS Nichtbezahlt_Summe, 
                      SUM(dbo.bills_payed_amounts.eingezahlt) AS bezahlt_summ, dbo.adressen_abotitel_anzahlen.titelanzahl
FROM         dbo.bls LEFT OUTER JOIN
                      dbo.bills_storniert ON dbo.bls.bill_id = dbo.bills_storniert.bill_id LEFT OUTER JOIN
                      dbo.bills_payed ON dbo.bls.bill_id = dbo.bills_payed.bill_id INNER JOIN
                      dbo.adr ON dbo.bls.bill_adr_id = dbo.adr.adr_ID INNER JOIN
                      dbo.abo_projekte ON dbo.bls.bill_prj_id = dbo.abo_projekte.prj_id LEFT OUTER JOIN
                      dbo.bills_payed_amounts ON dbo.bls.bill_id = dbo.bills_payed_amounts.bill_id LEFT OUTER JOIN
                      dbo.adressen_abotitel_anzahlen ON dbo.adr.adr_ID = dbo.adressen_abotitel_anzahlen.adr_id LEFT OUTER JOIN
                      dbo.det_zahlungserinnerungen_anzahl ON dbo.adr.adr_ID = dbo.det_zahlungserinnerungen_anzahl.det_adr_ID
WHERE     (dbo.bls.bill_datum >= CONVERT(DATETIME, '2009-01-10 00:00:00', 102)) AND (dbo.bls.Betrag > 0)
GROUP BY dbo.adr.adr_ID, dbo.det_zahlungserinnerungen_anzahl.anzahl, dbo.det_zahlungserinnerungen_anzahl.letzte, 
                      dbo.adressen_abotitel_anzahlen.titelanzahl
ORDER BY SUM(CASE WHEN [bills_payed].[bill_id] IS NULL AND [bills_storniert].[bill_id] IS NULL AND letztes_einzahlungsdatum IS NULL 
                      THEN [bls].[betrag] - [eingezahlt] ELSE 0 END) DESC
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[52] 4[22] 2[8] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "bls"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 121
               Right = 245
            End
            DisplayFlags = 280
            TopColumn = 4
         End
         Begin Table = "bills_storniert"
            Begin Extent = 
               Top = 6
               Left = 283
               Bottom = 91
               Right = 451
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bills_payed"
            Begin Extent = 
               Top = 126
               Left = 38
               Bottom = 211
               Right = 206
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "adr"
            Begin Extent = 
               Top = 216
               Left = 38
               Bottom = 331
               Right = 220
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abo_projekte"
            Begin Extent = 
               Top = 216
               Left = 258
               Bottom = 301
               Right = 426
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "adressen_abotitel_anzahlen"
            Begin Extent = 
               Top = 306
               Left = 258
               Bottom = 391
               Right = 522
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "det_zahlungserinnerungen_anzahl"
            Begin Extent = 
               Top = 336
               Left = 38
               Bottom = 451
               Right = 206
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_bonität_abos'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bills_payed_amounts"
            Begin Extent = 
               Top = 9
               Left = 495
               Bottom = 288
               Right = 716
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 13
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 16380
         Alias = 2220
         Table = 1695
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1410
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_bonität_abos'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'adressen_bonität_abos'
GO
/****** Object:  View [dbo].[abos_priorisiert_mit_erstausgabe]    Script Date: 02/23/2012 10:49:26 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[abos_priorisiert_mit_erstausgabe]
AS
SELECT     TOP (2147483647) dbo.xb_aboverwaltung_auslieferung_alle.abo_id, dbo.xb_aboverwaltung_auslieferung_alle.adr_id, 
                      dbo.xb_aboverwaltung_auslieferung_alle.bks_id, dbo.abos_erste_letzte_ausgabe.Erste_Ausgabe, dbo.bst.Praemie AS ab_ausgabe
FROM         dbo.abos_erste_letzte_ausgabe INNER JOIN
                      dbo.xb_aboverwaltung_auslieferung_alle ON dbo.abos_erste_letzte_ausgabe.id = dbo.xb_aboverwaltung_auslieferung_alle.abo_id INNER JOIN
                      dbo.abos ON dbo.abos_erste_letzte_ausgabe.id = dbo.abos.id INNER JOIN
                      dbo.bst ON dbo.abos.bst_id = dbo.bst.B_ID
GROUP BY dbo.xb_aboverwaltung_auslieferung_alle.adr_id, dbo.xb_aboverwaltung_auslieferung_alle.abo_id, dbo.xb_aboverwaltung_auslieferung_alle.bks_id, 
                      dbo.abos_erste_letzte_ausgabe.Erste_Ausgabe, dbo.bst.Praemie, dbo.xb_aboverwaltung_auslieferung_alle.payment_date, 
                      dbo.xb_aboverwaltung_auslieferung_alle.erstellt_am
ORDER BY dbo.xb_aboverwaltung_auslieferung_alle.payment_date, dbo.xb_aboverwaltung_auslieferung_alle.erstellt_am
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "abos_erste_letzte_ausgabe"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 212
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "abos"
            Begin Extent = 
               Top = 114
               Left = 38
               Bottom = 222
               Right = 219
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "bst"
            Begin Extent = 
               Top = 114
               Left = 257
               Bottom = 222
               Right = 438
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "xb_aboverwaltung_auslieferung_alle"
            Begin Extent = 
               Top = 6
               Left = 250
               Bottom = 114
               Right = 424
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_priorisiert_mit_erstausgabe'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'abos_priorisiert_mit_erstausgabe'
GO
/****** Object:  View [dbo].[xb_aboverwaltung_auslieferung_liste_rest]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_aboverwaltung_auslieferung_liste_rest]
AS
SELECT     adr_ID, abotitel_id, Bestellnummer, bks_id, Firma, Person, Strasse, Ort, Land, bezeichnung, translit, Ausgaben_nr, Versendet, VKZ, ausgabe, menge
FROM         dbo.xb_aboverwaltung_auslieferung_liste
WHERE     (menge <= 1) AND (Land IS NULL OR
                      Land = '' OR
                      Land = 'deutschland' OR
                      Land = 'germany')
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "xb_aboverwaltung_auslieferung_liste"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 248
               Right = 410
            End
            DisplayFlags = 280
            TopColumn = 4
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_aboverwaltung_auslieferung_liste_rest'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_aboverwaltung_auslieferung_liste_rest'
GO
/****** Object:  View [dbo].[xb_aboverwaltung_auslieferung_liste_mengen]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_aboverwaltung_auslieferung_liste_mengen]
AS
SELECT     adr_ID, abotitel_id, Bestellnummer, bks_id, Firma, Person, Strasse, Ort, Land, bezeichnung, translit, Ausgaben_nr, Versendet, VKZ, ausgabe, 
                      menge
FROM         dbo.xb_aboverwaltung_auslieferung_liste
WHERE     (menge > 1)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "xb_aboverwaltung_auslieferung_liste"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 191
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 10
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_aboverwaltung_auslieferung_liste_mengen'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_aboverwaltung_auslieferung_liste_mengen'
GO
/****** Object:  View [dbo].[xb_aboverwaltung_auslieferung_liste_ausland]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_aboverwaltung_auslieferung_liste_ausland]
AS
SELECT     adr_ID, abotitel_id, Bestellnummer, bks_id, Firma, Person, Strasse, Ort, Land, bezeichnung, translit, Ausgaben_nr, Versendet, VKZ, ausgabe, 
                      menge
FROM         dbo.xb_aboverwaltung_auslieferung_liste
WHERE     (Land IS NOT NULL) AND (Land <> 'Deutschland') AND (Land <> '') AND (menge <= 1)
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "xb_aboverwaltung_auslieferung_liste"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 114
               Right = 191
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 17
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 3810
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_aboverwaltung_auslieferung_liste_ausland'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_aboverwaltung_auslieferung_liste_ausland'
GO
/****** Object:  View [dbo].[xb_aboverwaltung_auslieferung_objekte]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_aboverwaltung_auslieferung_objekte]
AS
SELECT     TOP (2147483647) 0 AS ph1, 0 AS ph2, 0 AS ph3, 0 AS ph4, dbo.xb_aboverwaltung_auslieferung_liste.bks_id, dbo.fueller(N'*', 10) AS ph5, 
                      'OBJEKTWECHSEL' AS Ausdr2, dbo.fueller(N'*', 10) AS ph6, dbo.fueller(N'*', 10) AS ph7, dbo.fueller(N'*', 10) AS ph8, dbo.TRIM(COALESCE (dbo.bks.titel,
                       N'') + N'' + COALESCE (dbo.bks.subtitel, N'')) AS titel, dbo.fnTranslit(dbo.TRIM(COALESCE (dbo.bks.titel, N'') + N'' + COALESCE (dbo.bks.subtitel, N'')), 
                      'en') AS titel_translit, dbo.xb_aboverwaltung_auslieferung_liste.Ausgaben_nr, NULL AS ph11, 0 AS ph12, 
                      dbo.xb_aboverwaltung_auslieferung_liste.ausgabe, SUM(dbo.xb_aboverwaltung_auslieferung_liste.menge) AS Summevonmenge
FROM         dbo.xb_aboverwaltung_auslieferung_liste INNER JOIN
                      dbo.bks ON dbo.xb_aboverwaltung_auslieferung_liste.bks_id = dbo.bks.bks_id
GROUP BY dbo.xb_aboverwaltung_auslieferung_liste.bks_id, dbo.TRIM(COALESCE (dbo.bks.titel, N'') + N'' + COALESCE (dbo.bks.subtitel, N'')), 
                      dbo.xb_aboverwaltung_auslieferung_liste.Ausgaben_nr, dbo.xb_aboverwaltung_auslieferung_liste.ausgabe
ORDER BY titel, dbo.xb_aboverwaltung_auslieferung_liste.Ausgaben_nr
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "xb_aboverwaltung_auslieferung_liste"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 287
               Right = 352
            End
            DisplayFlags = 280
            TopColumn = 1
         End
         Begin Table = "bks"
            Begin Extent = 
               Top = 105
               Left = 555
               Bottom = 213
               Right = 736
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 18
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_aboverwaltung_auslieferung_objekte'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'xb_aboverwaltung_auslieferung_objekte'
GO
/****** Object:  View [dbo].[xb_aboverwaltung_auslieferung_liste_rest_rest]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[xb_aboverwaltung_auslieferung_liste_rest_rest]
AS
SELECT     xb_aboverwaltung_auslieferung_liste_rest.adr_ID, xb_aboverwaltung_auslieferung_liste_rest.abotitel_id, 
                      xb_aboverwaltung_auslieferung_liste_rest.Bestellnummer, xb_aboverwaltung_auslieferung_liste_rest.bks_id, 
                      xb_aboverwaltung_auslieferung_liste_rest.Firma, xb_aboverwaltung_auslieferung_liste_rest.Person, 
                      xb_aboverwaltung_auslieferung_liste_rest.Strasse, xb_aboverwaltung_auslieferung_liste_rest.Ort, xb_aboverwaltung_auslieferung_liste_rest.Land, 
                      xb_aboverwaltung_auslieferung_liste_rest.bezeichnung, xb_aboverwaltung_auslieferung_liste_rest.translit, 
                      xb_aboverwaltung_auslieferung_liste_rest.Ausgaben_nr, xb_aboverwaltung_auslieferung_liste_rest.Versendet, 
                      xb_aboverwaltung_auslieferung_liste_rest.VKZ, xb_aboverwaltung_auslieferung_liste_rest.ausgabe, 
                      xb_aboverwaltung_auslieferung_liste_rest.menge
FROM         xb_aboverwaltung_auslieferung_objekte INNER JOIN
                      xb_aboverwaltung_auslieferung_liste_rest ON xb_aboverwaltung_auslieferung_objekte.bks_id = xb_aboverwaltung_auslieferung_liste_rest.bks_id AND
                       xb_aboverwaltung_auslieferung_objekte.ausgabe = xb_aboverwaltung_auslieferung_liste_rest.ausgabe
WHERE     (xb_aboverwaltung_auslieferung_objekte.Summevonmenge < 50)
GO
/****** Object:  View [dbo].[xb_abos_inkasso]    Script Date: 02/23/2012 10:49:28 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create view [dbo].[xb_abos_inkasso] AS
SELECT     adressen_bonität_abos.adr_ID, adressen_bonität_abos.bezahlt, adressen_bonität_abos.storniert, adressen_bonität_abos.teilweise_bezahlt, 
                      adressen_bonität_abos.rechnungen, adressen_bonität_abos.nichtbezahlt_30, adressen_bonität_abos.Zahlungserinnerungen, 
                      adressen_bonität_abos.Letzte_Zahllungserinnerung, adressen_bonität_abos.Nichtbezahlt_Summe, adressen_bonität_abos.bezahlt_summ, 
                      adressen_bonität_abos.titelanzahl, xb_abos_erinnerungen.bill_id, xb_abos_erinnerungen.det_id, xb_abos_erinnerungen.versendet, 
                      xb_abos_erinnerungen.titel, 
                      CASE WHEN bezahlt > 0 THEN adressen_bonität_abos.Nichtbezahlt_Summe / adressen_bonität_abos.bezahlt_summ ELSE 1 END AS Verhältnis
FROM         adressen_bonität_abos INNER JOIN
                      xb_abos_erinnerungen ON adressen_bonität_abos.adr_ID = xb_abos_erinnerungen.det_adr_ID
WHERE     (adressen_bonität_abos.Zahlungserinnerungen > 1) AND (NOT (adressen_bonität_abos.Letzte_Zahllungserinnerung IS NULL)) AND 
                      (adressen_bonität_abos.Letzte_Zahllungserinnerung >= DATEADD(m, - 3, CURRENT_TIMESTAMP)) AND 
                      (CASE WHEN bezahlt > 0 THEN adressen_bonität_abos.Nichtbezahlt_Summe / adressen_bonität_abos.bezahlt_summ ELSE 1 END > 0.2)
GO

